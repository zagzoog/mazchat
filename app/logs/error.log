[24-Mar-2025 00:52:44 Europe/London] PHP Fatal error:  Uncaught Error: Call to a member function getConfig() on null in C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\plugins.php:155
Stack trace:
#0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\plugins.php(191): PluginsController->getPluginSettings()
#1 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\plugins.php on line 155
[24-Mar-2025 00:56:29 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 00:56:29 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 00:56:29 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:56:29 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:56:29 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 00:56:29 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 00:56:29 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 00:56:29 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 00:56:29 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 00:56:29 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:56:29 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:56:29 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 00:56:29 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 00:56:29 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 00:56:29 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 00:56:29 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 00:56:29 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:56:29 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:56:29 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 00:56:29 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 00:56:29 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 00:56:29 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 00:56:29 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 00:56:29 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:56:29 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:56:29 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 00:56:29 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 00:56:29 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 00:56:29 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 00:56:29 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 00:56:29 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:56:29 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:56:29 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 00:56:29 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 00:56:29 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 00:57:07 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 00:57:07 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 00:57:07 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:57:07 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:57:07 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 00:57:07 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 00:57:07 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 00:57:07 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 00:57:07 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 00:57:07 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:57:07 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:57:07 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 00:57:07 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 00:57:07 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 00:57:07 Europe/London] Attempting to activate plugin: TestMarketplacePlugin
[24-Mar-2025 00:57:07 Europe/London] Available plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 00:57:07 Europe/London] Plugin not found in loaded plugins: TestMarketplacePlugin
[24-Mar-2025 00:57:07 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 00:57:07 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 00:57:07 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:57:07 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:57:07 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 00:57:07 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 00:57:07 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 00:57:07 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 00:57:07 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 00:57:07 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:57:07 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:57:07 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 00:57:07 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 00:57:07 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 00:57:07 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 00:57:07 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 00:57:07 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:57:07 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:57:07 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 00:57:07 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 00:57:07 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 00:58:39 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 00:58:39 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 00:58:39 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:58:39 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:58:39 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 00:58:39 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 00:58:39 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 00:58:41 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 00:58:41 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 00:58:41 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:58:41 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:58:41 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 00:58:41 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 00:58:41 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 00:58:41 Europe/London] Attempting to activate plugin: TestMarketplacePlugin
[24-Mar-2025 00:58:41 Europe/London] Available plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 00:58:41 Europe/London] Plugin not found in loaded plugins: TestMarketplacePlugin
[24-Mar-2025 00:58:41 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 00:58:41 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 00:58:41 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:58:41 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:58:41 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 00:58:41 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 00:58:41 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 00:58:41 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 00:58:41 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 00:58:41 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:58:41 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:58:41 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 00:58:41 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 00:58:41 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 00:58:41 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 00:58:41 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 00:58:41 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:58:41 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:58:41 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 00:58:41 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 00:58:41 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 00:59:31 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 00:59:31 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 00:59:31 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:59:31 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:59:31 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 00:59:31 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 00:59:31 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 00:59:33 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 00:59:33 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 00:59:33 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:59:33 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:59:33 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 00:59:33 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 00:59:33 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 00:59:33 Europe/London] Attempting to activate plugin: TestMarketplacePlugin
[24-Mar-2025 00:59:33 Europe/London] Available plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 00:59:33 Europe/London] Plugin not found in loaded plugins: TestMarketplacePlugin
[24-Mar-2025 00:59:33 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 00:59:33 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 00:59:33 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:59:33 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:59:33 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 00:59:33 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 00:59:33 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 00:59:33 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 00:59:33 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 00:59:33 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:59:33 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:59:33 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 00:59:33 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 00:59:33 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 00:59:33 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 00:59:33 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 00:59:33 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:59:33 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 00:59:33 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 00:59:33 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 00:59:33 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:00:29 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:00:29 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:00:29 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:00:29 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:00:29 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:00:29 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:00:29 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:00:31 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:00:31 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:00:31 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:00:31 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:00:31 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:00:31 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:00:31 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:00:31 Europe/London] Attempting to activate plugin: TestMarketplacePlugin
[24-Mar-2025 01:00:31 Europe/London] Available plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:00:31 Europe/London] Plugin not found in loaded plugins: TestMarketplacePlugin
[24-Mar-2025 01:00:31 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:00:31 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:00:31 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:00:31 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:00:31 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:00:31 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:00:31 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:00:31 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:00:31 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:00:31 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:00:31 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:00:31 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:00:31 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:00:31 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:00:31 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:00:31 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:00:31 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:00:32 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:00:32 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:00:32 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:00:32 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:01:28 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:01:28 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:01:28 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:01:28 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:01:28 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:01:28 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:01:28 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:01:28 Europe/London] Created temporary directory: C:\Users\zagzo\AppData\Local\Temp/plugin_67e0aee8d81b6
[24-Mar-2025 01:01:28 Europe/London] Extracted ZIP file to: C:\Users\zagzo\AppData\Local\Temp/plugin_67e0aee8d81b6
[24-Mar-2025 01:01:28 Europe/London] Files in temp directory: Array
(
    [0] => .
    [1] => ..
    [2] => TestMarketplacePlugin
)

[24-Mar-2025 01:01:28 Europe/London] Plugin name: TestMarketplacePlugin
[24-Mar-2025 01:01:28 Europe/London] Plugin directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat\app/plugins/TestMarketplacePlugin
[24-Mar-2025 01:01:30 Europe/London] Removing existing plugin directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat\app/plugins/TestMarketplacePlugin
[24-Mar-2025 01:01:30 Europe/London] Moving plugin from C:\Users\zagzo\AppData\Local\Temp/plugin_67e0aee8d81b6/TestMarketplacePlugin to C:\Users\zagzo\Downloads\UniServerZ\www\chat\app/plugins/TestMarketplacePlugin
[24-Mar-2025 01:01:30 Europe/London] Reloading plugins
[24-Mar-2025 01:01:30 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:01:30 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:01:30 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:01:30 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:01:30 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:01:30 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:01:30 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:01:30 Europe/London] Attempting to activate plugin: TestMarketplacePlugin
[24-Mar-2025 01:01:30 Europe/London] Available plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:01:30 Europe/London] Plugin not found in loaded plugins: TestMarketplacePlugin
[24-Mar-2025 01:01:30 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:01:30 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:01:30 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:01:30 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:01:30 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:01:30 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:01:30 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:01:30 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:01:30 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:01:30 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:01:30 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:01:30 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:01:30 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:01:30 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:01:30 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:01:30 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:01:30 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:01:30 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:01:30 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:01:30 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:01:30 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:02:34 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:02:34 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:02:34 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:02:34 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:02:34 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:02:34 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:02:34 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:02:34 Europe/London] Created temporary directory: C:\Users\zagzo\AppData\Local\Temp/plugin_67e0af2a88b86
[24-Mar-2025 01:02:34 Europe/London] Extracted ZIP file to: C:\Users\zagzo\AppData\Local\Temp/plugin_67e0af2a88b86
[24-Mar-2025 01:02:34 Europe/London] Files in temp directory: Array
(
    [0] => .
    [1] => ..
    [2] => TestMarketplacePlugin
)

[24-Mar-2025 01:02:34 Europe/London] Plugin name: TestMarketplacePlugin
[24-Mar-2025 01:02:34 Europe/London] Plugin directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat\app/plugins/TestMarketplacePlugin
[24-Mar-2025 01:02:36 Europe/London] Removing existing plugin directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat\app/plugins/TestMarketplacePlugin
[24-Mar-2025 01:02:36 Europe/London] Moving plugin from C:\Users\zagzo\AppData\Local\Temp/plugin_67e0af2a88b86/TestMarketplacePlugin to C:\Users\zagzo\Downloads\UniServerZ\www\chat\app/plugins/TestMarketplacePlugin
[24-Mar-2025 01:02:36 Europe/London] Reloading plugins
[24-Mar-2025 01:02:36 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:02:36 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:02:36 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:02:36 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:02:36 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:02:36 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:02:36 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:02:36 Europe/London] Attempting to activate plugin: TestMarketplacePlugin
[24-Mar-2025 01:02:36 Europe/London] Available plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:02:36 Europe/London] Plugin not found in loaded plugins: TestMarketplacePlugin
[24-Mar-2025 01:02:36 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:02:36 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:02:36 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:02:36 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:02:36 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:02:36 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:02:36 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:02:36 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:02:36 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:02:36 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:02:36 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:02:36 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:02:36 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:02:36 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:02:36 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:02:36 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:02:36 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:02:36 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:02:36 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:02:36 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:02:36 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:03:40 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:03:40 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:03:40 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:03:40 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:03:40 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:03:40 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:03:40 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:03:40 Europe/London] Created temporary directory: C:\Users\zagzo\AppData\Local\Temp/plugin_67e0af6c6ecc2
[24-Mar-2025 01:03:40 Europe/London] Extracted ZIP file to: C:\Users\zagzo\AppData\Local\Temp/plugin_67e0af6c6ecc2
[24-Mar-2025 01:03:40 Europe/London] Files in temp directory: Array
(
    [0] => .
    [1] => ..
    [2] => TestMarketplacePlugin
)

[24-Mar-2025 01:03:40 Europe/London] Plugin name: TestMarketplacePlugin
[24-Mar-2025 01:03:40 Europe/London] Plugin directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat\app/plugins/TestMarketplacePlugin
[24-Mar-2025 01:03:42 Europe/London] Removing existing plugin directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat\app/plugins/TestMarketplacePlugin
[24-Mar-2025 01:03:42 Europe/London] Moving plugin from C:\Users\zagzo\AppData\Local\Temp/plugin_67e0af6c6ecc2/TestMarketplacePlugin to C:\Users\zagzo\Downloads\UniServerZ\www\chat\app/plugins/TestMarketplacePlugin
[24-Mar-2025 01:03:42 Europe/London] Reloading plugins
[24-Mar-2025 01:03:42 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:03:42 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:03:42 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:03:42 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:03:42 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:03:42 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:03:42 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:03:42 Europe/London] Attempting to activate plugin: TestMarketplacePlugin
[24-Mar-2025 01:03:42 Europe/London] Available plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:03:42 Europe/London] Plugin not found in loaded plugins: TestMarketplacePlugin
[24-Mar-2025 01:03:42 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:03:42 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:03:42 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:03:42 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:03:42 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:03:42 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:03:42 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:03:42 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:03:42 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:03:42 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:03:42 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:03:42 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:03:42 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:03:42 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:03:42 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:03:42 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:03:42 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:03:42 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:03:42 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:03:42 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:03:42 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:04:41 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:04:41 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:04:41 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:04:41 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:04:41 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:04:41 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:04:41 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:04:41 Europe/London] Starting plugin upload process
[24-Mar-2025 01:04:41 Europe/London] Files received: Array
(
    [plugin_file] => Array
        (
            [name] => plugin.zip
            [full_path] => plugin.zip
            [type] => application/zip
            [tmp_name] => C:\Users\zagzo\Downloads\UniServerZ\tmp\php6E41.tmp
            [error] => 0
            [size] => 1321
        )

)

[24-Mar-2025 01:04:41 Europe/London] File extension: zip
[24-Mar-2025 01:04:41 Europe/London] Creating temporary directory: C:\Users\zagzo\AppData\Local\Temp/plugin_67e0afa910ad7
[24-Mar-2025 01:04:41 Europe/London] Opening ZIP file: C:\Users\zagzo\Downloads\UniServerZ\tmp\php6E41.tmp
[24-Mar-2025 01:04:41 Europe/London] Extracting ZIP file to: C:\Users\zagzo\AppData\Local\Temp/plugin_67e0afa910ad7
[24-Mar-2025 01:04:41 Europe/London] Files in temp directory: Array
(
    [0] => .
    [1] => ..
    [2] => TestMarketplacePlugin
)

[24-Mar-2025 01:04:41 Europe/London] Checking file/directory: .
[24-Mar-2025 01:04:41 Europe/London] Checking file/directory: ..
[24-Mar-2025 01:04:41 Europe/London] Checking file/directory: TestMarketplacePlugin
[24-Mar-2025 01:04:41 Europe/London] Found potential main file: TestMarketplacePlugin/TestMarketplacePlugin.php
[24-Mar-2025 01:04:41 Europe/London] Checking main file: C:\Users\zagzo\AppData\Local\Temp/plugin_67e0afa910ad7/TestMarketplacePlugin/TestMarketplacePlugin.php
[24-Mar-2025 01:04:41 Europe/London] Plugin name: TestMarketplacePlugin
[24-Mar-2025 01:04:41 Europe/London] Target plugin directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat\app/plugins/TestMarketplacePlugin
[24-Mar-2025 01:04:43 Europe/London] Removing existing plugin directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat\app/plugins/TestMarketplacePlugin
[24-Mar-2025 01:04:43 Europe/London] Moving plugin from C:\Users\zagzo\AppData\Local\Temp/plugin_67e0afa910ad7/TestMarketplacePlugin to C:\Users\zagzo\Downloads\UniServerZ\www\chat\app/plugins/TestMarketplacePlugin
[24-Mar-2025 01:04:43 Europe/London] Cleaning up temporary directory
[24-Mar-2025 01:04:43 Europe/London] Reloading plugins
[24-Mar-2025 01:04:43 Europe/London] Plugin upload completed successfully
[24-Mar-2025 01:04:43 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:04:43 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:04:43 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:04:43 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:04:43 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:04:43 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:04:43 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:04:43 Europe/London] Attempting to activate plugin: TestMarketplacePlugin
[24-Mar-2025 01:04:43 Europe/London] Available plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:04:43 Europe/London] Plugin not found in loaded plugins: TestMarketplacePlugin
[24-Mar-2025 01:04:43 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:04:43 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:04:43 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:04:43 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:04:43 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:04:43 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:04:43 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:04:43 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:04:43 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:04:43 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:04:43 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:04:43 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:04:43 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:04:43 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:04:43 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:04:43 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:04:43 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:04:43 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:04:43 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:04:43 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:04:43 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:06:15 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:06:15 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:06:15 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:06:15 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:06:15 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:06:15 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:06:15 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:06:15 Europe/London] Starting plugin upload process
[24-Mar-2025 01:06:15 Europe/London] Files received: Array
(
    [plugin_file] => Array
        (
            [name] => plugin.zip
            [full_path] => plugin.zip
            [type] => application/zip
            [tmp_name] => C:\Users\zagzo\Downloads\UniServerZ\tmp\phpDEF8.tmp
            [error] => 0
            [size] => 1321
        )

)

[24-Mar-2025 01:06:15 Europe/London] File extension: zip
[24-Mar-2025 01:06:15 Europe/London] Creating temporary directory: C:\Users\zagzo\AppData\Local\Temp/plugin_67e0b0077162e
[24-Mar-2025 01:06:15 Europe/London] Opening ZIP file: C:\Users\zagzo\Downloads\UniServerZ\tmp\phpDEF8.tmp
[24-Mar-2025 01:06:15 Europe/London] Extracting ZIP file to: C:\Users\zagzo\AppData\Local\Temp/plugin_67e0b0077162e
[24-Mar-2025 01:06:15 Europe/London] Files in temp directory: Array
(
    [0] => .
    [1] => ..
    [2] => TestMarketplacePlugin
)

[24-Mar-2025 01:06:15 Europe/London] Checking file/directory: .
[24-Mar-2025 01:06:15 Europe/London] Checking file/directory: ..
[24-Mar-2025 01:06:15 Europe/London] Checking file/directory: TestMarketplacePlugin
[24-Mar-2025 01:06:15 Europe/London] Found potential main file: TestMarketplacePlugin/TestMarketplacePlugin.php
[24-Mar-2025 01:06:15 Europe/London] Checking main file: C:\Users\zagzo\AppData\Local\Temp/plugin_67e0b0077162e/TestMarketplacePlugin/TestMarketplacePlugin.php
[24-Mar-2025 01:06:15 Europe/London] Plugin name: TestMarketplacePlugin
[24-Mar-2025 01:06:15 Europe/London] Target plugin directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat\app/plugins/TestMarketplacePlugin
[24-Mar-2025 01:06:17 Europe/London] Removing existing plugin directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat\app/plugins/TestMarketplacePlugin
[24-Mar-2025 01:06:17 Europe/London] Moving plugin from C:\Users\zagzo\AppData\Local\Temp/plugin_67e0b0077162e/TestMarketplacePlugin to C:\Users\zagzo\Downloads\UniServerZ\www\chat\app/plugins/TestMarketplacePlugin
[24-Mar-2025 01:06:17 Europe/London] Cleaning up temporary directory
[24-Mar-2025 01:06:17 Europe/London] Reloading plugins
[24-Mar-2025 01:06:17 Europe/London] Plugin upload completed successfully
[24-Mar-2025 01:06:17 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:06:17 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:06:17 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:06:17 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:06:17 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:06:17 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:06:17 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:06:17 Europe/London] Attempting to activate plugin: TestMarketplacePlugin
[24-Mar-2025 01:06:17 Europe/London] Available plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:06:17 Europe/London] Plugin not found in loaded plugins: TestMarketplacePlugin
[24-Mar-2025 01:06:17 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:06:17 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:06:17 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:06:17 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:06:17 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:06:17 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:06:17 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:06:17 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:06:17 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:06:17 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:06:17 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:06:17 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:06:17 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:06:17 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:06:17 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:06:17 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:06:17 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:06:17 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:06:17 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:06:17 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:06:17 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:07:17 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:07:17 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:07:17 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:07:17 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:07:17 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:07:17 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:07:17 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:07:17 Europe/London] Starting plugin upload process
[24-Mar-2025 01:07:17 Europe/London] Files received: Array
(
    [plugin_file] => Array
        (
            [name] => plugin.zip
            [full_path] => plugin.zip
            [type] => application/zip
            [tmp_name] => C:\Users\zagzo\Downloads\UniServerZ\tmp\phpCFD2.tmp
            [error] => 0
            [size] => 1321
        )

)

[24-Mar-2025 01:07:17 Europe/London] File extension: zip
[24-Mar-2025 01:07:17 Europe/London] Creating temporary directory: C:\Users\zagzo\AppData\Local\Temp/plugin_67e0b0451d01f
[24-Mar-2025 01:07:17 Europe/London] Opening ZIP file: C:\Users\zagzo\Downloads\UniServerZ\tmp\phpCFD2.tmp
[24-Mar-2025 01:07:17 Europe/London] Extracting ZIP file to: C:\Users\zagzo\AppData\Local\Temp/plugin_67e0b0451d01f
[24-Mar-2025 01:07:17 Europe/London] Files in temp directory: Array
(
    [0] => .
    [1] => ..
    [2] => TestMarketplacePlugin
)

[24-Mar-2025 01:07:17 Europe/London] Checking file/directory: .
[24-Mar-2025 01:07:17 Europe/London] Checking file/directory: ..
[24-Mar-2025 01:07:17 Europe/London] Checking file/directory: TestMarketplacePlugin
[24-Mar-2025 01:07:17 Europe/London] Found potential main file: TestMarketplacePlugin/TestMarketplacePlugin.php
[24-Mar-2025 01:07:17 Europe/London] Checking main file: C:\Users\zagzo\AppData\Local\Temp/plugin_67e0b0451d01f/TestMarketplacePlugin/TestMarketplacePlugin.php
[24-Mar-2025 01:07:17 Europe/London] Plugin name: TestMarketplacePlugin
[24-Mar-2025 01:07:17 Europe/London] Target plugin directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat\app/plugins/TestMarketplacePlugin
[24-Mar-2025 01:07:19 Europe/London] Removing existing plugin directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat\app/plugins/TestMarketplacePlugin
[24-Mar-2025 01:07:19 Europe/London] Moving plugin from C:\Users\zagzo\AppData\Local\Temp/plugin_67e0b0451d01f/TestMarketplacePlugin to C:\Users\zagzo\Downloads\UniServerZ\www\chat\app/plugins/TestMarketplacePlugin
[24-Mar-2025 01:07:19 Europe/London] Setting file permissions
[24-Mar-2025 01:07:19 Europe/London] Cleaning up temporary directory
[24-Mar-2025 01:07:19 Europe/London] Reloading plugins
[24-Mar-2025 01:07:19 Europe/London] Plugin upload completed successfully
[24-Mar-2025 01:07:19 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:07:19 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:07:19 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:07:19 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:07:19 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:07:19 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:07:19 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:07:19 Europe/London] Attempting to activate plugin: TestMarketplacePlugin
[24-Mar-2025 01:07:19 Europe/London] Available plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:07:19 Europe/London] Plugin not found in loaded plugins: TestMarketplacePlugin
[24-Mar-2025 01:07:19 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:07:19 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:07:19 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:07:19 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:07:19 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:07:19 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:07:19 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:07:19 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:07:19 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:07:19 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:07:19 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:07:19 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:07:19 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:07:19 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:07:19 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:07:19 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:07:19 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:07:19 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:07:19 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:07:19 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:07:19 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:11:15 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:11:15 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:11:15 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:11:15 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:11:15 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:11:15 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:11:15 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:11:15 Europe/London] Starting plugin upload process
[24-Mar-2025 01:11:15 Europe/London] Files received: Array
(
    [plugin_file] => Array
        (
            [name] => plugin.zip
            [full_path] => plugin.zip
            [type] => application/zip
            [tmp_name] => C:\Users\zagzo\Downloads\UniServerZ\tmp\php7367.tmp
            [error] => 0
            [size] => 1313
        )

)

[24-Mar-2025 01:11:15 Europe/London] File extension: zip
[24-Mar-2025 01:11:15 Europe/London] Creating temporary directory: C:\Users\zagzo\AppData\Local\Temp/plugin_67e0b13393c96
[24-Mar-2025 01:11:15 Europe/London] Opening ZIP file: C:\Users\zagzo\Downloads\UniServerZ\tmp\php7367.tmp
[24-Mar-2025 01:11:15 Europe/London] Extracting ZIP file to: C:\Users\zagzo\AppData\Local\Temp/plugin_67e0b13393c96
[24-Mar-2025 01:11:15 Europe/London] Files in temp directory: Array
(
    [0] => .
    [1] => ..
    [2] => TestMarketplacePlugin
)

[24-Mar-2025 01:11:15 Europe/London] Checking file/directory: .
[24-Mar-2025 01:11:15 Europe/London] Checking file/directory: ..
[24-Mar-2025 01:11:15 Europe/London] Checking file/directory: TestMarketplacePlugin
[24-Mar-2025 01:11:15 Europe/London] Found potential main file: TestMarketplacePlugin/TestMarketplacePlugin.php
[24-Mar-2025 01:11:15 Europe/London] Checking main file: C:\Users\zagzo\AppData\Local\Temp/plugin_67e0b13393c96/TestMarketplacePlugin/TestMarketplacePlugin.php
[24-Mar-2025 01:11:15 Europe/London] Plugin name: TestMarketplacePlugin
[24-Mar-2025 01:11:15 Europe/London] Target plugin directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat\app/plugins/TestMarketplacePlugin
[24-Mar-2025 01:11:17 Europe/London] Removing existing plugin directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat\app/plugins/TestMarketplacePlugin
[24-Mar-2025 01:11:17 Europe/London] Moving plugin from C:\Users\zagzo\AppData\Local\Temp/plugin_67e0b13393c96/TestMarketplacePlugin to C:\Users\zagzo\Downloads\UniServerZ\www\chat\app/plugins/TestMarketplacePlugin
[24-Mar-2025 01:11:17 Europe/London] Setting file permissions
[24-Mar-2025 01:11:17 Europe/London] Cleaning up temporary directory
[24-Mar-2025 01:11:17 Europe/London] Reloading plugins
[24-Mar-2025 01:11:17 Europe/London] Plugin upload completed successfully
[24-Mar-2025 01:11:17 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:11:17 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:11:17 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:11:17 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:11:17 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:11:17 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:11:17 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:11:17 Europe/London] Attempting to activate plugin: TestMarketplacePlugin
[24-Mar-2025 01:11:17 Europe/London] Available plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:11:17 Europe/London] Plugin not found in loaded plugins: TestMarketplacePlugin
[24-Mar-2025 01:11:17 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:11:17 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:11:17 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:11:17 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:11:17 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:11:17 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:11:17 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:11:17 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:11:17 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:11:17 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:11:17 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:11:17 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:11:17 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:11:17 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:11:17 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:11:17 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:11:17 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:11:17 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:11:17 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:11:17 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:11:17 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:11:26 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:11:26 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
)

[24-Mar-2025 01:11:26 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:11:26 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:11:26 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:11:26 Europe/London] Loaded plugins: Array
(
    [0] => LLMModelSelector
)

[24-Mar-2025 01:11:26 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 01:11:26 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:11:26 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/TestPlugin
)

[24-Mar-2025 01:11:26 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:11:26 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:11:26 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:11:26 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/TestPlugin/TestPlugin.php
[24-Mar-2025 01:11:26 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/TestPlugin/TestPlugin.php
[24-Mar-2025 01:11:26 Europe/London] PHP Warning:  require_once(C:\Users\zagzo\Downloads\UniServerZ\www\chat\plugins/Plugin.php): Failed to open stream: No such file or directory in C:\Users\zagzo\Downloads\UniServerZ\www\chat\plugins\TestPlugin\TestPlugin.php on line 2
[24-Mar-2025 01:11:26 Europe/London] PHP Fatal error:  Uncaught Error: Failed opening required 'C:\Users\zagzo\Downloads\UniServerZ\www\chat\plugins/Plugin.php' (include_path='.;C:/Users/zagzo/Downloads/UniServerZ/home/us_pear/PEAR') in C:\Users\zagzo\Downloads\UniServerZ\www\chat\plugins\TestPlugin\TestPlugin.php:2
Stack trace:
#0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(40): require_once()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\plugins.php(14): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\plugins.php(274): PluginsController->__construct()
#5 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\plugins\TestPlugin\TestPlugin.php on line 2
[24-Mar-2025 01:11:26 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:11:26 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/TestPlugin
)

[24-Mar-2025 01:11:26 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:11:26 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:11:26 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:11:26 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/TestPlugin/TestPlugin.php
[24-Mar-2025 01:11:26 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/TestPlugin/TestPlugin.php
[24-Mar-2025 01:11:26 Europe/London] PHP Warning:  require_once(C:\Users\zagzo\Downloads\UniServerZ\www\chat\plugins/Plugin.php): Failed to open stream: No such file or directory in C:\Users\zagzo\Downloads\UniServerZ\www\chat\plugins\TestPlugin\TestPlugin.php on line 2
[24-Mar-2025 01:11:26 Europe/London] PHP Fatal error:  Uncaught Error: Failed opening required 'C:\Users\zagzo\Downloads\UniServerZ\www\chat\plugins/Plugin.php' (include_path='.;C:/Users/zagzo/Downloads/UniServerZ/home/us_pear/PEAR') in C:\Users\zagzo\Downloads\UniServerZ\www\chat\plugins\TestPlugin\TestPlugin.php:2
Stack trace:
#0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(40): require_once()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(14): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(70): MessagesController->__construct()
#5 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\plugins\TestPlugin\TestPlugin.php on line 2
[24-Mar-2025 01:11:26 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 01:11:26 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/TestPlugin
)

[24-Mar-2025 01:11:26 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:11:26 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 01:11:26 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 01:11:26 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/TestPlugin/TestPlugin.php
[24-Mar-2025 01:11:26 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/TestPlugin/TestPlugin.php
[24-Mar-2025 01:11:26 Europe/London] PHP Warning:  require_once(C:\Users\zagzo\Downloads\UniServerZ\www\chat\plugins/Plugin.php): Failed to open stream: No such file or directory in C:\Users\zagzo\Downloads\UniServerZ\www\chat\plugins\TestPlugin\TestPlugin.php on line 2
[24-Mar-2025 01:11:26 Europe/London] PHP Fatal error:  Uncaught Error: Failed opening required 'C:\Users\zagzo\Downloads\UniServerZ\www\chat\plugins/Plugin.php' (include_path='.;C:/Users/zagzo/Downloads/UniServerZ/home/us_pear/PEAR') in C:\Users\zagzo\Downloads\UniServerZ\www\chat\plugins\TestPlugin\TestPlugin.php:2
Stack trace:
#0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(40): require_once()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\plugins.php(14): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\plugins.php(274): PluginsController->__construct()
#5 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\plugins\TestPlugin\TestPlugin.php on line 2
[24-Mar-2025 01:12:03 Europe/London] Error getting conversations {"error":"SQLSTATE[42S22]: Column not found: 1054 Unknown column 'word_count' in 'field list'","trace":"#0 C:\\Users\\zagzo\\Downloads\\UniServerZ\\www\\chat\\app\\models\\Conversation.php(23): PDO->prepare()\n#1 C:\\Users\\zagzo\\Downloads\\UniServerZ\\www\\chat\\api\\conversations.php(41): Conversation->getConversations()\n#2 {main}"}
[24-Mar-2025 01:12:10 Europe/London] Error getting conversations {"error":"SQLSTATE[42S22]: Column not found: 1054 Unknown column 'word_count' in 'field list'","trace":"#0 C:\\Users\\zagzo\\Downloads\\UniServerZ\\www\\chat\\app\\models\\Conversation.php(23): PDO->prepare()\n#1 C:\\Users\\zagzo\\Downloads\\UniServerZ\\www\\chat\\api\\conversations.php(41): Conversation->getConversations()\n#2 {main}"}
[24-Mar-2025 01:12:11 Europe/London] PHP Warning:  ini_set(): Output handler 'zlib output compression' conflicts with 'ob_gzhandler' in C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\dashboard.php on line 20
[24-Mar-2025 01:12:11 Europe/London] Error in dashboard API: User not found
[24-Mar-2025 01:12:12 Europe/London] Error getting conversations {"error":"SQLSTATE[42S22]: Column not found: 1054 Unknown column 'word_count' in 'field list'","trace":"#0 C:\\Users\\zagzo\\Downloads\\UniServerZ\\www\\chat\\app\\models\\Conversation.php(23): PDO->prepare()\n#1 C:\\Users\\zagzo\\Downloads\\UniServerZ\\www\\chat\\api\\conversations.php(41): Conversation->getConversations()\n#2 {main}"}
[24-Mar-2025 01:12:14 Europe/London] Error getting conversations {"error":"SQLSTATE[42S22]: Column not found: 1054 Unknown column 'word_count' in 'field list'","trace":"#0 C:\\Users\\zagzo\\Downloads\\UniServerZ\\www\\chat\\app\\models\\Conversation.php(23): PDO->prepare()\n#1 C:\\Users\\zagzo\\Downloads\\UniServerZ\\www\\chat\\api\\conversations.php(41): Conversation->getConversations()\n#2 {main}"}
[24-Mar-2025 01:12:21 Europe/London] Error getting conversations {"error":"SQLSTATE[42S22]: Column not found: 1054 Unknown column 'word_count' in 'field list'","trace":"#0 C:\\Users\\zagzo\\Downloads\\UniServerZ\\www\\chat\\app\\models\\Conversation.php(23): PDO->prepare()\n#1 C:\\Users\\zagzo\\Downloads\\UniServerZ\\www\\chat\\api\\conversations.php(41): Conversation->getConversations()\n#2 {main}"}
[24-Mar-2025 01:13:34 Europe/London] Required files loaded successfully
[24-Mar-2025 01:13:34 Europe/London] Initializing response compression...
[24-Mar-2025 01:13:34 Europe/London] ResponseCompressor instance created
[24-Mar-2025 01:13:34 Europe/London] Response compression started
[24-Mar-2025 01:13:34 Europe/London] Auth endpoint called
[24-Mar-2025 01:13:34 Europe/London] Received data: Array
(
    [username] => testuser
    [password] => testpass
)

[24-Mar-2025 01:13:34 Europe/London] Attempting to connect to database
[24-Mar-2025 01:13:34 Europe/London] Database connection successful
[24-Mar-2025 01:13:34 Europe/London] Looking up user: testuser
[24-Mar-2025 01:13:34 Europe/London] User data found: Array
(
    [id] => 24b9c124-0848-11f0-90cb-d880837d8388
    [username] => testuser
    [password] => $2y$10$l6VMP9Jt9UXam7NDhoNv8uuFsemd4WPKw/fVn39tkQaqaa6cPRZXu
    [email] => test@example.com
    [role] => user
    [api_token] => cb5b0ee87510cba21a22504cf5a8e1d7524454c4a11e6d85a2112fe2b1ac716b
    [api_token_expires] => 2025-04-23 01:12:57
    [created_at] => 2025-03-24 03:37:19
    [last_login] => 
    [membership_type] => free
)

[24-Mar-2025 01:13:34 Europe/London] Password verification successful
[24-Mar-2025 01:13:34 Europe/London] Membership data: 
[24-Mar-2025 01:13:34 Europe/London] Login error: SQLSTATE[HY000]: General error: 1364 Field 'id' doesn't have a default value
[24-Mar-2025 01:13:34 Europe/London] Stack trace: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\auth.php(80): PDOStatement->execute()
#1 {main}
[24-Mar-2025 01:13:34 Europe/London] Ending response compression
[24-Mar-2025 01:14:32 Europe/London] Required files loaded successfully
[24-Mar-2025 01:14:32 Europe/London] Initializing response compression...
[24-Mar-2025 01:14:32 Europe/London] ResponseCompressor instance created
[24-Mar-2025 01:14:32 Europe/London] Response compression started
[24-Mar-2025 01:14:32 Europe/London] Auth endpoint called
[24-Mar-2025 01:14:32 Europe/London] Received data: Array
(
    [username] => mychat
    [password] => moha1212
)

[24-Mar-2025 01:14:32 Europe/London] Attempting to connect to database
[24-Mar-2025 01:14:32 Europe/London] Database connection successful
[24-Mar-2025 01:14:32 Europe/London] Looking up user: mychat
[24-Mar-2025 01:14:32 Europe/London] User data found: 
[24-Mar-2025 01:14:32 Europe/London] Authentication failed for user: mychat
[24-Mar-2025 01:14:32 Europe/London] Ending response compression
[24-Mar-2025 01:15:25 Europe/London] Required files loaded successfully
[24-Mar-2025 01:15:25 Europe/London] Initializing response compression...
[24-Mar-2025 01:15:25 Europe/London] ResponseCompressor instance created
[24-Mar-2025 01:15:25 Europe/London] Response compression started
[24-Mar-2025 01:15:25 Europe/London] Auth endpoint called
[24-Mar-2025 01:15:25 Europe/London] Received data: Array
(
    [username] => mychat
    [password] => moha1212
)

[24-Mar-2025 01:15:25 Europe/London] Attempting to connect to database
[24-Mar-2025 01:15:25 Europe/London] Database connection successful
[24-Mar-2025 01:15:25 Europe/London] Looking up user: mychat
[24-Mar-2025 01:15:25 Europe/London] User data found: 
[24-Mar-2025 01:15:25 Europe/London] Authentication failed for user: mychat
[24-Mar-2025 01:15:25 Europe/London] Ending response compression
[24-Mar-2025 01:16:05 Europe/London] Required files loaded successfully
[24-Mar-2025 01:16:05 Europe/London] Initializing response compression...
[24-Mar-2025 01:16:05 Europe/London] ResponseCompressor instance created
[24-Mar-2025 01:16:05 Europe/London] Response compression started
[24-Mar-2025 01:16:05 Europe/London] Auth endpoint called
[24-Mar-2025 01:16:05 Europe/London] Received data: Array
(
    [username] => testuser
    [password] => testpass
)

[24-Mar-2025 01:16:05 Europe/London] Attempting to connect to database
[24-Mar-2025 01:16:05 Europe/London] Database connection successful
[24-Mar-2025 01:16:05 Europe/London] Looking up user: testuser
[24-Mar-2025 01:16:05 Europe/London] User data found: Array
(
    [id] => 81cd4e1f-084d-11f0-90cb-d880837d8388
    [username] => testuser
    [password] => $2y$10$OwnIp7SQfjFCCFzBeqfe5OSIn9fZCMAi30HYQ3ZBA1isCT81GQhrC
    [email] => test@example.com
    [role] => user
    [api_token] => 
    [api_token_expires] => 
    [created_at] => 2025-03-24 04:15:43
    [last_login] => 
    [membership_type] => free
)

[24-Mar-2025 01:16:05 Europe/London] Password verification successful
[24-Mar-2025 01:16:05 Europe/London] Membership data: 
[24-Mar-2025 01:16:05 Europe/London] Login error: SQLSTATE[HY000]: General error: 1364 Field 'id' doesn't have a default value
[24-Mar-2025 01:16:05 Europe/London] Stack trace: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\auth.php(80): PDOStatement->execute()
#1 {main}
[24-Mar-2025 01:16:05 Europe/London] Ending response compression
[24-Mar-2025 01:16:59 Europe/London] Required files loaded successfully
[24-Mar-2025 01:16:59 Europe/London] Initializing response compression...
[24-Mar-2025 01:16:59 Europe/London] ResponseCompressor instance created
[24-Mar-2025 01:16:59 Europe/London] Response compression started
[24-Mar-2025 01:16:59 Europe/London] Auth endpoint called
[24-Mar-2025 01:16:59 Europe/London] Received data: Array
(
    [username] => testuser
    [password] => testpass
)

[24-Mar-2025 01:16:59 Europe/London] Attempting to connect to database
[24-Mar-2025 01:16:59 Europe/London] Database connection successful
[24-Mar-2025 01:16:59 Europe/London] Looking up user: testuser
[24-Mar-2025 01:16:59 Europe/London] User data found: Array
(
    [id] => aad283ee-084d-11f0-90cb-d880837d8388
    [username] => testuser
    [password] => $2y$10$wOxnGdiNQ3Ppg74YsIzT0.ZaJ67PbaKyFXAx/3fTs4RvHjHBiW1jC
    [email] => test@example.com
    [role] => user
    [api_token] => 
    [api_token_expires] => 
    [created_at] => 2025-03-24 04:16:51
    [last_login] => 
    [membership_type] => free
)

[24-Mar-2025 01:16:59 Europe/London] Password verification successful
[24-Mar-2025 01:16:59 Europe/London] Membership data: 
[24-Mar-2025 01:16:59 Europe/London] Login error: SQLSTATE[HY000]: General error: 1364 Field 'id' doesn't have a default value
[24-Mar-2025 01:16:59 Europe/London] Stack trace: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\auth.php(80): PDOStatement->execute()
#1 {main}
[24-Mar-2025 01:16:59 Europe/London] Ending response compression
[24-Mar-2025 01:20:41 Europe/London] Required files loaded successfully
[24-Mar-2025 01:20:41 Europe/London] Initializing response compression...
[24-Mar-2025 01:20:41 Europe/London] ResponseCompressor instance created
[24-Mar-2025 01:20:41 Europe/London] Response compression started
[24-Mar-2025 01:20:41 Europe/London] Auth endpoint called
[24-Mar-2025 01:20:41 Europe/London] Received data: Array
(
    [username] => testuser
    [password] => testpass
)

[24-Mar-2025 01:20:41 Europe/London] Attempting to connect to database
[24-Mar-2025 01:20:41 Europe/London] Database connection successful
[24-Mar-2025 01:20:41 Europe/London] Looking up user: testuser
[24-Mar-2025 01:20:41 Europe/London] User data found: Array
(
    [id] => 1
    [username] => testuser
    [email] => test@example.com
    [password] => $2y$10$rIggkW5nc78xAvrKvuHR2uPrET0M1jrbwHBKOJE85SumLR0ua2/EW
    [created_at] => 2025-03-24 04:20:33
    [updated_at] => 2025-03-24 04:20:33
)

[24-Mar-2025 01:20:41 Europe/London] Password verification successful
[24-Mar-2025 01:20:41 Europe/London] Membership data: Array
(
    [type] => free
)

[24-Mar-2025 01:20:41 Europe/London] Sending success response: Array
(
    [success] => 1
    [user] => Array
        (
            [id] => 1
            [username] => testuser
            [email] => test@example.com
            [membership_type] => free
        )

)

[24-Mar-2025 01:20:41 Europe/London] Ending response compression
[24-Mar-2025 01:20:41 Europe/London] PHP Warning:  Undefined array key "api_token" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\test_api_endpoints.php on line 77
[24-Mar-2025 01:21:07 Europe/London] Required files loaded successfully
[24-Mar-2025 01:21:07 Europe/London] Initializing response compression...
[24-Mar-2025 01:21:07 Europe/London] ResponseCompressor instance created
[24-Mar-2025 01:21:07 Europe/London] Response compression started
[24-Mar-2025 01:21:07 Europe/London] Auth endpoint called
[24-Mar-2025 01:21:07 Europe/London] Received data: Array
(
    [username] => testuser
    [password] => testpass
)

[24-Mar-2025 01:21:07 Europe/London] Attempting to connect to database
[24-Mar-2025 01:21:07 Europe/London] Database connection successful
[24-Mar-2025 01:21:07 Europe/London] Looking up user: testuser
[24-Mar-2025 01:21:07 Europe/London] User data found: Array
(
    [id] => 1
    [username] => testuser
    [email] => test@example.com
    [password] => $2y$10$rIggkW5nc78xAvrKvuHR2uPrET0M1jrbwHBKOJE85SumLR0ua2/EW
    [created_at] => 2025-03-24 04:20:33
    [updated_at] => 2025-03-24 04:20:33
)

[24-Mar-2025 01:21:07 Europe/London] Password verification successful
[24-Mar-2025 01:21:07 Europe/London] Membership data: Array
(
    [type] => free
)

[24-Mar-2025 01:21:07 Europe/London] Login error: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'api_token' in 'field list'
[24-Mar-2025 01:21:07 Europe/London] Stack trace: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\auth.php(90): PDO->prepare()
#1 {main}
[24-Mar-2025 01:21:07 Europe/London] Ending response compression
[24-Mar-2025 01:21:38 Europe/London] Required files loaded successfully
[24-Mar-2025 01:21:38 Europe/London] Initializing response compression...
[24-Mar-2025 01:21:38 Europe/London] ResponseCompressor instance created
[24-Mar-2025 01:21:38 Europe/London] Response compression started
[24-Mar-2025 01:21:38 Europe/London] Auth endpoint called
[24-Mar-2025 01:21:38 Europe/London] Received data: Array
(
    [username] => testuser
    [password] => testpass
)

[24-Mar-2025 01:21:38 Europe/London] Attempting to connect to database
[24-Mar-2025 01:21:38 Europe/London] Database connection successful
[24-Mar-2025 01:21:38 Europe/London] Looking up user: testuser
[24-Mar-2025 01:21:38 Europe/London] User data found: Array
(
    [id] => 1
    [username] => testuser
    [email] => test@example.com
    [password] => $2y$10$rIggkW5nc78xAvrKvuHR2uPrET0M1jrbwHBKOJE85SumLR0ua2/EW
    [created_at] => 2025-03-24 04:20:33
    [updated_at] => 2025-03-24 04:20:33
    [api_token] => 
    [api_token_expires] => 
)

[24-Mar-2025 01:21:38 Europe/London] Password verification successful
[24-Mar-2025 01:21:38 Europe/London] Membership data: Array
(
    [type] => free
)

[24-Mar-2025 01:21:38 Europe/London] Sending success response: Array
(
    [success] => 1
    [user] => Array
        (
            [id] => 1
            [username] => testuser
            [email] => test@example.com
            [membership_type] => free
            [api_token] => 31524353a93e69231c284c9c9e69fa9d218e594b2c2fbd65d96348d29773444b
            [api_token_expires] => 2025-03-25 01:21:38
        )

)

[24-Mar-2025 01:21:38 Europe/London] Ending response compression
[24-Mar-2025 01:22:47 Europe/London] Required files loaded successfully
[24-Mar-2025 01:22:47 Europe/London] Initializing response compression...
[24-Mar-2025 01:22:47 Europe/London] ResponseCompressor instance created
[24-Mar-2025 01:22:47 Europe/London] Response compression started
[24-Mar-2025 01:22:47 Europe/London] Auth endpoint called
[24-Mar-2025 01:22:47 Europe/London] Received data: Array
(
    [username] => testuser
    [password] => testpass
)

[24-Mar-2025 01:22:47 Europe/London] Attempting to connect to database
[24-Mar-2025 01:22:47 Europe/London] Database connection successful
[24-Mar-2025 01:22:47 Europe/London] Looking up user: testuser
[24-Mar-2025 01:22:47 Europe/London] User data found: Array
(
    [id] => 1
    [username] => testuser
    [email] => test@example.com
    [password] => $2y$10$rIggkW5nc78xAvrKvuHR2uPrET0M1jrbwHBKOJE85SumLR0ua2/EW
    [created_at] => 2025-03-24 04:20:33
    [updated_at] => 2025-03-24 04:21:38
    [api_token] => 31524353a93e69231c284c9c9e69fa9d218e594b2c2fbd65d96348d29773444b
    [api_token_expires] => 2025-03-25 01:21:38
)

[24-Mar-2025 01:22:47 Europe/London] Password verification successful
[24-Mar-2025 01:22:47 Europe/London] Membership data: Array
(
    [type] => free
)

[24-Mar-2025 01:22:47 Europe/London] Sending success response: Array
(
    [success] => 1
    [user] => Array
        (
            [id] => 1
            [username] => testuser
            [email] => test@example.com
            [membership_type] => free
            [api_token] => 83d1ff97b07d5334b2b1c3af317d3b1090c4d2b7c262a621c8367a38b0fef83d
            [api_token_expires] => 2025-03-25 01:22:47
        )

)

[24-Mar-2025 01:22:47 Europe/London] Ending response compression
[24-Mar-2025 01:22:47 Europe/London] PHP Fatal error:  Uncaught Error: Call to undefined method UsageStats::getMonthlyStats() in C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\dashboard.php:84
Stack trace:
#0 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\dashboard.php on line 84
[24-Mar-2025 01:22:47 Europe/London] PHP Fatal error:  Uncaught Error: Call to undefined method Conversation::getByUserId() in C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\conversations.php:63
Stack trace:
#0 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\conversations.php on line 63
[24-Mar-2025 01:22:47 Europe/London] PHP Warning:  Array to string conversion in C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Conversation.php on line 73
[24-Mar-2025 01:22:47 Europe/London] Error creating conversation {"error":"SQLSTATE[HY000]: General error: 1366 Incorrect integer value: 'Array' for column 'user_id' at row 1","trace":"#0 C:\\Users\\zagzo\\Downloads\\UniServerZ\\www\\chat\\app\\models\\Conversation.php(73): PDOStatement->execute()\n#1 C:\\Users\\zagzo\\Downloads\\UniServerZ\\www\\chat\\api\\conversations.php(80): Conversation->create()\n#2 {main}"}
[24-Mar-2025 01:24:54 Europe/London] Required files loaded successfully
[24-Mar-2025 01:24:54 Europe/London] Initializing response compression...
[24-Mar-2025 01:24:54 Europe/London] ResponseCompressor instance created
[24-Mar-2025 01:24:54 Europe/London] Response compression started
[24-Mar-2025 01:24:54 Europe/London] Auth endpoint called
[24-Mar-2025 01:24:54 Europe/London] Received data: Array
(
    [username] => testuser
    [password] => testpass
)

[24-Mar-2025 01:24:54 Europe/London] Attempting to connect to database
[24-Mar-2025 01:24:54 Europe/London] Database connection successful
[24-Mar-2025 01:24:54 Europe/London] Looking up user: testuser
[24-Mar-2025 01:24:54 Europe/London] User data found: Array
(
    [id] => 1
    [username] => testuser
    [email] => test@example.com
    [password] => $2y$10$rIggkW5nc78xAvrKvuHR2uPrET0M1jrbwHBKOJE85SumLR0ua2/EW
    [created_at] => 2025-03-24 04:20:33
    [updated_at] => 2025-03-24 04:22:47
    [api_token] => 83d1ff97b07d5334b2b1c3af317d3b1090c4d2b7c262a621c8367a38b0fef83d
    [api_token_expires] => 2025-03-25 01:22:47
)

[24-Mar-2025 01:24:54 Europe/London] Password verification successful
[24-Mar-2025 01:24:54 Europe/London] Membership data: Array
(
    [type] => free
)

[24-Mar-2025 01:24:54 Europe/London] Sending success response: Array
(
    [success] => 1
    [user] => Array
        (
            [id] => 1
            [username] => testuser
            [email] => test@example.com
            [membership_type] => free
            [api_token] => dc906cbe77eb22d2ee19d815ce24010ca0a1cd3b4275faa23523451f8e83d841
            [api_token_expires] => 2025-03-25 01:24:54
        )

)

[24-Mar-2025 01:24:54 Europe/London] Ending response compression
[24-Mar-2025 01:24:54 Europe/London] PHP Fatal error:  Uncaught Error: Call to undefined method UsageStats::getMonthlyStats() in C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\dashboard.php:84
Stack trace:
#0 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\dashboard.php on line 84
[24-Mar-2025 01:25:56 Europe/London] Required files loaded successfully
[24-Mar-2025 01:25:56 Europe/London] Initializing response compression...
[24-Mar-2025 01:25:56 Europe/London] ResponseCompressor instance created
[24-Mar-2025 01:25:56 Europe/London] Response compression started
[24-Mar-2025 01:25:56 Europe/London] Auth endpoint called
[24-Mar-2025 01:25:56 Europe/London] Received data: Array
(
    [username] => testuser
    [password] => testpass
)

[24-Mar-2025 01:25:56 Europe/London] Attempting to connect to database
[24-Mar-2025 01:25:56 Europe/London] Database connection successful
[24-Mar-2025 01:25:56 Europe/London] Looking up user: testuser
[24-Mar-2025 01:25:56 Europe/London] User data found: Array
(
    [id] => 1
    [username] => testuser
    [email] => test@example.com
    [password] => $2y$10$rIggkW5nc78xAvrKvuHR2uPrET0M1jrbwHBKOJE85SumLR0ua2/EW
    [created_at] => 2025-03-24 04:20:33
    [updated_at] => 2025-03-24 04:24:54
    [api_token] => dc906cbe77eb22d2ee19d815ce24010ca0a1cd3b4275faa23523451f8e83d841
    [api_token_expires] => 2025-03-25 01:24:54
)

[24-Mar-2025 01:25:56 Europe/London] Password verification successful
[24-Mar-2025 01:25:56 Europe/London] Membership data: Array
(
    [type] => free
)

[24-Mar-2025 01:25:56 Europe/London] Sending success response: Array
(
    [success] => 1
    [user] => Array
        (
            [id] => 1
            [username] => testuser
            [email] => test@example.com
            [membership_type] => free
            [api_token] => d35a5073fddf63fc48bfebcf0b8ca67b4e55570f55488b10ace31a139ba6db34
            [api_token_expires] => 2025-03-25 01:25:56
        )

)

[24-Mar-2025 01:25:56 Europe/London] Ending response compression
[24-Mar-2025 01:26:53 Europe/London] Required files loaded successfully
[24-Mar-2025 01:26:53 Europe/London] Initializing response compression...
[24-Mar-2025 01:26:53 Europe/London] ResponseCompressor instance created
[24-Mar-2025 01:26:53 Europe/London] Response compression started
[24-Mar-2025 01:26:53 Europe/London] Auth endpoint called
[24-Mar-2025 01:26:53 Europe/London] Received data: Array
(
    [username] => testuser
    [password] => testpass
)

[24-Mar-2025 01:26:53 Europe/London] Attempting to connect to database
[24-Mar-2025 01:26:53 Europe/London] Database connection successful
[24-Mar-2025 01:26:53 Europe/London] Looking up user: testuser
[24-Mar-2025 01:26:53 Europe/London] User data found: Array
(
    [id] => 1
    [username] => testuser
    [email] => test@example.com
    [password] => $2y$10$rIggkW5nc78xAvrKvuHR2uPrET0M1jrbwHBKOJE85SumLR0ua2/EW
    [created_at] => 2025-03-24 04:20:33
    [updated_at] => 2025-03-24 04:25:56
    [api_token] => d35a5073fddf63fc48bfebcf0b8ca67b4e55570f55488b10ace31a139ba6db34
    [api_token_expires] => 2025-03-25 01:25:56
)

[24-Mar-2025 01:26:53 Europe/London] Password verification successful
[24-Mar-2025 01:26:53 Europe/London] Membership data: Array
(
    [type] => free
)

[24-Mar-2025 01:26:53 Europe/London] Sending success response: Array
(
    [success] => 1
    [user] => Array
        (
            [id] => 1
            [username] => testuser
            [email] => test@example.com
            [membership_type] => free
            [api_token] => 7dcce8ba1e979f9dc131362bd477a294f403752dea5e5f0e84aa2ad0033ae969
            [api_token_expires] => 2025-03-25 01:26:53
        )

)

[24-Mar-2025 01:26:53 Europe/London] Ending response compression
[24-Mar-2025 01:27:45 Europe/London] Required files loaded successfully
[24-Mar-2025 01:27:45 Europe/London] Initializing response compression...
[24-Mar-2025 01:27:45 Europe/London] ResponseCompressor instance created
[24-Mar-2025 01:27:45 Europe/London] Response compression started
[24-Mar-2025 01:27:45 Europe/London] Auth endpoint called
[24-Mar-2025 01:27:45 Europe/London] Received data: Array
(
    [username] => testuser
    [password] => testpass
)

[24-Mar-2025 01:27:45 Europe/London] Attempting to connect to database
[24-Mar-2025 01:27:45 Europe/London] Database connection successful
[24-Mar-2025 01:27:45 Europe/London] Looking up user: testuser
[24-Mar-2025 01:27:45 Europe/London] User data found: Array
(
    [id] => 1
    [username] => testuser
    [email] => test@example.com
    [password] => $2y$10$rIggkW5nc78xAvrKvuHR2uPrET0M1jrbwHBKOJE85SumLR0ua2/EW
    [created_at] => 2025-03-24 04:20:33
    [updated_at] => 2025-03-24 04:26:53
    [api_token] => 7dcce8ba1e979f9dc131362bd477a294f403752dea5e5f0e84aa2ad0033ae969
    [api_token_expires] => 2025-03-25 01:26:53
)

[24-Mar-2025 01:27:45 Europe/London] Password verification successful
[24-Mar-2025 01:27:45 Europe/London] Membership data: Array
(
    [type] => free
)

[24-Mar-2025 01:27:45 Europe/London] Sending success response: Array
(
    [success] => 1
    [user] => Array
        (
            [id] => 1
            [username] => testuser
            [email] => test@example.com
            [membership_type] => free
            [api_token] => 5c7159d7cf2890b4d133d0e0b86af21668a729b64c5972dbd8dcf1721ef6c675
            [api_token_expires] => 2025-03-25 01:27:45
        )

)

[24-Mar-2025 01:27:45 Europe/London] Ending response compression
[24-Mar-2025 01:28:32 Europe/London] Required files loaded successfully
[24-Mar-2025 01:28:32 Europe/London] Initializing response compression...
[24-Mar-2025 01:28:32 Europe/London] ResponseCompressor instance created
[24-Mar-2025 01:28:32 Europe/London] Response compression started
[24-Mar-2025 01:28:32 Europe/London] Auth endpoint called
[24-Mar-2025 01:28:32 Europe/London] Received data: Array
(
    [username] => testuser
    [password] => testpass
)

[24-Mar-2025 01:28:32 Europe/London] Attempting to connect to database
[24-Mar-2025 01:28:32 Europe/London] Database connection successful
[24-Mar-2025 01:28:32 Europe/London] Looking up user: testuser
[24-Mar-2025 01:28:32 Europe/London] User data found: Array
(
    [id] => 1
    [username] => testuser
    [email] => test@example.com
    [password] => $2y$10$rIggkW5nc78xAvrKvuHR2uPrET0M1jrbwHBKOJE85SumLR0ua2/EW
    [created_at] => 2025-03-24 04:20:33
    [updated_at] => 2025-03-24 04:27:45
    [api_token] => 5c7159d7cf2890b4d133d0e0b86af21668a729b64c5972dbd8dcf1721ef6c675
    [api_token_expires] => 2025-03-25 01:27:45
)

[24-Mar-2025 01:28:32 Europe/London] Password verification successful
[24-Mar-2025 01:28:32 Europe/London] Membership data: Array
(
    [type] => free
)

[24-Mar-2025 01:28:32 Europe/London] Sending success response: Array
(
    [success] => 1
    [user] => Array
        (
            [id] => 1
            [username] => testuser
            [email] => test@example.com
            [membership_type] => free
            [api_token] => d5d4b5cfa09f3bb3d455dee1df96dbb98ef66bade922e31c9f98b3723101fa02
            [api_token_expires] => 2025-03-25 01:28:32
        )

)

[24-Mar-2025 01:28:32 Europe/London] Ending response compression
[24-Mar-2025 01:31:49 Europe/London] Required files loaded successfully
[24-Mar-2025 01:31:49 Europe/London] Initializing response compression...
[24-Mar-2025 01:31:49 Europe/London] ResponseCompressor instance created
[24-Mar-2025 01:31:49 Europe/London] Response compression started
[24-Mar-2025 01:31:49 Europe/London] Auth endpoint called
[24-Mar-2025 01:31:49 Europe/London] Received data: Array
(
    [username] => testuser
    [password] => testpass
)

[24-Mar-2025 01:31:49 Europe/London] Attempting to connect to database
[24-Mar-2025 01:31:49 Europe/London] Database connection successful
[24-Mar-2025 01:31:49 Europe/London] Looking up user: testuser
[24-Mar-2025 01:31:49 Europe/London] User data found: Array
(
    [id] => 1
    [username] => testuser
    [email] => test@example.com
    [password] => $2y$10$rIggkW5nc78xAvrKvuHR2uPrET0M1jrbwHBKOJE85SumLR0ua2/EW
    [created_at] => 2025-03-24 04:20:33
    [updated_at] => 2025-03-24 04:28:32
    [api_token] => d5d4b5cfa09f3bb3d455dee1df96dbb98ef66bade922e31c9f98b3723101fa02
    [api_token_expires] => 2025-03-25 01:28:32
)

[24-Mar-2025 01:31:49 Europe/London] Password verification successful
[24-Mar-2025 01:31:49 Europe/London] Membership data: Array
(
    [type] => free
)

[24-Mar-2025 01:31:49 Europe/London] Sending success response: Array
(
    [success] => 1
    [user] => Array
        (
            [id] => 1
            [username] => testuser
            [email] => test@example.com
            [membership_type] => free
            [api_token] => 6da98b20aa20a4fe22e494ba5b80c9ce6b7b530c965b859a99140878ccd23263
            [api_token_expires] => 2025-03-25 01:31:49
        )

)

[24-Mar-2025 01:31:49 Europe/London] Ending response compression
[24-Mar-2025 01:38:23 Europe/London] Required files loaded successfully
[24-Mar-2025 01:38:23 Europe/London] Initializing response compression...
[24-Mar-2025 01:38:23 Europe/London] ResponseCompressor instance created
[24-Mar-2025 01:38:23 Europe/London] Response compression started
[24-Mar-2025 01:38:23 Europe/London] Auth endpoint called
[24-Mar-2025 01:38:23 Europe/London] Received data: Array
(
    [username] => testuser
    [password] => testpass
)

[24-Mar-2025 01:38:23 Europe/London] Attempting to connect to database
[24-Mar-2025 01:38:23 Europe/London] Database connection successful
[24-Mar-2025 01:38:23 Europe/London] Looking up user: testuser
[24-Mar-2025 01:38:23 Europe/London] User data found: Array
(
    [id] => 1
    [username] => testuser
    [email] => test@example.com
    [password] => $2y$10$rIggkW5nc78xAvrKvuHR2uPrET0M1jrbwHBKOJE85SumLR0ua2/EW
    [created_at] => 2025-03-24 04:20:33
    [updated_at] => 2025-03-24 04:31:49
    [api_token] => 6da98b20aa20a4fe22e494ba5b80c9ce6b7b530c965b859a99140878ccd23263
    [api_token_expires] => 2025-03-25 01:31:49
)

[24-Mar-2025 01:38:23 Europe/London] Password verification successful
[24-Mar-2025 01:38:23 Europe/London] Membership data: Array
(
    [type] => free
)

[24-Mar-2025 01:38:23 Europe/London] Sending success response: Array
(
    [success] => 1
    [user] => Array
        (
            [id] => 1
            [username] => testuser
            [email] => test@example.com
            [membership_type] => free
            [api_token] => 4fd5cec885815da87daaa0d2132b66a4425c266260cf9ff7ad538a523fc97b98
            [api_token_expires] => 2025-03-25 01:38:23
        )

)

[24-Mar-2025 01:38:23 Europe/London] Ending response compression
[24-Mar-2025 01:38:23 Europe/London] PHP Fatal error:  Uncaught Error: Call to undefined function formatJson() in C:\Users\zagzo\Downloads\UniServerZ\www\chat\test_api_endpoints.php:200
Stack trace:
#0 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\test_api_endpoints.php on line 200
[24-Mar-2025 01:39:03 Europe/London] Required files loaded successfully
[24-Mar-2025 01:39:03 Europe/London] Initializing response compression...
[24-Mar-2025 01:39:03 Europe/London] ResponseCompressor instance created
[24-Mar-2025 01:39:03 Europe/London] Response compression started
[24-Mar-2025 01:39:03 Europe/London] Auth endpoint called
[24-Mar-2025 01:39:03 Europe/London] Received data: Array
(
    [username] => testuser
    [password] => testpass
)

[24-Mar-2025 01:39:03 Europe/London] Attempting to connect to database
[24-Mar-2025 01:39:03 Europe/London] Database connection successful
[24-Mar-2025 01:39:03 Europe/London] Looking up user: testuser
[24-Mar-2025 01:39:03 Europe/London] User data found: Array
(
    [id] => 1
    [username] => testuser
    [email] => test@example.com
    [password] => $2y$10$rIggkW5nc78xAvrKvuHR2uPrET0M1jrbwHBKOJE85SumLR0ua2/EW
    [created_at] => 2025-03-24 04:20:33
    [updated_at] => 2025-03-24 04:38:23
    [api_token] => 4fd5cec885815da87daaa0d2132b66a4425c266260cf9ff7ad538a523fc97b98
    [api_token_expires] => 2025-03-25 01:38:23
)

[24-Mar-2025 01:39:03 Europe/London] Password verification successful
[24-Mar-2025 01:39:03 Europe/London] Membership data: Array
(
    [type] => free
)

[24-Mar-2025 01:39:03 Europe/London] Sending success response: Array
(
    [success] => 1
    [user] => Array
        (
            [id] => 1
            [username] => testuser
            [email] => test@example.com
            [membership_type] => free
            [api_token] => c1c623e1910e426ce8cd1381024e813093bfce3aacb7dda1b48cd6defba42dcf
            [api_token_expires] => 2025-03-25 01:39:03
        )

)

[24-Mar-2025 01:39:03 Europe/London] Ending response compression
[24-Mar-2025 01:54:32 Europe/London] Required files loaded successfully
[24-Mar-2025 01:54:32 Europe/London] Initializing response compression...
[24-Mar-2025 01:54:32 Europe/London] ResponseCompressor instance created
[24-Mar-2025 01:54:32 Europe/London] Response compression started
[24-Mar-2025 01:54:32 Europe/London] Auth endpoint called
[24-Mar-2025 01:54:32 Europe/London] Received data: Array
(
    [username] => string
    [password] => string
)

[24-Mar-2025 01:54:32 Europe/London] Attempting to connect to database
[24-Mar-2025 01:54:32 Europe/London] Database connection successful
[24-Mar-2025 01:54:32 Europe/London] Looking up user: string
[24-Mar-2025 01:54:32 Europe/London] User data found: 
[24-Mar-2025 01:54:32 Europe/London] Authentication failed for user: string
[24-Mar-2025 01:54:32 Europe/London] Ending response compression
[24-Mar-2025 01:55:39 Europe/London] PHP Warning:  ini_set(): Output handler 'zlib output compression' conflicts with 'ob_gzhandler' in C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\dashboard.php on line 20
[24-Mar-2025 01:55:54 Europe/London] PHP Fatal error:  Uncaught Error: Call to undefined method ApiKey::where() in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\developer_portal.php:12
Stack trace:
#0 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\developer_portal.php on line 12
[24-Mar-2025 01:55:57 Europe/London] PHP Fatal error:  Uncaught Error: Call to undefined method Plugin::all() in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\plugin_marketplace.php:11
Stack trace:
#0 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\plugin_marketplace.php on line 11
[24-Mar-2025 01:57:16 Europe/London] PHP Fatal error:  Uncaught Error: Call to undefined method Plugin::all() in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\plugin_marketplace.php:11
Stack trace:
#0 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\plugin_marketplace.php on line 11
[24-Mar-2025 01:57:18 Europe/London] PHP Fatal error:  Uncaught Error: Call to undefined method ApiKey::where() in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\developer_portal.php:12
Stack trace:
#0 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\developer_portal.php on line 12
[24-Mar-2025 01:57:21 Europe/London] PHP Fatal error:  Uncaught Error: Call to undefined method Plugin::all() in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\plugin_marketplace.php:11
Stack trace:
#0 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\plugin_marketplace.php on line 11
[24-Mar-2025 01:57:24 Europe/London] PHP Fatal error:  Uncaught Error: Call to undefined method ApiKey::where() in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\developer_portal.php:12
Stack trace:
#0 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\developer_portal.php on line 12
[24-Mar-2025 01:57:29 Europe/London] PHP Fatal error:  Uncaught Error: Call to undefined method ApiKey::where() in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\developer_portal.php:12
Stack trace:
#0 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\developer_portal.php on line 12
[24-Mar-2025 01:58:51 Europe/London] PHP Fatal error:  Uncaught Error: Call to undefined method Plugin::all() in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\plugin_marketplace.php:11
Stack trace:
#0 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\plugin_marketplace.php on line 11
[24-Mar-2025 01:58:54 Europe/London] PHP Fatal error:  Uncaught Error: Call to undefined method Plugin::all() in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\plugin_marketplace.php:11
Stack trace:
#0 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\plugin_marketplace.php on line 11
[24-Mar-2025 01:58:59 Europe/London] PHP Fatal error:  Uncaught Error: Call to undefined method Plugin::all() in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\plugin_marketplace.php:11
Stack trace:
#0 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\plugin_marketplace.php on line 11
[24-Mar-2025 02:00:01 Europe/London] Error fetching all plugins {"error":"SQLSTATE[42000]: Syntax error or access violation: 1055 Expression #15 of SELECT list is not in GROUP BY clause and contains nonaggregated column 'mychat.m.price' which is not functionally dependent on columns in GROUP BY clause; this is incompatible with sql_mode=only_full_group_by","trace":"#0 C:\\Users\\zagzo\\Downloads\\UniServerZ\\www\\chat\\app\\models\\Plugin.php(285): PDO->prepare()\n#1 C:\\Users\\zagzo\\Downloads\\UniServerZ\\www\\chat\\admin\\plugin_marketplace.php(13): Plugin->all()\n#2 {main}"}
[24-Mar-2025 02:00:01 Europe/London] PHP Fatal error:  Uncaught PDOException: SQLSTATE[42000]: Syntax error or access violation: 1055 Expression #15 of SELECT list is not in GROUP BY clause and contains nonaggregated column 'mychat.m.price' which is not functionally dependent on columns in GROUP BY clause; this is incompatible with sql_mode=only_full_group_by in C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Plugin.php:285
Stack trace:
#0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Plugin.php(285): PDO->prepare()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\plugin_marketplace.php(13): Plugin->all()
#2 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Plugin.php on line 285
[24-Mar-2025 02:00:02 Europe/London] Error fetching all plugins {"error":"SQLSTATE[42000]: Syntax error or access violation: 1055 Expression #15 of SELECT list is not in GROUP BY clause and contains nonaggregated column 'mychat.m.price' which is not functionally dependent on columns in GROUP BY clause; this is incompatible with sql_mode=only_full_group_by","trace":"#0 C:\\Users\\zagzo\\Downloads\\UniServerZ\\www\\chat\\app\\models\\Plugin.php(285): PDO->prepare()\n#1 C:\\Users\\zagzo\\Downloads\\UniServerZ\\www\\chat\\admin\\plugin_marketplace.php(13): Plugin->all()\n#2 {main}"}
[24-Mar-2025 02:00:02 Europe/London] PHP Fatal error:  Uncaught PDOException: SQLSTATE[42000]: Syntax error or access violation: 1055 Expression #15 of SELECT list is not in GROUP BY clause and contains nonaggregated column 'mychat.m.price' which is not functionally dependent on columns in GROUP BY clause; this is incompatible with sql_mode=only_full_group_by in C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Plugin.php:285
Stack trace:
#0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Plugin.php(285): PDO->prepare()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\plugin_marketplace.php(13): Plugin->all()
#2 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Plugin.php on line 285
[24-Mar-2025 02:01:17 Europe/London] Error fetching all plugins {"error":"SQLSTATE[42000]: Syntax error or access violation: 1055 Expression #18 of SELECT list is not in GROUP BY clause and contains nonaggregated column 'mychat.m.downloads' which is not functionally dependent on columns in GROUP BY clause; this is incompatible with sql_mode=only_full_group_by","trace":"#0 C:\\Users\\zagzo\\Downloads\\UniServerZ\\www\\chat\\app\\models\\Plugin.php(285): PDO->prepare()\n#1 C:\\Users\\zagzo\\Downloads\\UniServerZ\\www\\chat\\admin\\plugin_marketplace.php(13): Plugin->all()\n#2 {main}"}
[24-Mar-2025 02:01:17 Europe/London] PHP Fatal error:  Uncaught PDOException: SQLSTATE[42000]: Syntax error or access violation: 1055 Expression #18 of SELECT list is not in GROUP BY clause and contains nonaggregated column 'mychat.m.downloads' which is not functionally dependent on columns in GROUP BY clause; this is incompatible with sql_mode=only_full_group_by in C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Plugin.php:285
Stack trace:
#0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Plugin.php(285): PDO->prepare()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\plugin_marketplace.php(13): Plugin->all()
#2 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Plugin.php on line 285
[24-Mar-2025 02:01:18 Europe/London] Error fetching all plugins {"error":"SQLSTATE[42000]: Syntax error or access violation: 1055 Expression #18 of SELECT list is not in GROUP BY clause and contains nonaggregated column 'mychat.m.downloads' which is not functionally dependent on columns in GROUP BY clause; this is incompatible with sql_mode=only_full_group_by","trace":"#0 C:\\Users\\zagzo\\Downloads\\UniServerZ\\www\\chat\\app\\models\\Plugin.php(285): PDO->prepare()\n#1 C:\\Users\\zagzo\\Downloads\\UniServerZ\\www\\chat\\admin\\plugin_marketplace.php(13): Plugin->all()\n#2 {main}"}
[24-Mar-2025 02:01:18 Europe/London] PHP Fatal error:  Uncaught PDOException: SQLSTATE[42000]: Syntax error or access violation: 1055 Expression #18 of SELECT list is not in GROUP BY clause and contains nonaggregated column 'mychat.m.downloads' which is not functionally dependent on columns in GROUP BY clause; this is incompatible with sql_mode=only_full_group_by in C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Plugin.php:285
Stack trace:
#0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Plugin.php(285): PDO->prepare()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\plugin_marketplace.php(13): Plugin->all()
#2 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Plugin.php on line 285
[24-Mar-2025 02:01:19 Europe/London] Error fetching all plugins {"error":"SQLSTATE[42000]: Syntax error or access violation: 1055 Expression #18 of SELECT list is not in GROUP BY clause and contains nonaggregated column 'mychat.m.downloads' which is not functionally dependent on columns in GROUP BY clause; this is incompatible with sql_mode=only_full_group_by","trace":"#0 C:\\Users\\zagzo\\Downloads\\UniServerZ\\www\\chat\\app\\models\\Plugin.php(285): PDO->prepare()\n#1 C:\\Users\\zagzo\\Downloads\\UniServerZ\\www\\chat\\admin\\plugin_marketplace.php(13): Plugin->all()\n#2 {main}"}
[24-Mar-2025 02:01:19 Europe/London] PHP Fatal error:  Uncaught PDOException: SQLSTATE[42000]: Syntax error or access violation: 1055 Expression #18 of SELECT list is not in GROUP BY clause and contains nonaggregated column 'mychat.m.downloads' which is not functionally dependent on columns in GROUP BY clause; this is incompatible with sql_mode=only_full_group_by in C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Plugin.php:285
Stack trace:
#0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Plugin.php(285): PDO->prepare()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\plugin_marketplace.php(13): Plugin->all()
#2 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Plugin.php on line 285
[24-Mar-2025 02:01:51 Europe/London] PHP Warning:  ini_set(): Output handler 'zlib output compression' conflicts with 'ob_gzhandler' in C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\dashboard.php on line 20
[24-Mar-2025 02:02:01 Europe/London] Login failed for username: admin
[24-Mar-2025 02:02:14 Europe/London] Login failed for username: mychat
[24-Mar-2025 02:03:05 Europe/London] Login failed for username: testuser
[24-Mar-2025 02:03:27 Europe/London] PHP Warning:  ini_set(): Output handler 'zlib output compression' conflicts with 'ob_gzhandler' in C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\dashboard.php on line 20
[24-Mar-2025 02:03:32 Europe/London] PHP Warning:  ini_set(): Output handler 'zlib output compression' conflicts with 'ob_gzhandler' in C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\messages.php on line 17
[24-Mar-2025 02:03:32 Europe/London] PHP Warning:  ini_set(): Output handler 'zlib output compression' conflicts with 'ob_gzhandler' in C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\messages.php on line 17
[24-Mar-2025 02:03:58 Europe/London] Required files loaded successfully
[24-Mar-2025 02:03:58 Europe/London] Initializing response compression...
[24-Mar-2025 02:03:58 Europe/London] ResponseCompressor instance created
[24-Mar-2025 02:03:58 Europe/London] Response compression started
[24-Mar-2025 02:03:58 Europe/London] Auth endpoint called
[24-Mar-2025 02:03:58 Europe/London] Received data: 
[24-Mar-2025 02:03:58 Europe/London] Missing username or password
[24-Mar-2025 02:04:05 Europe/London] PHP Warning:  ini_set(): Output handler 'zlib output compression' conflicts with 'ob_gzhandler' in C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\messages.php on line 17
[24-Mar-2025 02:04:05 Europe/London] Error in messages API: Conversation ID is required
[24-Mar-2025 10:45:52 Europe/London] PHP Warning:  Undefined array key "api_key" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\developer_portal.php on line 62
[24-Mar-2025 10:45:52 Europe/London] PHP Warning:  Undefined array key "api_key" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\developer_portal.php on line 63
[24-Mar-2025 10:46:08 Europe/London] PHP Warning:  Undefined array key "api_key" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\developer_portal.php on line 62
[24-Mar-2025 10:46:08 Europe/London] PHP Warning:  Undefined array key "api_key" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\developer_portal.php on line 63
[24-Mar-2025 10:46:11 Europe/London] PHP Warning:  Undefined array key "api_key" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\developer_portal.php on line 62
[24-Mar-2025 10:46:11 Europe/London] PHP Warning:  Undefined array key "api_key" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\developer_portal.php on line 63
[24-Mar-2025 10:47:00 Europe/London] PHP Warning:  Undefined array key "api_key" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\developer_portal.php on line 62
[24-Mar-2025 10:47:00 Europe/London] PHP Warning:  Undefined array key "api_key" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\developer_portal.php on line 63
[24-Mar-2025 10:47:46 Europe/London] PHP Warning:  Undefined array key "api_key" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\developer_portal.php on line 62
[24-Mar-2025 10:47:46 Europe/London] PHP Warning:  Undefined array key "api_key" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\developer_portal.php on line 63
[24-Mar-2025 10:47:47 Europe/London] PHP Warning:  Undefined array key "api_key" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\developer_portal.php on line 62
[24-Mar-2025 10:47:47 Europe/London] PHP Warning:  Undefined array key "api_key" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\developer_portal.php on line 63
[24-Mar-2025 10:47:48 Europe/London] PHP Warning:  Undefined array key "api_key" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\developer_portal.php on line 62
[24-Mar-2025 10:47:48 Europe/London] PHP Warning:  Undefined array key "api_key" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\developer_portal.php on line 63
[24-Mar-2025 10:48:31 Europe/London] PHP Warning:  Undefined array key "api_key" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\developer_portal.php on line 62
[24-Mar-2025 10:48:31 Europe/London] PHP Warning:  Undefined array key "api_key" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\developer_portal.php on line 63
[24-Mar-2025 10:48:45 Europe/London] PHP Warning:  ini_set(): Output handler 'zlib output compression' conflicts with 'ob_gzhandler' in C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\dashboard.php on line 20
[24-Mar-2025 10:49:10 Europe/London] PHP Warning:  Undefined array key "api_key" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\developer_portal.php on line 62
[24-Mar-2025 10:49:10 Europe/London] PHP Warning:  Undefined array key "api_key" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\developer_portal.php on line 63
[24-Mar-2025 10:49:17 Europe/London] PHP Warning:  Undefined array key "api_key" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\developer_portal.php on line 62
[24-Mar-2025 10:49:17 Europe/London] PHP Warning:  Undefined array key "api_key" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\developer_portal.php on line 63
[24-Mar-2025 10:49:41 Europe/London] PHP Warning:  Undefined array key "api_key" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\developer_portal.php on line 62
[24-Mar-2025 10:49:41 Europe/London] PHP Warning:  Undefined array key "api_key" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\developer_portal.php on line 63
[24-Mar-2025 10:49:48 Europe/London] PHP Warning:  Undefined array key "api_key" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\developer_portal.php on line 62
[24-Mar-2025 10:49:48 Europe/London] PHP Warning:  Undefined array key "api_key" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\developer_portal.php on line 63
[24-Mar-2025 10:50:14 Europe/London] PHP Warning:  Undefined array key "api_key" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\developer_portal.php on line 62
[24-Mar-2025 10:50:14 Europe/London] PHP Warning:  Undefined array key "api_key" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\developer_portal.php on line 63
[24-Mar-2025 10:57:41 Europe/London] PHP Fatal error:  Uncaught Error: Call to undefined method User::getById() in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\profile.php:16
Stack trace:
#0 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\profile.php on line 16
[24-Mar-2025 10:57:42 Europe/London] PHP Fatal error:  Uncaught Error: Call to undefined method User::getById() in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\profile.php:16
Stack trace:
#0 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\profile.php on line 16
[24-Mar-2025 11:04:55 Europe/London] PHP Warning:  Constant ENVIRONMENT already defined in C:\Users\zagzo\Downloads\UniServerZ\www\chat\config.php on line 3
[24-Mar-2025 11:04:55 Europe/London] PHP Warning:  Undefined array key "environment" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\settings.php on line 49
[24-Mar-2025 11:04:55 Europe/London] PHP Warning:  Undefined array key "environment" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\settings.php on line 50
[24-Mar-2025 11:08:22 Europe/London] PHP Warning:  Constant ENVIRONMENT already defined in C:\Users\zagzo\Downloads\UniServerZ\www\chat\config.php on line 3
[24-Mar-2025 11:08:22 Europe/London] PHP Warning:  Undefined array key "environment" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\settings.php on line 49
[24-Mar-2025 11:08:22 Europe/London] PHP Warning:  Undefined array key "environment" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\settings.php on line 50
[24-Mar-2025 11:08:24 Europe/London] PHP Warning:  Constant ENVIRONMENT already defined in C:\Users\zagzo\Downloads\UniServerZ\www\chat\config.php on line 3
[24-Mar-2025 11:08:24 Europe/London] PHP Warning:  Undefined array key "environment" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\settings.php on line 49
[24-Mar-2025 11:08:24 Europe/London] PHP Warning:  Undefined array key "environment" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\settings.php on line 50
[24-Mar-2025 11:08:44 Europe/London] PHP Warning:  Constant ENVIRONMENT already defined in C:\Users\zagzo\Downloads\UniServerZ\www\chat\config.php on line 3
[24-Mar-2025 11:08:44 Europe/London] PHP Warning:  Undefined array key "environment" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\settings.php on line 49
[24-Mar-2025 11:08:44 Europe/London] PHP Warning:  Undefined array key "environment" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\settings.php on line 50
[24-Mar-2025 11:08:50 Europe/London] PHP Warning:  Constant ENVIRONMENT already defined in C:\Users\zagzo\Downloads\UniServerZ\www\chat\config.php on line 3
[24-Mar-2025 11:08:50 Europe/London] PHP Warning:  Undefined array key "environment" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\settings.php on line 49
[24-Mar-2025 11:08:50 Europe/London] PHP Warning:  Undefined array key "environment" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\settings.php on line 50
[24-Mar-2025 11:09:02 Europe/London] PHP Warning:  Constant ENVIRONMENT already defined in C:\Users\zagzo\Downloads\UniServerZ\www\chat\config.php on line 3
[24-Mar-2025 11:09:02 Europe/London] PHP Warning:  Undefined array key "environment" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\settings.php on line 49
[24-Mar-2025 11:09:02 Europe/London] PHP Warning:  Undefined array key "environment" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\settings.php on line 50
[24-Mar-2025 11:10:57 Europe/London] PHP Warning:  Undefined array key "environment" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\settings.php on line 49
[24-Mar-2025 11:10:57 Europe/London] PHP Warning:  Undefined array key "environment" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\settings.php on line 50
[24-Mar-2025 11:11:01 Europe/London] PHP Warning:  Undefined array key "environment" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\settings.php on line 49
[24-Mar-2025 11:11:01 Europe/London] PHP Warning:  Undefined array key "environment" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\settings.php on line 50
[24-Mar-2025 11:12:14 Europe/London] PHP Warning:  Undefined array key "environment" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\settings.php on line 49
[24-Mar-2025 11:12:14 Europe/London] PHP Warning:  Undefined array key "environment" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\settings.php on line 50
[24-Mar-2025 11:12:15 Europe/London] PHP Warning:  Undefined array key "environment" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\settings.php on line 49
[24-Mar-2025 11:12:15 Europe/London] PHP Warning:  Undefined array key "environment" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\settings.php on line 50
[24-Mar-2025 11:12:20 Europe/London] PHP Warning:  Undefined array key "environment" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\settings.php on line 49
[24-Mar-2025 11:12:20 Europe/London] PHP Warning:  Undefined array key "environment" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\settings.php on line 50
[24-Mar-2025 11:13:46 Europe/London] PHP Warning:  Undefined array key "environment" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\settings.php on line 49
[24-Mar-2025 11:13:46 Europe/London] PHP Warning:  Undefined array key "environment" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\settings.php on line 50
[24-Mar-2025 11:13:48 Europe/London] PHP Warning:  Undefined array key "environment" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\settings.php on line 49
[24-Mar-2025 11:13:48 Europe/London] PHP Warning:  Undefined array key "environment" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\settings.php on line 50
[24-Mar-2025 11:14:03 Europe/London] PHP Warning:  Undefined array key "environment" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\settings.php on line 49
[24-Mar-2025 11:14:03 Europe/London] PHP Warning:  Undefined array key "environment" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\settings.php on line 50
[24-Mar-2025 11:15:29 Europe/London] PHP Warning:  Undefined array key "role" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\settings.php on line 23
[24-Mar-2025 11:15:35 Europe/London] PHP Warning:  Undefined array key "role" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\settings.php on line 23
[24-Mar-2025 11:15:45 Europe/London] PHP Warning:  Undefined array key "role" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\settings.php on line 23
[24-Mar-2025 11:15:48 Europe/London] PHP Warning:  Undefined array key "role" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\settings.php on line 23
[24-Mar-2025 11:15:52 Europe/London] PHP Warning:  Undefined array key "role" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\settings.php on line 23
[24-Mar-2025 11:17:51 Europe/London] Query error {"class":"User","sql":"SELECT id, username, email, password, role, api_token, api_token_expires, created_at, last_login FROM users WHERE id = ?","params":[2],"message":"SQLSTATE[42S22]: Column not found: 1054 Unknown column 'role' in 'field list'"}
[24-Mar-2025 11:17:51 Europe/London] PHP Fatal error:  Uncaught PDOException: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'role' in 'field list' in C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Model.php:69
Stack trace:
#0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Model.php(69): PDO->prepare()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\User.php(20): Model->query()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\settings.php(21): User->findById()
#3 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Model.php on line 69
[24-Mar-2025 11:18:26 Europe/London] PHP Warning:  Undefined variable $pdo in C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\migrations\001_add_role_column.php on line 7
[24-Mar-2025 11:18:26 Europe/London] PHP Fatal error:  Uncaught Error: Call to a member function exec() on null in C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\migrations\001_add_role_column.php:7
Stack trace:
#0 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\migrations\001_add_role_column.php on line 7
[24-Mar-2025 11:19:19 Europe/London] Query error {"class":"User","sql":"SELECT id, username, email, password, role, api_token, api_token_expires, created_at, last_login FROM users WHERE id = ?","params":[2],"message":"SQLSTATE[42S22]: Column not found: 1054 Unknown column 'last_login' in 'field list'"}
[24-Mar-2025 11:19:19 Europe/London] PHP Fatal error:  Uncaught PDOException: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'last_login' in 'field list' in C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Model.php:69
Stack trace:
#0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Model.php(69): PDO->prepare()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\User.php(20): Model->query()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\settings.php(21): User->findById()
#3 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Model.php on line 69
[24-Mar-2025 11:19:20 Europe/London] Query error {"class":"User","sql":"SELECT id, username, email, password, role, api_token, api_token_expires, created_at, last_login FROM users WHERE id = ?","params":[2],"message":"SQLSTATE[42S22]: Column not found: 1054 Unknown column 'last_login' in 'field list'"}
[24-Mar-2025 11:19:20 Europe/London] PHP Fatal error:  Uncaught PDOException: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'last_login' in 'field list' in C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Model.php:69
Stack trace:
#0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Model.php(69): PDO->prepare()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\User.php(20): Model->query()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\settings.php(21): User->findById()
#3 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Model.php on line 69
[24-Mar-2025 11:19:22 Europe/London] Query error {"class":"User","sql":"SELECT id, username, email, password, role, api_token, api_token_expires, created_at, last_login FROM users WHERE id = ?","params":[2],"message":"SQLSTATE[42S22]: Column not found: 1054 Unknown column 'last_login' in 'field list'"}
[24-Mar-2025 11:19:22 Europe/London] PHP Fatal error:  Uncaught PDOException: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'last_login' in 'field list' in C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Model.php:69
Stack trace:
#0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Model.php(69): PDO->prepare()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\User.php(20): Model->query()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\settings.php(21): User->findById()
#3 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Model.php on line 69
[24-Mar-2025 11:40:33 Europe/London] PHP Fatal error:  Uncaught Error: Call to undefined method User::getAll() in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\users.php:53
Stack trace:
#0 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\users.php on line 53
[24-Mar-2025 11:53:01 Europe/London] PHP Fatal error:  Uncaught Error: Call to undefined method Message::countAll() in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\dashboard.php:32
Stack trace:
#0 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\dashboard.php on line 32
[24-Mar-2025 11:53:27 Europe/London] PHP Fatal error:  Uncaught Error: Call to undefined method User::getAll() in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\users.php:53
Stack trace:
#0 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\users.php on line 53
[24-Mar-2025 11:57:17 Europe/London] PHP Fatal error:  Uncaught Error: Call to undefined method User::getAll() in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\users.php:56
Stack trace:
#0 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\users.php on line 56
[24-Mar-2025 11:57:24 Europe/London] PHP Fatal error:  Uncaught Error: Call to undefined method User::getAll() in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\users.php:56
Stack trace:
#0 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\users.php on line 56
[24-Mar-2025 11:58:47 Europe/London] PHP Warning:  Undefined array key "status" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\users.php on line 151
[24-Mar-2025 11:58:47 Europe/London] PHP Warning:  Undefined array key "status" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\users.php on line 152
[24-Mar-2025 11:58:47 Europe/London] PHP Warning:  Undefined array key "created_at" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\users.php on line 155
[24-Mar-2025 11:58:47 Europe/London] PHP Deprecated:  strtotime(): Passing null to parameter #1 ($datetime) of type string is deprecated in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\users.php on line 155
[24-Mar-2025 11:58:47 Europe/London] PHP Warning:  Undefined array key "status" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\users.php on line 151
[24-Mar-2025 11:58:47 Europe/London] PHP Warning:  Undefined array key "status" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\users.php on line 152
[24-Mar-2025 11:58:47 Europe/London] PHP Warning:  Undefined array key "created_at" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\users.php on line 155
[24-Mar-2025 11:58:47 Europe/London] PHP Deprecated:  strtotime(): Passing null to parameter #1 ($datetime) of type string is deprecated in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\users.php on line 155
[24-Mar-2025 12:00:36 Europe/London] Query error {"class":"User","sql":"SELECT id, username, email, role, status, created_at FROM users LIMIT ? OFFSET ?","params":[10,0],"message":"SQLSTATE[42S22]: Column not found: 1054 Unknown column 'status' in 'field list'"}
[24-Mar-2025 12:00:36 Europe/London] PHP Fatal error:  Uncaught PDOException: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'status' in 'field list' in C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Model.php:69
Stack trace:
#0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Model.php(69): PDO->prepare()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\User.php(77): Model->query()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\users.php(56): User->getAll()
#3 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Model.php on line 69
[24-Mar-2025 12:00:37 Europe/London] Query error {"class":"User","sql":"SELECT id, username, email, role, status, created_at FROM users LIMIT ? OFFSET ?","params":[10,0],"message":"SQLSTATE[42S22]: Column not found: 1054 Unknown column 'status' in 'field list'"}
[24-Mar-2025 12:00:37 Europe/London] PHP Fatal error:  Uncaught PDOException: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'status' in 'field list' in C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Model.php:69
Stack trace:
#0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Model.php(69): PDO->prepare()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\User.php(77): Model->query()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\users.php(56): User->getAll()
#3 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Model.php on line 69
[24-Mar-2025 12:07:24 Europe/London] PHP Warning:  Undefined array key "user_id" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\index.php on line 295
[24-Mar-2025 12:07:24 Europe/London] PHP Warning:  Undefined array key "user_id" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\index.php on line 295
[24-Mar-2025 12:07:24 Europe/London] PHP Warning:  Undefined array key "user_id" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\index.php on line 295
[24-Mar-2025 12:07:24 Europe/London] PHP Warning:  Undefined array key "user_id" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\index.php on line 295
[24-Mar-2025 12:07:24 Europe/London] PHP Warning:  Undefined array key "user_id" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\index.php on line 295
[24-Mar-2025 12:47:59 Europe/London] PHP Warning:  ini_set(): Output handler 'zlib output compression' conflicts with 'ob_gzhandler' in C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\dashboard.php on line 20
[24-Mar-2025 12:54:45 Europe/London] PHP Warning:  require_once(C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin/../app/models/Plugin.php): Failed to open stream: No such file or directory in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\dashboard.php on line 10
[24-Mar-2025 12:54:45 Europe/London] PHP Fatal error:  Uncaught Error: Failed opening required 'C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin/../app/models/Plugin.php' (include_path='.;C:/Users/zagzo/Downloads/UniServerZ/home/us_pear/PEAR') in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\dashboard.php:10
Stack trace:
#0 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\dashboard.php on line 10
[24-Mar-2025 12:55:57 Europe/London] PHP Fatal error:  Uncaught Error: Call to undefined method User::getAllUsersWithSubscriptions() in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\subscriptions.php:57
Stack trace:
#0 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\subscriptions.php on line 57
[24-Mar-2025 12:56:03 Europe/London] PHP Fatal error:  Uncaught Error: Call to undefined method User::getAllUsersWithSubscriptions() in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\subscriptions.php:57
Stack trace:
#0 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\subscriptions.php on line 57
[24-Mar-2025 12:56:09 Europe/London] PHP Fatal error:  Uncaught Error: Call to undefined method User::getAllUsersWithSubscriptions() in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\subscriptions.php:57
Stack trace:
#0 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\subscriptions.php on line 57
[24-Mar-2025 12:56:47 Europe/London] PHP Warning:  Undefined array key "free_count" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\subscriptions.php on line 141
[24-Mar-2025 12:56:47 Europe/London] PHP Warning:  Undefined array key "silver_count" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\subscriptions.php on line 156
[24-Mar-2025 12:56:47 Europe/London] PHP Warning:  Undefined array key "gold_count" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\subscriptions.php on line 171
[24-Mar-2025 12:57:25 Europe/London] PHP Warning:  Undefined array key "free_count" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\subscriptions.php on line 141
[24-Mar-2025 12:57:25 Europe/London] PHP Warning:  Undefined array key "silver_count" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\subscriptions.php on line 156
[24-Mar-2025 12:57:25 Europe/London] PHP Warning:  Undefined array key "gold_count" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\subscriptions.php on line 171
[24-Mar-2025 12:58:16 Europe/London] PHP Warning:  Undefined array key "free" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\index.php on line 199
[24-Mar-2025 12:58:16 Europe/London] PHP Warning:  Undefined array key "silver" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\index.php on line 205
[24-Mar-2025 12:58:16 Europe/London] PHP Warning:  Undefined array key "gold" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\index.php on line 211
[24-Mar-2025 12:58:18 Europe/London] PHP Warning:  Undefined array key "free" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\index.php on line 199
[24-Mar-2025 12:58:18 Europe/London] PHP Warning:  Undefined array key "silver" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\index.php on line 205
[24-Mar-2025 12:58:18 Europe/London] PHP Warning:  Undefined array key "gold" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\index.php on line 211
[24-Mar-2025 13:01:27 Europe/London] PHP Warning:  ini_set(): Output handler 'zlib output compression' conflicts with 'ob_gzhandler' in C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\dashboard.php on line 20
[24-Mar-2025 13:02:26 Europe/London] PHP Warning:  ini_set(): Output handler 'zlib output compression' conflicts with 'ob_gzhandler' in C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\messages.php on line 17
[24-Mar-2025 13:02:49 Europe/London] PHP Warning:  ini_set(): Output handler 'zlib output compression' conflicts with 'ob_gzhandler' in C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\messages.php on line 17
[24-Mar-2025 13:06:05 Europe/London] PHP Warning:  ini_set(): Output handler 'zlib output compression' conflicts with 'ob_gzhandler' in C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\messages.php on line 17
[24-Mar-2025 13:14:52 Europe/London] Error creating message: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'word_count' in 'field list'
[24-Mar-2025 13:14:52 Europe/London] Error in messages API: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'word_count' in 'field list'
[24-Mar-2025 13:16:21 Europe/London] Error creating message: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'word_count' in 'field list'
[24-Mar-2025 13:16:21 Europe/London] Error in messages API: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'word_count' in 'field list'
[24-Mar-2025 13:20:33 Europe/London] Added word_count column to messages table
[24-Mar-2025 13:20:33 Europe/London] Error ensuring columns: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'message_count' in 'conversations'
[24-Mar-2025 13:20:37 Europe/London] Error creating message: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'message_count' in 'field list'
[24-Mar-2025 13:20:37 Europe/London] Error in messages API: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'message_count' in 'field list'
[24-Mar-2025 13:20:37 Europe/London] Error creating message: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'message_count' in 'field list'
[24-Mar-2025 13:20:37 Europe/London] Error in messages API: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'message_count' in 'field list'
[24-Mar-2025 13:20:58 Europe/London] Error ensuring columns: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'message_count' in 'conversations'
[24-Mar-2025 13:21:10 Europe/London] Error creating message: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'message_count' in 'field list'
[24-Mar-2025 13:21:10 Europe/London] Error in messages API: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'message_count' in 'field list'
[24-Mar-2025 13:21:10 Europe/London] Error creating message: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'message_count' in 'field list'
[24-Mar-2025 13:21:10 Europe/London] Error in messages API: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'message_count' in 'field list'
[24-Mar-2025 13:22:46 Europe/London] Error ensuring columns: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'message_count' in 'conversations'
[24-Mar-2025 13:22:54 Europe/London] Error creating message: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'message_count' in 'field list'
[24-Mar-2025 13:22:54 Europe/London] Error in messages API: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'message_count' in 'field list'
[24-Mar-2025 13:22:54 Europe/London] Error creating message: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'message_count' in 'field list'
[24-Mar-2025 13:22:54 Europe/London] Error in messages API: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'message_count' in 'field list'
[24-Mar-2025 13:23:02 Europe/London] Error ensuring columns: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'message_count' in 'conversations'
[24-Mar-2025 13:23:09 Europe/London] Error creating message: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'message_count' in 'field list'
[24-Mar-2025 13:23:09 Europe/London] Error in messages API: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'message_count' in 'field list'
[24-Mar-2025 13:23:09 Europe/London] Error creating message: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'message_count' in 'field list'
[24-Mar-2025 13:23:09 Europe/London] Error in messages API: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'message_count' in 'field list'
[24-Mar-2025 13:23:37 Europe/London] Error ensuring columns: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'message_count' in 'conversations'
[24-Mar-2025 13:23:43 Europe/London] Error creating message: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'message_count' in 'field list'
[24-Mar-2025 13:23:43 Europe/London] Error in messages API: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'message_count' in 'field list'
[24-Mar-2025 13:23:43 Europe/London] Error creating message: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'message_count' in 'field list'
[24-Mar-2025 13:23:43 Europe/London] Error in messages API: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'message_count' in 'field list'
[24-Mar-2025 13:25:08 Europe/London] Error ensuring columns: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'message_count' in 'conversations'
[24-Mar-2025 13:25:10 Europe/London] Error creating message: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'message_count' in 'field list'
[24-Mar-2025 13:25:10 Europe/London] API Error in messages.php: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'message_count' in 'field list'
#0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Message.php(55): PDO->prepare()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\messages.php(85): Message->create()
#2 {main}
[24-Mar-2025 13:25:10 Europe/London] Error creating message: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'message_count' in 'field list'
[24-Mar-2025 13:25:10 Europe/London] API Error in messages.php: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'message_count' in 'field list'
#0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Message.php(55): PDO->prepare()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\messages.php(85): Message->create()
#2 {main}
[24-Mar-2025 13:26:44 Europe/London] Added message_count column to conversations table
[24-Mar-2025 13:26:44 Europe/London] Added total_words column to conversations table
[24-Mar-2025 13:26:52 Europe/London] Error recording usage: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'message_id' in 'field list'
[24-Mar-2025 13:26:52 Europe/London] Error creating message: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'message_id' in 'field list'
[24-Mar-2025 13:26:52 Europe/London] API Error in messages.php: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'message_id' in 'field list'
#0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\UsageStats.php(70): PDO->prepare()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Message.php(67): UsageStats->recordUsage()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\messages.php(85): Message->create()
#3 {main}
[24-Mar-2025 13:26:52 Europe/London] Error recording usage: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'message_id' in 'field list'
[24-Mar-2025 13:26:52 Europe/London] Error creating message: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'message_id' in 'field list'
[24-Mar-2025 13:26:52 Europe/London] API Error in messages.php: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'message_id' in 'field list'
#0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\UsageStats.php(70): PDO->prepare()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Message.php(67): UsageStats->recordUsage()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\messages.php(85): Message->create()
#3 {main}
[24-Mar-2025 13:27:50 Europe/London] Added message_id column to usage_stats table
[24-Mar-2025 13:27:50 Europe/London] Added message_type column to usage_stats table
[24-Mar-2025 13:27:58 Europe/London] Error recording usage: SQLSTATE[HY000]: General error: 1364 Field 'question' doesn't have a default value
[24-Mar-2025 13:27:58 Europe/London] Error creating message: SQLSTATE[HY000]: General error: 1364 Field 'question' doesn't have a default value
[24-Mar-2025 13:27:58 Europe/London] API Error in messages.php: SQLSTATE[HY000]: General error: 1364 Field 'question' doesn't have a default value
#0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\UsageStats.php(80): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Message.php(67): UsageStats->recordUsage()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\messages.php(85): Message->create()
#3 {main}
[24-Mar-2025 13:27:58 Europe/London] Error recording usage: SQLSTATE[HY000]: General error: 1364 Field 'question' doesn't have a default value
[24-Mar-2025 13:27:58 Europe/London] Error creating message: SQLSTATE[HY000]: General error: 1364 Field 'question' doesn't have a default value
[24-Mar-2025 13:27:58 Europe/London] API Error in messages.php: SQLSTATE[HY000]: General error: 1364 Field 'question' doesn't have a default value
#0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\UsageStats.php(80): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Message.php(67): UsageStats->recordUsage()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\messages.php(85): Message->create()
#3 {main}
[24-Mar-2025 13:31:14 Europe/London] Error recording usage: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'question' cannot be null
[24-Mar-2025 13:31:14 Europe/London] Error creating message: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'question' cannot be null
[24-Mar-2025 13:31:14 Europe/London] API Error in messages.php: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'question' cannot be null
#0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\UsageStats.php(81): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Message.php(67): UsageStats->recordUsage()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\messages.php(85): Message->create()
#3 {main}
[24-Mar-2025 13:31:14 Europe/London] Error recording usage: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'question' cannot be null
[24-Mar-2025 13:31:14 Europe/London] Error creating message: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'question' cannot be null
[24-Mar-2025 13:31:14 Europe/London] API Error in messages.php: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'question' cannot be null
#0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\UsageStats.php(81): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Message.php(67): UsageStats->recordUsage()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\messages.php(85): Message->create()
#3 {main}
[24-Mar-2025 13:35:01 Europe/London] PHP Warning:  ini_set(): Output handler 'zlib output compression' conflicts with 'ob_gzhandler' in C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\dashboard.php on line 20
[24-Mar-2025 13:41:30 Europe/London] Login failed for username: zagzoog
[24-Mar-2025 13:51:32 Europe/London] PHP Warning:  ini_set(): Output handler 'zlib output compression' conflicts with 'ob_gzhandler' in C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\dashboard.php on line 20
[24-Mar-2025 14:01:57 Europe/London] PHP Warning:  ini_set(): Output handler 'zlib output compression' conflicts with 'ob_gzhandler' in C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\dashboard.php on line 20
[24-Mar-2025 14:02:03 Europe/London] PHP Warning:  ini_set(): Output handler 'zlib output compression' conflicts with 'ob_gzhandler' in C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\dashboard.php on line 20
[24-Mar-2025 16:54:32 Europe/London] PHP Warning:  ini_set(): Output handler 'zlib output compression' conflicts with 'ob_gzhandler' in C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\dashboard.php on line 20
[24-Mar-2025 17:07:12 Europe/London] PHP Warning:  require_once(C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin/../app/models/Plugin.php): Failed to open stream: No such file or directory in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\plugins.php on line 7
[24-Mar-2025 17:07:12 Europe/London] PHP Fatal error:  Uncaught Error: Failed opening required 'C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin/../app/models/Plugin.php' (include_path='.;C:/Users/zagzo/Downloads/UniServerZ/home/us_pear/PEAR') in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\plugins.php:7
Stack trace:
#0 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\plugins.php on line 7
[24-Mar-2025 17:09:30 Europe/London] PHP Fatal error:  Uncaught Error: Class "Plugin" not found in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\plugins.php:57
Stack trace:
#0 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\plugins.php on line 57
[24-Mar-2025 17:11:16 Europe/London] PHP Fatal error:  Declaration of LLMModelSelector::activate() must be compatible with Plugin::activate($pluginId) in C:\Users\zagzo\Downloads\UniServerZ\www\chat\plugins\LLMModelSelector\LLMModelSelector.php on line 21
[24-Mar-2025 17:12:50 Europe/London] PHP Fatal error:  Cannot declare class Plugin, because the name is already in use in C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\Plugin.php on line 3
[24-Mar-2025 17:14:10 Europe/London] PHP Fatal error:  Declaration of N8nWebhookHandler::activate() must be compatible with Plugin::activate($pluginId = null) in C:\Users\zagzo\Downloads\UniServerZ\www\chat\plugins\N8nWebhookHandler\N8nWebhookHandler.php on line 21
[24-Mar-2025 17:19:52 Europe/London] PHP Warning:  ini_set(): Session ini settings cannot be changed when a session is active in C:\Users\zagzo\Downloads\UniServerZ\www\chat\config\config.php on line 11
[24-Mar-2025 17:19:52 Europe/London] PHP Warning:  ini_set(): Session ini settings cannot be changed when a session is active in C:\Users\zagzo\Downloads\UniServerZ\www\chat\config\config.php on line 12
[24-Mar-2025 17:19:52 Europe/London] PHP Warning:  ini_set(): Session ini settings cannot be changed when a session is active in C:\Users\zagzo\Downloads\UniServerZ\www\chat\config\config.php on line 13
[24-Mar-2025 17:19:55 Europe/London] PHP Warning:  ini_set(): Session ini settings cannot be changed when a session is active in C:\Users\zagzo\Downloads\UniServerZ\www\chat\config\config.php on line 11
[24-Mar-2025 17:19:55 Europe/London] PHP Warning:  ini_set(): Session ini settings cannot be changed when a session is active in C:\Users\zagzo\Downloads\UniServerZ\www\chat\config\config.php on line 12
[24-Mar-2025 17:19:55 Europe/London] PHP Warning:  ini_set(): Session ini settings cannot be changed when a session is active in C:\Users\zagzo\Downloads\UniServerZ\www\chat\config\config.php on line 13
[24-Mar-2025 17:19:59 Europe/London] PHP Warning:  ini_set(): Session ini settings cannot be changed when a session is active in C:\Users\zagzo\Downloads\UniServerZ\www\chat\config\config.php on line 11
[24-Mar-2025 17:19:59 Europe/London] PHP Warning:  ini_set(): Session ini settings cannot be changed when a session is active in C:\Users\zagzo\Downloads\UniServerZ\www\chat\config\config.php on line 12
[24-Mar-2025 17:19:59 Europe/London] PHP Warning:  ini_set(): Session ini settings cannot be changed when a session is active in C:\Users\zagzo\Downloads\UniServerZ\www\chat\config\config.php on line 13
[24-Mar-2025 17:20:06 Europe/London] PHP Warning:  ini_set(): Session ini settings cannot be changed when a session is active in C:\Users\zagzo\Downloads\UniServerZ\www\chat\config\config.php on line 11
[24-Mar-2025 17:20:06 Europe/London] PHP Warning:  ini_set(): Session ini settings cannot be changed when a session is active in C:\Users\zagzo\Downloads\UniServerZ\www\chat\config\config.php on line 12
[24-Mar-2025 17:20:06 Europe/London] PHP Warning:  ini_set(): Session ini settings cannot be changed when a session is active in C:\Users\zagzo\Downloads\UniServerZ\www\chat\config\config.php on line 13
[24-Mar-2025 17:20:07 Europe/London] PHP Warning:  ini_set(): Session ini settings cannot be changed when a session is active in C:\Users\zagzo\Downloads\UniServerZ\www\chat\config\config.php on line 11
[24-Mar-2025 17:20:07 Europe/London] PHP Warning:  ini_set(): Session ini settings cannot be changed when a session is active in C:\Users\zagzo\Downloads\UniServerZ\www\chat\config\config.php on line 12
[24-Mar-2025 17:20:07 Europe/London] PHP Warning:  ini_set(): Session ini settings cannot be changed when a session is active in C:\Users\zagzo\Downloads\UniServerZ\www\chat\config\config.php on line 13
[24-Mar-2025 17:20:08 Europe/London] PHP Warning:  ini_set(): Session ini settings cannot be changed when a session is active in C:\Users\zagzo\Downloads\UniServerZ\www\chat\config\config.php on line 11
[24-Mar-2025 17:20:08 Europe/London] PHP Warning:  ini_set(): Session ini settings cannot be changed when a session is active in C:\Users\zagzo\Downloads\UniServerZ\www\chat\config\config.php on line 12
[24-Mar-2025 17:20:08 Europe/London] PHP Warning:  ini_set(): Session ini settings cannot be changed when a session is active in C:\Users\zagzo\Downloads\UniServerZ\www\chat\config\config.php on line 13
[24-Mar-2025 17:20:08 Europe/London] PHP Warning:  ini_set(): Session ini settings cannot be changed when a session is active in C:\Users\zagzo\Downloads\UniServerZ\www\chat\config\config.php on line 11
[24-Mar-2025 17:20:08 Europe/London] PHP Warning:  ini_set(): Session ini settings cannot be changed when a session is active in C:\Users\zagzo\Downloads\UniServerZ\www\chat\config\config.php on line 12
[24-Mar-2025 17:20:08 Europe/London] PHP Warning:  ini_set(): Session ini settings cannot be changed when a session is active in C:\Users\zagzo\Downloads\UniServerZ\www\chat\config\config.php on line 13
[24-Mar-2025 17:20:34 Europe/London] PHP Warning:  ini_set(): Session ini settings cannot be changed when a session is active in C:\Users\zagzo\Downloads\UniServerZ\www\chat\config\config.php on line 11
[24-Mar-2025 17:20:34 Europe/London] PHP Warning:  ini_set(): Session ini settings cannot be changed when a session is active in C:\Users\zagzo\Downloads\UniServerZ\www\chat\config\config.php on line 12
[24-Mar-2025 17:20:34 Europe/London] PHP Warning:  ini_set(): Session ini settings cannot be changed when a session is active in C:\Users\zagzo\Downloads\UniServerZ\www\chat\config\config.php on line 13
[24-Mar-2025 17:20:46 Europe/London] PHP Warning:  ini_set(): Session ini settings cannot be changed when a session is active in C:\Users\zagzo\Downloads\UniServerZ\www\chat\config\config.php on line 11
[24-Mar-2025 17:20:46 Europe/London] PHP Warning:  ini_set(): Session ini settings cannot be changed when a session is active in C:\Users\zagzo\Downloads\UniServerZ\www\chat\config\config.php on line 12
[24-Mar-2025 17:20:46 Europe/London] PHP Warning:  ini_set(): Session ini settings cannot be changed when a session is active in C:\Users\zagzo\Downloads\UniServerZ\www\chat\config\config.php on line 13
[24-Mar-2025 17:20:46 Europe/London] PHP Warning:  ini_set(): Session ini settings cannot be changed when a session is active in C:\Users\zagzo\Downloads\UniServerZ\www\chat\config\config.php on line 11
[24-Mar-2025 17:20:46 Europe/London] PHP Warning:  ini_set(): Session ini settings cannot be changed when a session is active in C:\Users\zagzo\Downloads\UniServerZ\www\chat\config\config.php on line 12
[24-Mar-2025 17:20:46 Europe/London] PHP Warning:  ini_set(): Session ini settings cannot be changed when a session is active in C:\Users\zagzo\Downloads\UniServerZ\www\chat\config\config.php on line 13
[24-Mar-2025 17:28:20 Europe/London] Error installing plugin: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'id' at row 1
[24-Mar-2025 17:28:28 Europe/London] Error installing plugin: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'id' at row 1
[24-Mar-2025 17:28:32 Europe/London] Error installing plugin: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'id' at row 1
[24-Mar-2025 17:28:46 Europe/London] Error installing plugin: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'id' at row 1
[24-Mar-2025 17:29:10 Europe/London] Error installing plugin: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'id' at row 1
[24-Mar-2025 17:34:27 Europe/London] Error installing plugin: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'id' at row 1
[24-Mar-2025 17:35:31 Europe/London] Error installing plugin: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[24-Mar-2025 17:39:23 Europe/London] PHP Fatal error:  Uncaught Error: Call to undefined method PluginModel::findById() in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\plugin_edit.php:70
Stack trace:
#0 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\plugin_edit.php on line 70
[24-Mar-2025 17:39:52 Europe/London] PHP Fatal error:  Uncaught Error: Call to undefined method PluginModel::findById() in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\plugin_edit.php:70
Stack trace:
#0 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\plugin_edit.php on line 70
[24-Mar-2025 17:49:56 Europe/London] Plugin loaded successfully: N8nWebhookHandler
[24-Mar-2025 17:49:56 Europe/London] Plugin Class: N8nWebhookHandler
[24-Mar-2025 17:49:56 Europe/London] Plugin Instance: N8nWebhookHandler
[24-Mar-2025 17:49:56 Europe/London] PHP Fatal error:  Uncaught Error: Cannot access protected property N8nWebhookHandler::$db in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\plugin_edit.php:211
Stack trace:
#0 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\plugin_edit.php on line 211
[24-Mar-2025 17:50:03 Europe/London] Plugin file not found: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/Code Formatter/Code Formatter.php
[24-Mar-2025 17:50:07 Europe/London] Plugin loaded successfully: N8nWebhookHandler
[24-Mar-2025 17:50:07 Europe/London] Plugin Class: N8nWebhookHandler
[24-Mar-2025 17:50:07 Europe/London] Plugin Instance: N8nWebhookHandler
[24-Mar-2025 17:50:07 Europe/London] PHP Fatal error:  Uncaught Error: Cannot access protected property N8nWebhookHandler::$db in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\plugin_edit.php:211
Stack trace:
#0 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\plugin_edit.php on line 211
[24-Mar-2025 17:52:18 Europe/London] Plugin loaded successfully: N8nWebhookHandler
[24-Mar-2025 17:52:18 Europe/London] Plugin Class: N8nWebhookHandler
[24-Mar-2025 17:52:18 Europe/London] Plugin Instance: N8nWebhookHandler
[24-Mar-2025 17:52:18 Europe/London] Error getting n8n webhook settings: SQLSTATE[42S02]: Base table or view not found: 1146 Table 'mychat.n8n_webhook_settings' doesn't exist
[24-Mar-2025 17:52:18 Europe/London] Settings: Array
(
    [webhook_url] => 
    [timeout] => 30
    [is_active] => 1
)

[24-Mar-2025 17:53:37 Europe/London] Plugin loaded successfully: N8nWebhookHandler
[24-Mar-2025 17:53:37 Europe/London] Error updating n8n webhook settings: SQLSTATE[42S02]: Base table or view not found: 1146 Table 'mychat.n8n_webhook_settings' doesn't exist
[24-Mar-2025 17:53:37 Europe/London] Plugin Class: N8nWebhookHandler
[24-Mar-2025 17:53:37 Europe/London] Plugin Instance: N8nWebhookHandler
[24-Mar-2025 17:53:37 Europe/London] Error getting n8n webhook settings: SQLSTATE[42S02]: Base table or view not found: 1146 Table 'mychat.n8n_webhook_settings' doesn't exist
[24-Mar-2025 17:53:37 Europe/London] Settings: Array
(
    [webhook_url] => 
    [timeout] => 30
    [is_active] => 1
)

[24-Mar-2025 17:55:18 Europe/London] Plugin loaded successfully: N8nWebhookHandler
[24-Mar-2025 17:55:18 Europe/London] Plugin Class: N8nWebhookHandler
[24-Mar-2025 17:55:18 Europe/London] Plugin Instance: N8nWebhookHandler
[24-Mar-2025 17:55:18 Europe/London] Settings: Array
(
    [id] => 1
    [webhook_url] => 
    [is_active] => 1
    [timeout] => 30
    [created_at] => 2025-03-24 20:55:18
    [updated_at] => 2025-03-24 20:55:18
)

[24-Mar-2025 17:55:23 Europe/London] Plugin loaded successfully: N8nWebhookHandler
[24-Mar-2025 17:55:25 Europe/London] Plugin loaded successfully: N8nWebhookHandler
[24-Mar-2025 17:55:25 Europe/London] Plugin Class: N8nWebhookHandler
[24-Mar-2025 17:55:25 Europe/London] Plugin Instance: N8nWebhookHandler
[24-Mar-2025 17:55:25 Europe/London] Settings: Array
(
    [id] => 1
    [webhook_url] => 
    [is_active] => 1
    [timeout] => 30
    [created_at] => 2025-03-24 20:55:18
    [updated_at] => 2025-03-24 20:55:18
)

[24-Mar-2025 17:55:39 Europe/London] Plugin loaded successfully: N8nWebhookHandler
[24-Mar-2025 17:55:47 Europe/London] Plugin file not found: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins//.php
[24-Mar-2025 17:58:41 Europe/London] Plugin loaded successfully: N8nWebhookHandler
[24-Mar-2025 17:58:41 Europe/London] Plugin Class: N8nWebhookHandler
[24-Mar-2025 17:58:41 Europe/London] Plugin Instance: N8nWebhookHandler
[24-Mar-2025 17:58:41 Europe/London] Settings: Array
(
    [id] => 1
    [webhook_url] => https://n8n.mazcode.com/webhook-test/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
    [is_active] => 1
    [timeout] => 120
    [created_at] => 2025-03-24 20:55:18
    [updated_at] => 2025-03-24 20:55:39
)

[24-Mar-2025 17:58:49 Europe/London] Plugin loaded successfully: N8nWebhookHandler
[24-Mar-2025 17:58:56 Europe/London] Plugin file not found: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins//.php
[24-Mar-2025 18:00:36 Europe/London] Plugin loaded successfully: N8nWebhookHandler
[24-Mar-2025 18:00:36 Europe/London] Plugin Class: N8nWebhookHandler
[24-Mar-2025 18:00:36 Europe/London] Plugin Instance: N8nWebhookHandler
[24-Mar-2025 18:00:36 Europe/London] Settings: Array
(
    [id] => 1
    [webhook_url] => https://n8n.mazcode.com/webhook-test/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
    [is_active] => 1
    [timeout] => 50
    [created_at] => 2025-03-24 20:55:18
    [updated_at] => 2025-03-24 20:58:49
)

[24-Mar-2025 18:00:43 Europe/London] Plugin loaded successfully: N8nWebhookHandler
[24-Mar-2025 18:05:23 Europe/London] Plugin loaded successfully: N8nWebhookHandler
[24-Mar-2025 18:05:23 Europe/London] Plugin Class: N8nWebhookHandler
[24-Mar-2025 18:05:23 Europe/London] Plugin Instance: N8nWebhookHandler
[24-Mar-2025 18:05:23 Europe/London] PHP Warning:  Undefined property: N8nWebhookHandler::$pluginId in C:\Users\zagzo\Downloads\UniServerZ\www\chat\plugins\N8nWebhookHandler\N8nWebhookHandler.php on line 202
[24-Mar-2025 18:05:23 Europe/London] Settings: Array
(
    [webhook_url] => 
    [timeout] => 30
    [is_active] => 1
)

[24-Mar-2025 18:07:08 Europe/London] Plugin loaded successfully: N8nWebhookHandler
[24-Mar-2025 18:07:08 Europe/London] Plugin Class: N8nWebhookHandler
[24-Mar-2025 18:07:08 Europe/London] Plugin Instance: N8nWebhookHandler
[24-Mar-2025 18:07:08 Europe/London] Settings: Array
(
    [id] => 1
    [plugin_id] => 7
    [webhook_url] => 
    [is_active] => 1
    [timeout] => 30
    [created_at] => 2025-03-24 21:05:23
    [updated_at] => 2025-03-24 21:05:23
)

[24-Mar-2025 18:07:27 Europe/London] Plugin loaded successfully: N8nWebhookHandler
[24-Mar-2025 18:07:28 Europe/London] Plugin file not found: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins//.php
[24-Mar-2025 18:07:49 Europe/London] Plugin file not found: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins//.php
[24-Mar-2025 18:10:22 Europe/London] Plugin loaded successfully: N8nWebhookHandler
[24-Mar-2025 18:10:22 Europe/London] Plugin Class: N8nWebhookHandler
[24-Mar-2025 18:10:22 Europe/London] Plugin Instance: N8nWebhookHandler
[24-Mar-2025 18:10:22 Europe/London] Settings: Array
(
    [id] => 2
    [plugin_id] => 8
    [webhook_url] => 
    [is_active] => 1
    [timeout] => 30
    [created_at] => 2025-03-24 21:10:22
    [updated_at] => 2025-03-24 21:10:22
)

[24-Mar-2025 18:10:51 Europe/London] Plugin loaded successfully: N8nWebhookHandler
[24-Mar-2025 18:10:53 Europe/London] Plugin loaded successfully: N8nWebhookHandler
[24-Mar-2025 18:10:53 Europe/London] Plugin Class: N8nWebhookHandler
[24-Mar-2025 18:10:53 Europe/London] Plugin Instance: N8nWebhookHandler
[24-Mar-2025 18:10:53 Europe/London] Settings: Array
(
    [id] => 2
    [plugin_id] => 8
    [webhook_url] => https://n8n.mazcode.com/webhook-test/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
    [is_active] => 1
    [timeout] => 120
    [created_at] => 2025-03-24 21:10:22
    [updated_at] => 2025-03-24 21:10:51
)

[24-Mar-2025 18:11:15 Europe/London] Plugin file not found: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/Code Formatter/Code Formatter.php
[24-Mar-2025 18:13:51 Europe/London] Plugin loaded successfully: N8nWebhookHandler
[24-Mar-2025 18:13:51 Europe/London] Plugin Class: N8nWebhookHandler
[24-Mar-2025 18:13:51 Europe/London] Plugin Instance: N8nWebhookHandler
[24-Mar-2025 18:13:51 Europe/London] Settings: Array
(
    [id] => 3
    [plugin_id] => 9
    [webhook_url] => 
    [is_active] => 1
    [timeout] => 30
    [created_at] => 2025-03-24 21:13:51
    [updated_at] => 2025-03-24 21:13:51
)

[24-Mar-2025 18:14:06 Europe/London] Plugin loaded successfully: N8nWebhookHandler
[24-Mar-2025 18:14:08 Europe/London] Plugin loaded successfully: N8nWebhookHandler
[24-Mar-2025 18:14:08 Europe/London] Plugin Class: N8nWebhookHandler
[24-Mar-2025 18:14:08 Europe/London] Plugin Instance: N8nWebhookHandler
[24-Mar-2025 18:14:08 Europe/London] Settings: Array
(
    [id] => 3
    [plugin_id] => 9
    [webhook_url] => https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
    [is_active] => 1
    [timeout] => 30
    [created_at] => 2025-03-24 21:13:51
    [updated_at] => 2025-03-24 21:14:06
)

[24-Mar-2025 18:14:15 Europe/London] Plugin loaded successfully: N8nWebhookHandler
[24-Mar-2025 18:15:14 Europe/London] PHP Warning:  ini_set(): Output handler 'zlib output compression' conflicts with 'ob_gzhandler' in C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\dashboard.php on line 20
[24-Mar-2025 18:15:20 Europe/London] PHP Warning:  ini_set(): Output handler 'zlib output compression' conflicts with 'ob_gzhandler' in C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\dashboard.php on line 20
[24-Mar-2025 18:16:26 Europe/London] PHP Warning:  ini_set(): Output handler 'zlib output compression' conflicts with 'ob_gzhandler' in C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\dashboard.php on line 20
[24-Mar-2025 18:16:34 Europe/London] PHP Warning:  ini_set(): Output handler 'zlib output compression' conflicts with 'ob_gzhandler' in C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\dashboard.php on line 20
[24-Mar-2025 19:00:18 Europe/London] Plugin loaded successfully: DirectMessageHandler
[24-Mar-2025 19:00:18 Europe/London] PHP Fatal error:  Uncaught PDOException: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'provider' in 'field list' in C:\Users\zagzo\Downloads\UniServerZ\www\chat\plugins\DirectMessageHandler\DirectMessageHandler.php:50
Stack trace:
#0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\plugins\DirectMessageHandler\DirectMessageHandler.php(50): PDO->prepare()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\plugin_edit.php(61): DirectMessageHandler->activate()
#2 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\plugins\DirectMessageHandler\DirectMessageHandler.php on line 50
[24-Mar-2025 19:00:28 Europe/London] Plugin loaded successfully: DirectMessageHandler
[24-Mar-2025 19:00:28 Europe/London] PHP Fatal error:  Uncaught PDOException: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'provider' in 'field list' in C:\Users\zagzo\Downloads\UniServerZ\www\chat\plugins\DirectMessageHandler\DirectMessageHandler.php:50
Stack trace:
#0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\plugins\DirectMessageHandler\DirectMessageHandler.php(50): PDO->prepare()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\admin\plugin_edit.php(61): DirectMessageHandler->activate()
#2 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\plugins\DirectMessageHandler\DirectMessageHandler.php on line 50
[24-Mar-2025 19:00:52 Europe/London] Plugin loaded successfully: N8nWebhookHandler
[24-Mar-2025 19:00:52 Europe/London] Plugin Class: N8nWebhookHandler
[24-Mar-2025 19:00:52 Europe/London] Plugin Instance: N8nWebhookHandler
[24-Mar-2025 19:00:52 Europe/London] Settings: Array
(
    [id] => 3
    [plugin_id] => 9
    [webhook_url] => https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
    [is_active] => 1
    [timeout] => 120
    [created_at] => 2025-03-24 21:13:51
    [updated_at] => 2025-03-24 21:14:15
)

[24-Mar-2025 21:39:09 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 21:39:09 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[24-Mar-2025 21:39:09 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 21:39:09 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 21:39:09 Europe/London] Creating instance of plugin class: DirectMessageHandler
[24-Mar-2025 21:39:11 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 21:39:11 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 21:39:11 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 21:39:11 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 21:39:11 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 21:39:11 Europe/London] Creating instance of plugin class: N8nWebhookHandler
[24-Mar-2025 21:39:11 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 21:39:11 Europe/London] Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 21:39:11 Europe/London] Loaded plugins: Array
(
    [0] => DirectMessageHandler
    [1] => LLMModelSelector
    [2] => N8nWebhookHandler
)

[24-Mar-2025 21:39:11 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 21:40:24 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 21:40:24 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[24-Mar-2025 21:40:24 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 21:40:24 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 21:40:24 Europe/London] Creating instance of plugin class: DirectMessageHandler
[24-Mar-2025 21:40:26 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 21:40:26 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 21:40:26 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 21:40:26 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 21:40:26 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 21:40:26 Europe/London] Creating instance of plugin class: N8nWebhookHandler
[24-Mar-2025 21:40:26 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 21:40:26 Europe/London] Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 21:40:26 Europe/London] Loaded plugins: Array
(
    [0] => DirectMessageHandler
    [1] => LLMModelSelector
    [2] => N8nWebhookHandler
)

[24-Mar-2025 21:40:26 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 21:43:59 Europe/London] Plugin loaded successfully: N8nWebhookHandler
[24-Mar-2025 21:43:59 Europe/London] Plugin Class: N8nWebhookHandler
[24-Mar-2025 21:43:59 Europe/London] Plugin Instance: N8nWebhookHandler
[24-Mar-2025 21:43:59 Europe/London] Settings: Array
(
    [id] => 3
    [plugin_id] => 9
    [webhook_url] => https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
    [is_active] => 1
    [timeout] => 120
    [created_at] => 2025-03-24 21:13:51
    [updated_at] => 2025-03-24 21:14:15
)

[24-Mar-2025 21:48:49 Europe/London] Plugin loaded successfully: N8nWebhookHandler
[24-Mar-2025 21:48:49 Europe/London] Plugin Class: N8nWebhookHandler
[24-Mar-2025 21:48:49 Europe/London] Plugin Instance: N8nWebhookHandler
[24-Mar-2025 21:48:49 Europe/London] Settings: Array
(
    [id] => 3
    [plugin_id] => 9
    [webhook_url] => https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
    [is_active] => 1
    [timeout] => 120
    [created_at] => 2025-03-24 21:13:51
    [updated_at] => 2025-03-24 21:14:15
)

[24-Mar-2025 21:48:57 Europe/London] Plugin loaded successfully: N8nWebhookHandler
[24-Mar-2025 21:49:00 Europe/London] Plugin loaded successfully: N8nWebhookHandler
[24-Mar-2025 21:49:00 Europe/London] Plugin Class: N8nWebhookHandler
[24-Mar-2025 21:49:00 Europe/London] Plugin Instance: N8nWebhookHandler
[24-Mar-2025 21:49:00 Europe/London] Settings: Array
(
    [id] => 3
    [plugin_id] => 9
    [webhook_url] => https://n8n.mazcode.com/webhook-test/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
    [is_active] => 1
    [timeout] => 120
    [created_at] => 2025-03-24 21:13:51
    [updated_at] => 2025-03-25 00:48:57
)

[24-Mar-2025 21:51:07 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 21:51:09 Europe/London] Attempting to load plugin: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 21:51:09 Europe/London] Initializing plugin: N8nWebhookHandler
[24-Mar-2025 21:51:09 Europe/London] Plugin initialized: N8nWebhookHandler
[24-Mar-2025 21:51:09 Europe/London] Attempting to load plugin: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 21:51:09 Europe/London] Initializing plugin: LLMModelSelector
[24-Mar-2025 21:51:09 Europe/London] Plugin initialized: LLMModelSelector
[24-Mar-2025 21:51:09 Europe/London] Loaded plugins: Array
(
    [0] => N8nWebhookHandler
    [1] => LLMModelSelector
)

[24-Mar-2025 21:51:09 Europe/London] Active plugins: Array
(
    [0] => N8nWebhookHandler
    [1] => LLMModelSelector
)

[24-Mar-2025 21:54:31 Europe/London] Plugin loaded successfully: N8nWebhookHandler
[24-Mar-2025 21:54:31 Europe/London] Plugin Class: N8nWebhookHandler
[24-Mar-2025 21:54:31 Europe/London] Plugin Instance: N8nWebhookHandler
[24-Mar-2025 21:54:31 Europe/London] Settings: Array
(
    [id] => 3
    [plugin_id] => 9
    [webhook_url] => https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
    [is_active] => 1
    [timeout] => 120
    [created_at] => 2025-03-24 21:13:51
    [updated_at] => 2025-03-25 00:52:24
)

[24-Mar-2025 21:54:55 Europe/London] Plugin loaded successfully: N8nWebhookHandler
[24-Mar-2025 22:00:03 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 22:00:05 Europe/London] Attempting to load plugin: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 22:00:05 Europe/London] Initializing plugin: N8nWebhookHandler
[24-Mar-2025 22:00:05 Europe/London] Plugin initialized: N8nWebhookHandler
[24-Mar-2025 22:00:05 Europe/London] Attempting to load plugin: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 22:00:05 Europe/London] Initializing plugin: LLMModelSelector
[24-Mar-2025 22:00:05 Europe/London] Plugin initialized: LLMModelSelector
[24-Mar-2025 22:00:05 Europe/London] Loaded plugins: Array
(
    [0] => N8nWebhookHandler
    [1] => LLMModelSelector
)

[24-Mar-2025 22:00:05 Europe/London] Active plugins: Array
(
    [0] => N8nWebhookHandler
    [1] => LLMModelSelector
)

[24-Mar-2025 22:04:11 Europe/London] API Error in messages.php: Conversation ID is required
#0 {main}
[24-Mar-2025 22:06:19 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 22:06:21 Europe/London] Attempting to load plugin: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 22:06:21 Europe/London] Initializing plugin: N8nWebhookHandler
[24-Mar-2025 22:06:21 Europe/London] Plugin initialized: N8nWebhookHandler
[24-Mar-2025 22:06:21 Europe/London] Attempting to load plugin: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 22:06:21 Europe/London] Initializing plugin: LLMModelSelector
[24-Mar-2025 22:06:21 Europe/London] Plugin initialized: LLMModelSelector
[24-Mar-2025 22:06:21 Europe/London] Loaded plugins: Array
(
    [0] => N8nWebhookHandler
    [1] => LLMModelSelector
)

[24-Mar-2025 22:06:21 Europe/London] Active plugins: Array
(
    [0] => N8nWebhookHandler
    [1] => LLMModelSelector
)

[24-Mar-2025 22:12:22 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 22:12:24 Europe/London] Attempting to load plugin: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 22:12:24 Europe/London] Initializing plugin: N8nWebhookHandler
[24-Mar-2025 22:12:24 Europe/London] N8nWebhookHandler: === Plugin Initialization ===
[24-Mar-2025 22:12:24 Europe/London] N8nWebhookHandler: Plugin constructed with ID: 9
[24-Mar-2025 22:12:24 Europe/London] N8nWebhookHandler: 
=== Plugin Initialization ===
[24-Mar-2025 22:12:24 Europe/London] N8nWebhookHandler: Initializing plugin with ID: 9
[24-Mar-2025 22:12:24 Europe/London] N8nWebhookHandler: Registering hooks...
[24-Mar-2025 22:12:24 Europe/London] N8nWebhookHandler: Verifying hook registration...
[24-Mar-2025 22:12:24 Europe/London] N8nWebhookHandler: before_send_message hook is registered
[24-Mar-2025 22:12:24 Europe/London] N8nWebhookHandler: Hook #1:
[24-Mar-2025 22:12:24 Europe/London] N8nWebhookHandler: - Callback type: array
[24-Mar-2025 22:12:24 Europe/London] N8nWebhookHandler: - Priority: 10
[24-Mar-2025 22:12:24 Europe/London] N8nWebhookHandler: Hooks registered successfully
[24-Mar-2025 22:12:24 Europe/London] N8nWebhookHandler: === End Initialization ===

[24-Mar-2025 22:12:24 Europe/London] Plugin initialized: N8nWebhookHandler
[24-Mar-2025 22:12:24 Europe/London] Attempting to load plugin: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 22:12:24 Europe/London] Initializing plugin: LLMModelSelector
[24-Mar-2025 22:12:24 Europe/London] Plugin initialized: LLMModelSelector
[24-Mar-2025 22:12:24 Europe/London] Loaded plugins: Array
(
    [0] => N8nWebhookHandler
    [1] => LLMModelSelector
)

[24-Mar-2025 22:12:24 Europe/London] Active plugins: Array
(
    [0] => N8nWebhookHandler
    [1] => LLMModelSelector
)

[24-Mar-2025 22:12:24 Europe/London] N8nWebhookHandler: 
=== Message Processing Started ===
[24-Mar-2025 22:12:24 Europe/London] N8nWebhookHandler: Received message in processMessage method
[24-Mar-2025 22:12:24 Europe/London] N8nWebhookHandler: Plugin ID: 9
[24-Mar-2025 22:12:24 Europe/London] N8nWebhookHandler: Message data: {
    "content": "Test message from plugin loader",
    "conversation_id": "test-1742854344",
    "timestamp": "2025-03-24 22:12:24"
}
[24-Mar-2025 22:12:24 Europe/London] N8nWebhookHandler: Webhook settings found: YES
[24-Mar-2025 22:12:24 Europe/London] N8nWebhookHandler: Webhook URL: https://n8n.mazcode.com/webhook-test/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[24-Mar-2025 22:12:24 Europe/London] N8nWebhookHandler: Webhook active: YES
[24-Mar-2025 22:12:24 Europe/London] N8nWebhookHandler: Timeout: 120 seconds
[24-Mar-2025 22:12:24 Europe/London] N8nWebhookHandler: Sending request data: {"message":"Test message from plugin loader","conversation_id":"test-1742854344","timestamp":"2025-03-24 22:12:24"}
[24-Mar-2025 22:12:24 Europe/London] N8nWebhookHandler: Executing cURL request...
[24-Mar-2025 22:12:24 Europe/London] N8nWebhookHandler: Curl verbose output: *   Trying 104.21.32.1:443...
* Connected to n8n.mazcode.com (104.21.32.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook-test/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook-test/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 115]
> POST /webhook-test/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 115

* old SSL session ID is stale, removing
< HTTP/2 404 
< date: Mon, 24 Mar 2025 22:12:24 GMT
< content-type: application/json; charset=utf-8
< content-length: 259
< etag: W/"103-c5MLEeIwZ02DGrJ/ppMHlbp1zNc"
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=MTTdtI68is28S32NP3vs2uMDPy7mVqEtLExLyagiUlGNfraJIa%2BHpTYjtLUKucShs6QGc9zQKYXKQnXQw3mGegWelpw5jAtbp6CinMAhtMPJYbfzq3omFpQllXlLTZsdckk%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 92598284b85c0e8d-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=151008&min_rtt=121508&rtt_var=57605&sent=7&recv=9&lost=0&retrans=0&sent_bytes=3410&recv_bytes=953&delivery_rate=23099&cwnd=253&unsent_bytes=0&cid=a3f8326577ed728d&ts=286&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[24-Mar-2025 22:12:24 Europe/London] N8nWebhookHandler: HTTP Status Code: 404
[24-Mar-2025 22:12:24 Europe/London] N8nWebhookHandler: Raw Response: {"code":404,"message":"The requested webhook \"b0e277cb-a3ab-40be-9c7d-2048c6bbad8f\" is not registered.","hint":"Click the 'Test workflow' button on the canvas, then try again. (In test mode, the webhook only works for one call after you click this button)"}
[24-Mar-2025 22:12:24 Europe/London] N8nWebhookHandler: Request failed with status code: 404
[24-Mar-2025 22:12:24 Europe/London] N8nWebhookHandler: === Message Processing Ended ===

[24-Mar-2025 22:15:37 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 22:15:39 Europe/London] Attempting to load plugin: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 22:15:39 Europe/London] Initializing plugin: N8nWebhookHandler
[24-Mar-2025 22:15:39 Europe/London] N8nWebhookHandler: === Plugin Initialization ===
[24-Mar-2025 22:15:39 Europe/London] N8nWebhookHandler: Plugin constructed with ID: 9
[24-Mar-2025 22:15:39 Europe/London] N8nWebhookHandler: 
=== Plugin Initialization ===
[24-Mar-2025 22:15:39 Europe/London] N8nWebhookHandler: Initializing plugin with ID: 9
[24-Mar-2025 22:15:39 Europe/London] N8nWebhookHandler: Registering hooks...
[24-Mar-2025 22:15:39 Europe/London] N8nWebhookHandler: Verifying hook registration...
[24-Mar-2025 22:15:39 Europe/London] N8nWebhookHandler: before_send_message hook is registered
[24-Mar-2025 22:15:39 Europe/London] N8nWebhookHandler: Hook #1:
[24-Mar-2025 22:15:39 Europe/London] N8nWebhookHandler: - Callback type: array
[24-Mar-2025 22:15:39 Europe/London] N8nWebhookHandler: - Priority: 10
[24-Mar-2025 22:15:39 Europe/London] N8nWebhookHandler: Hooks registered successfully
[24-Mar-2025 22:15:39 Europe/London] N8nWebhookHandler: === End Initialization ===

[24-Mar-2025 22:15:39 Europe/London] Plugin initialized: N8nWebhookHandler
[24-Mar-2025 22:15:39 Europe/London] Attempting to load plugin: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 22:15:39 Europe/London] Initializing plugin: LLMModelSelector
[24-Mar-2025 22:15:39 Europe/London] Plugin initialized: LLMModelSelector
[24-Mar-2025 22:15:39 Europe/London] Loaded plugins: Array
(
    [0] => N8nWebhookHandler
    [1] => LLMModelSelector
)

[24-Mar-2025 22:15:39 Europe/London] Active plugins: Array
(
    [0] => N8nWebhookHandler
    [1] => LLMModelSelector
)

[24-Mar-2025 22:15:39 Europe/London] N8nWebhookHandler: 
=== Message Processing Started ===
[24-Mar-2025 22:15:39 Europe/London] N8nWebhookHandler: Received message in processMessage method
[24-Mar-2025 22:15:39 Europe/London] N8nWebhookHandler: Plugin ID: 9
[24-Mar-2025 22:15:39 Europe/London] N8nWebhookHandler: Message data: {
    "content": "Test message from plugin loader",
    "conversation_id": "test-1742854539",
    "timestamp": "2025-03-24 22:15:39"
}
[24-Mar-2025 22:15:39 Europe/London] N8nWebhookHandler: Webhook settings found: YES
[24-Mar-2025 22:15:39 Europe/London] N8nWebhookHandler: Webhook URL: https://n8n.mazcode.com/webhook-test/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[24-Mar-2025 22:15:39 Europe/London] N8nWebhookHandler: Webhook active: YES
[24-Mar-2025 22:15:39 Europe/London] N8nWebhookHandler: Timeout: 120 seconds
[24-Mar-2025 22:15:39 Europe/London] N8nWebhookHandler: Sending request data: {"message":"Test message from plugin loader","conversation_id":"test-1742854539","timestamp":"2025-03-24 22:15:39"}
[24-Mar-2025 22:15:39 Europe/London] N8nWebhookHandler: Executing cURL request...
[24-Mar-2025 22:15:39 Europe/London] N8nWebhookHandler: Curl verbose output: *   Trying 104.21.32.1:443...
* Connected to n8n.mazcode.com (104.21.32.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook-test/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook-test/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 115]
> POST /webhook-test/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 115

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Mon, 24 Mar 2025 22:15:39 GMT
< content-type: application/json; charset=utf-8
< content-length: 0
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=cnqOoMZ%2Fm9LYbFCJX%2BS6VMTJjLaFI56AbkZrFV7NQ2WUIJasyog2KUaKkdu9LTUqrKg%2FDixTso33NDxQjvqxdkFI%2F71vzk1jM33UA%2FW51%2B2Np2TwmhnfT3j5%2FO2UbRgqBNc%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925987475909bb1f-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=89300&min_rtt=88096&rtt_var=26903&sent=7&recv=9&lost=0&retrans=0&sent_bytes=3409&recv_bytes=953&delivery_rate=30661&cwnd=253&unsent_bytes=0&cid=e73dbffb1b13e1e9&ts=294&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[24-Mar-2025 22:15:39 Europe/London] N8nWebhookHandler: HTTP Status Code: 200
[24-Mar-2025 22:15:39 Europe/London] N8nWebhookHandler: Raw Response: Empty response
[24-Mar-2025 22:15:39 Europe/London] N8nWebhookHandler: Empty response received from webhook
[24-Mar-2025 22:15:39 Europe/London] N8nWebhookHandler: === Message Processing Ended ===

[24-Mar-2025 22:17:35 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 22:17:37 Europe/London] Attempting to load plugin: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 22:17:37 Europe/London] Initializing plugin: N8nWebhookHandler
[24-Mar-2025 22:17:37 Europe/London] N8nWebhookHandler: === Plugin Initialization ===
[24-Mar-2025 22:17:37 Europe/London] N8nWebhookHandler: Plugin constructed with ID: 9
[24-Mar-2025 22:17:37 Europe/London] N8nWebhookHandler: 
=== Plugin Initialization ===
[24-Mar-2025 22:17:37 Europe/London] N8nWebhookHandler: Initializing plugin with ID: 9
[24-Mar-2025 22:17:37 Europe/London] N8nWebhookHandler: Registering hooks...
[24-Mar-2025 22:17:37 Europe/London] N8nWebhookHandler: Verifying hook registration...
[24-Mar-2025 22:17:37 Europe/London] N8nWebhookHandler: before_send_message hook is registered
[24-Mar-2025 22:17:37 Europe/London] N8nWebhookHandler: Hook #1:
[24-Mar-2025 22:17:37 Europe/London] N8nWebhookHandler: - Callback type: array
[24-Mar-2025 22:17:37 Europe/London] N8nWebhookHandler: - Priority: 10
[24-Mar-2025 22:17:37 Europe/London] N8nWebhookHandler: Hooks registered successfully
[24-Mar-2025 22:17:37 Europe/London] N8nWebhookHandler: === End Initialization ===

[24-Mar-2025 22:17:37 Europe/London] Plugin initialized: N8nWebhookHandler
[24-Mar-2025 22:17:37 Europe/London] Attempting to load plugin: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 22:17:37 Europe/London] Initializing plugin: LLMModelSelector
[24-Mar-2025 22:17:37 Europe/London] Plugin initialized: LLMModelSelector
[24-Mar-2025 22:17:37 Europe/London] Loaded plugins: Array
(
    [0] => N8nWebhookHandler
    [1] => LLMModelSelector
)

[24-Mar-2025 22:17:37 Europe/London] Active plugins: Array
(
    [0] => N8nWebhookHandler
    [1] => LLMModelSelector
)

[24-Mar-2025 22:17:37 Europe/London] N8nWebhookHandler: 
=== Message Processing Started ===
[24-Mar-2025 22:17:37 Europe/London] N8nWebhookHandler: Received message in processMessage method
[24-Mar-2025 22:17:37 Europe/London] N8nWebhookHandler: Plugin ID: 9
[24-Mar-2025 22:17:37 Europe/London] N8nWebhookHandler: Message data: {
    "content": "Test message from plugin loader",
    "conversation_id": "test-1742854657",
    "timestamp": "2025-03-24 22:17:37"
}
[24-Mar-2025 22:17:37 Europe/London] N8nWebhookHandler: Webhook settings found: YES
[24-Mar-2025 22:17:37 Europe/London] N8nWebhookHandler: Webhook URL: https://n8n.mazcode.com/webhook-test/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[24-Mar-2025 22:17:37 Europe/London] N8nWebhookHandler: Webhook active: YES
[24-Mar-2025 22:17:37 Europe/London] N8nWebhookHandler: Timeout: 120 seconds
[24-Mar-2025 22:17:37 Europe/London] N8nWebhookHandler: Sending request data: {
    "user_message": "Test message from plugin loader",
    "conversation_id": "test-1742854657",
    "timestamp": "2025-03-24 22:17:37",
    "user": {
        "id": null,
        "username": "unknown"
    }
}
[24-Mar-2025 22:17:37 Europe/London] N8nWebhookHandler: Executing cURL request...
[24-Mar-2025 22:17:37 Europe/London] N8nWebhookHandler: Curl verbose output: *   Trying 104.21.16.1:443...
* Connected to n8n.mazcode.com (104.21.16.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook-test/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook-test/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 160]
> POST /webhook-test/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 160

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Mon, 24 Mar 2025 22:17:37 GMT
< content-type: application/json; charset=utf-8
< content-length: 0
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=KXpkajA6KoQQMLIT6qi8ZgrJEu2Te5QveJJcRM%2Fwy8MGPNYd%2B3iIcKvgax3g0mW7GgZ8HWr88ngXY%2B4tCMKtWdVaD4fJJLTh%2FcMsF6Zj96%2FiRHn9DqWIUBg1E8BG9wcYJ58%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 92598a298c175243-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=98542&min_rtt=97270&rtt_var=29187&sent=6&recv=8&lost=0&retrans=0&sent_bytes=3389&recv_bytes=998&delivery_rate=29197&cwnd=252&unsent_bytes=0&cid=67b473336e082ec1&ts=278&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[24-Mar-2025 22:17:37 Europe/London] N8nWebhookHandler: HTTP Status Code: 200
[24-Mar-2025 22:17:37 Europe/London] N8nWebhookHandler: Raw Response: Empty response
[24-Mar-2025 22:17:37 Europe/London] N8nWebhookHandler: Empty response received from webhook
[24-Mar-2025 22:17:37 Europe/London] N8nWebhookHandler: === Message Processing Ended ===

[24-Mar-2025 22:19:18 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 22:19:20 Europe/London] Attempting to load plugin: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 22:19:20 Europe/London] Initializing plugin: N8nWebhookHandler
[24-Mar-2025 22:19:20 Europe/London] N8nWebhookHandler: === Plugin Initialization ===
[24-Mar-2025 22:19:20 Europe/London] N8nWebhookHandler: Plugin constructed with ID: 9
[24-Mar-2025 22:19:20 Europe/London] N8nWebhookHandler: 
=== Plugin Initialization ===
[24-Mar-2025 22:19:20 Europe/London] N8nWebhookHandler: Initializing plugin with ID: 9
[24-Mar-2025 22:19:20 Europe/London] N8nWebhookHandler: Registering hooks...
[24-Mar-2025 22:19:20 Europe/London] N8nWebhookHandler: Verifying hook registration...
[24-Mar-2025 22:19:20 Europe/London] N8nWebhookHandler: before_send_message hook is registered
[24-Mar-2025 22:19:20 Europe/London] N8nWebhookHandler: Hook #1:
[24-Mar-2025 22:19:20 Europe/London] N8nWebhookHandler: - Callback type: array
[24-Mar-2025 22:19:20 Europe/London] N8nWebhookHandler: - Priority: 10
[24-Mar-2025 22:19:20 Europe/London] N8nWebhookHandler: Hooks registered successfully
[24-Mar-2025 22:19:20 Europe/London] N8nWebhookHandler: === End Initialization ===

[24-Mar-2025 22:19:20 Europe/London] Plugin initialized: N8nWebhookHandler
[24-Mar-2025 22:19:20 Europe/London] Attempting to load plugin: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 22:19:20 Europe/London] Initializing plugin: LLMModelSelector
[24-Mar-2025 22:19:20 Europe/London] Plugin initialized: LLMModelSelector
[24-Mar-2025 22:19:20 Europe/London] Loaded plugins: Array
(
    [0] => N8nWebhookHandler
    [1] => LLMModelSelector
)

[24-Mar-2025 22:19:20 Europe/London] Active plugins: Array
(
    [0] => N8nWebhookHandler
    [1] => LLMModelSelector
)

[24-Mar-2025 22:19:20 Europe/London] N8nWebhookHandler: 
=== Message Processing Started ===
[24-Mar-2025 22:19:20 Europe/London] N8nWebhookHandler: Received message in processMessage method
[24-Mar-2025 22:19:20 Europe/London] N8nWebhookHandler: Plugin ID: 9
[24-Mar-2025 22:19:20 Europe/London] N8nWebhookHandler: Message data: {
    "content": "Test message from plugin loader",
    "conversation_id": "test-1742854760",
    "timestamp": "2025-03-24 22:19:20"
}
[24-Mar-2025 22:19:20 Europe/London] N8nWebhookHandler: Webhook settings found: YES
[24-Mar-2025 22:19:20 Europe/London] N8nWebhookHandler: Webhook URL: https://n8n.mazcode.com/webhook-test/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[24-Mar-2025 22:19:20 Europe/London] N8nWebhookHandler: Webhook active: YES
[24-Mar-2025 22:19:20 Europe/London] N8nWebhookHandler: Timeout: 120 seconds
[24-Mar-2025 22:19:20 Europe/London] N8nWebhookHandler: Sending request data: {
    "user_message": "Test message from plugin loader",
    "conversation_id": "test-1742854760",
    "timestamp": "2025-03-24 22:19:20",
    "user": {
        "id": null,
        "username": "unknown"
    }
}
[24-Mar-2025 22:19:20 Europe/London] N8nWebhookHandler: Executing cURL request...
[24-Mar-2025 22:19:21 Europe/London] N8nWebhookHandler: Curl verbose output: *   Trying 104.21.16.1:443...
* Connected to n8n.mazcode.com (104.21.16.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook-test/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook-test/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 160]
> POST /webhook-test/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 160

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Mon, 24 Mar 2025 22:19:20 GMT
< content-type: application/json; charset=utf-8
< content-length: 0
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=DGUr45UYr1UQOXs%2F6RlVgd7XPAgTRmcTWb7NbEsb2gDeFGCa%2FDKI%2FCfHCYDNoPMOt0Ez9HRVX44%2B%2F0OCC%2FE9QEaUfJOJKe7OT2xMDQluE6zIOYjbgTc1e69V%2Feza%2Fn8d6MI%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 92598caf08a883a3-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=90835&min_rtt=89699&rtt_var=26966&sent=6&recv=8&lost=0&retrans=0&sent_bytes=3387&recv_bytes=998&delivery_rate=28909&cwnd=252&unsent_bytes=0&cid=6cea619bb1863323&ts=284&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[24-Mar-2025 22:19:21 Europe/London] N8nWebhookHandler: HTTP Status Code: 200
[24-Mar-2025 22:19:21 Europe/London] N8nWebhookHandler: Raw Response: Empty response
[24-Mar-2025 22:19:21 Europe/London] N8nWebhookHandler: Empty response received from webhook
[24-Mar-2025 22:19:21 Europe/London] N8nWebhookHandler: === Message Processing Ended ===

[24-Mar-2025 22:21:53 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 22:21:55 Europe/London] Attempting to load plugin: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 22:21:55 Europe/London] Initializing plugin: N8nWebhookHandler
[24-Mar-2025 22:21:55 Europe/London] N8nWebhookHandler: === Plugin Initialization ===
[24-Mar-2025 22:21:55 Europe/London] N8nWebhookHandler: Plugin constructed with ID: 9
[24-Mar-2025 22:21:55 Europe/London] N8nWebhookHandler: 
=== Plugin Initialization ===
[24-Mar-2025 22:21:55 Europe/London] N8nWebhookHandler: Initializing plugin with ID: 9
[24-Mar-2025 22:21:55 Europe/London] N8nWebhookHandler: Registering hooks...
[24-Mar-2025 22:21:55 Europe/London] N8nWebhookHandler: Verifying hook registration...
[24-Mar-2025 22:21:55 Europe/London] N8nWebhookHandler: before_send_message hook is registered
[24-Mar-2025 22:21:55 Europe/London] N8nWebhookHandler: Hook #1:
[24-Mar-2025 22:21:55 Europe/London] N8nWebhookHandler: - Callback type: array
[24-Mar-2025 22:21:55 Europe/London] N8nWebhookHandler: - Priority: 10
[24-Mar-2025 22:21:55 Europe/London] N8nWebhookHandler: Hooks registered successfully
[24-Mar-2025 22:21:55 Europe/London] N8nWebhookHandler: === End Initialization ===

[24-Mar-2025 22:21:55 Europe/London] Plugin initialized: N8nWebhookHandler
[24-Mar-2025 22:21:55 Europe/London] Attempting to load plugin: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 22:21:55 Europe/London] Initializing plugin: LLMModelSelector
[24-Mar-2025 22:21:55 Europe/London] Plugin initialized: LLMModelSelector
[24-Mar-2025 22:21:55 Europe/London] Loaded plugins: Array
(
    [0] => N8nWebhookHandler
    [1] => LLMModelSelector
)

[24-Mar-2025 22:21:55 Europe/London] Active plugins: Array
(
    [0] => N8nWebhookHandler
    [1] => LLMModelSelector
)

[24-Mar-2025 22:21:55 Europe/London] N8nWebhookHandler: 
=== Message Processing Started ===
[24-Mar-2025 22:21:55 Europe/London] N8nWebhookHandler: Received message in processMessage method
[24-Mar-2025 22:21:55 Europe/London] N8nWebhookHandler: Plugin ID: 9
[24-Mar-2025 22:21:55 Europe/London] N8nWebhookHandler: Message data: {
    "content": "Test message from plugin loader",
    "conversation_id": "test-1742854915",
    "timestamp": "2025-03-24 22:21:55"
}
[24-Mar-2025 22:21:55 Europe/London] N8nWebhookHandler: Webhook settings found: YES
[24-Mar-2025 22:21:55 Europe/London] N8nWebhookHandler: Webhook URL: https://n8n.mazcode.com/webhook-test/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[24-Mar-2025 22:21:55 Europe/London] N8nWebhookHandler: Webhook active: YES
[24-Mar-2025 22:21:55 Europe/London] N8nWebhookHandler: Timeout: 120 seconds
[24-Mar-2025 22:21:55 Europe/London] N8nWebhookHandler: Sending request data: {
    "user_message": "Test message from plugin loader",
    "conversation_id": "test-1742854915",
    "timestamp": "2025-03-24 22:21:55",
    "user": {
        "id": null,
        "username": "unknown"
    }
}
[24-Mar-2025 22:21:55 Europe/London] N8nWebhookHandler: Executing cURL request...
[24-Mar-2025 22:21:55 Europe/London] N8nWebhookHandler: Curl verbose output: *   Trying 104.21.16.1:443...
* Connected to n8n.mazcode.com (104.21.16.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook-test/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook-test/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 160]
> POST /webhook-test/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 160

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Mon, 24 Mar 2025 22:21:55 GMT
< content-type: application/json; charset=utf-8
< content-length: 0
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=CqANhjsUiE2%2Ba3%2FkRt1nr0yWwWzJSPHjizo2BrVvR05QqJUZH0GutNSdWA3bGfmN%2FuMc7pOD9dtScyzyHpJSskMjAMbgSpuycR%2BvkQDpO%2BDWxNPmsDBV%2BE%2BygFgpUzedLwk%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925990763a7c0f7a-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=91235&min_rtt=89534&rtt_var=28039&sent=6&recv=8&lost=0&retrans=0&sent_bytes=3386&recv_bytes=998&delivery_rate=28903&cwnd=252&unsent_bytes=0&cid=4523b3e89e59ff1c&ts=290&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[24-Mar-2025 22:21:55 Europe/London] N8nWebhookHandler: HTTP Status Code: 200
[24-Mar-2025 22:21:55 Europe/London] N8nWebhookHandler: Raw Response: Empty response
[24-Mar-2025 22:21:55 Europe/London] N8nWebhookHandler: Empty response received from webhook
[24-Mar-2025 22:21:55 Europe/London] N8nWebhookHandler: === Message Processing Ended ===

[24-Mar-2025 22:25:11 Europe/London] N8nWebhookHandler: Activating plugin with ID: 1
[24-Mar-2025 22:25:11 Europe/London] N8nWebhookHandler: Database tables created successfully
[24-Mar-2025 22:25:11 Europe/London] N8nWebhookHandler: 
=== Plugin Initialization ===
[24-Mar-2025 22:25:11 Europe/London] N8nWebhookHandler: Initializing plugin with ID: 1
[24-Mar-2025 22:25:11 Europe/London] N8nWebhookHandler: Registering hooks...
[24-Mar-2025 22:25:11 Europe/London] N8nWebhookHandler: Verifying hook registration...
[24-Mar-2025 22:25:11 Europe/London] N8nWebhookHandler: before_send_message hook is registered
[24-Mar-2025 22:25:11 Europe/London] N8nWebhookHandler: Hook #1:
[24-Mar-2025 22:25:11 Europe/London] N8nWebhookHandler: - Callback type: array
[24-Mar-2025 22:25:11 Europe/London] N8nWebhookHandler: - Priority: 10
[24-Mar-2025 22:25:11 Europe/London] N8nWebhookHandler: Hooks registered successfully
[24-Mar-2025 22:25:11 Europe/London] N8nWebhookHandler: === End Initialization ===

[24-Mar-2025 22:25:11 Europe/London] N8nWebhookHandler: 
=== Message Processing Started ===
[24-Mar-2025 22:25:11 Europe/London] N8nWebhookHandler: Received message in processMessage method
[24-Mar-2025 22:25:11 Europe/London] N8nWebhookHandler: Plugin ID: 1
[24-Mar-2025 22:25:11 Europe/London] N8nWebhookHandler: Message data: {
    "content": "This is a test message 2025-03-24 22:25:09",
    "conversation_id": 1
}
[24-Mar-2025 22:25:11 Europe/London] N8nWebhookHandler: Webhook settings found: NO
[24-Mar-2025 22:25:11 Europe/London] N8nWebhookHandler: No active n8n webhook URL configured for plugin ID: 1
[24-Mar-2025 22:25:11 Europe/London] N8nWebhookHandler: === Message Processing Ended ===

[24-Mar-2025 22:28:04 Europe/London] PHP Fatal error:  Uncaught Error: Call to undefined method N8nWebhookHandler::setWebhookUrl() in C:\Users\zagzo\Downloads\UniServerZ\www\chat\test_webhook_direct.php:19
Stack trace:
#0 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\test_webhook_direct.php on line 19
[24-Mar-2025 22:28:51 Europe/London] N8nWebhookHandler: Activating plugin with ID: 1
[24-Mar-2025 22:28:51 Europe/London] N8nWebhookHandler: Database tables created successfully
[24-Mar-2025 22:29:32 Europe/London] N8nWebhookHandler: Activating plugin with ID: 1
[24-Mar-2025 22:29:32 Europe/London] N8nWebhookHandler: Database tables created successfully
[24-Mar-2025 22:30:55 Europe/London] Plugin loaded successfully: N8nWebhookHandler
[24-Mar-2025 22:30:55 Europe/London] Plugin Class: N8nWebhookHandler
[24-Mar-2025 22:30:55 Europe/London] Plugin Instance: N8nWebhookHandler
[24-Mar-2025 22:30:55 Europe/London] Settings: Array
(
    [id] => 3
    [plugin_id] => 9
    [webhook_url] => https://n8n.mazcode.com/webhook-test/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
    [is_active] => 1
    [timeout] => 120
    [created_at] => 2025-03-24 21:13:51
    [updated_at] => 2025-03-25 00:54:55
)

[24-Mar-2025 22:31:00 Europe/London] Plugin loaded successfully: N8nWebhookHandler
[24-Mar-2025 22:37:05 Europe/London] API Error in messages.php: Conversation ID is required
#0 {main}
[24-Mar-2025 22:48:12 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 22:48:12 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[24-Mar-2025 22:48:12 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 22:48:12 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 22:48:12 Europe/London] Creating instance of plugin class: DirectMessageHandler
[24-Mar-2025 22:48:12 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 22:48:12 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 22:48:12 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 22:48:12 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 22:48:12 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 22:48:12 Europe/London] Creating instance of plugin class: N8nWebhookHandler
[24-Mar-2025 22:48:12 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 22:48:12 Europe/London] Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 22:48:12 Europe/London] Loaded plugins: Array
(
    [0] => DirectMessageHandler
    [1] => LLMModelSelector
    [2] => N8nWebhookHandler
)

[24-Mar-2025 22:48:12 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 22:56:45 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 22:56:45 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[24-Mar-2025 22:56:45 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 22:56:45 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 22:56:45 Europe/London] Creating instance of plugin class: DirectMessageHandler
[24-Mar-2025 22:56:45 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 22:56:45 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 22:56:45 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 22:56:45 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 22:56:45 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 22:56:45 Europe/London] Creating instance of plugin class: N8nWebhookHandler
[24-Mar-2025 22:56:45 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 22:56:45 Europe/London] Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 22:56:45 Europe/London] Loaded plugins: Array
(
    [0] => DirectMessageHandler
    [1] => LLMModelSelector
    [2] => N8nWebhookHandler
)

[24-Mar-2025 22:56:45 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 23:07:51 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 23:07:51 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[24-Mar-2025 23:07:51 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:07:51 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:07:51 Europe/London] Creating instance of plugin class: DirectMessageHandler
[24-Mar-2025 23:07:51 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:07:51 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:07:51 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 23:07:51 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:07:51 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:07:51 Europe/London] Creating instance of plugin class: N8nWebhookHandler
[24-Mar-2025 23:07:51 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:07:51 Europe/London] Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:07:51 Europe/London] Loaded plugins: Array
(
    [0] => DirectMessageHandler
    [1] => LLMModelSelector
    [2] => N8nWebhookHandler
)

[24-Mar-2025 23:07:51 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 23:11:06 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 23:11:06 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[24-Mar-2025 23:11:06 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:11:06 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:11:06 Europe/London] Creating instance of plugin class: DirectMessageHandler
[24-Mar-2025 23:11:06 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:11:06 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:11:06 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 23:11:06 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:11:06 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:11:06 Europe/London] Creating instance of plugin class: N8nWebhookHandler
[24-Mar-2025 23:11:06 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:11:06 Europe/London] Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:11:06 Europe/London] Loaded plugins: Array
(
    [0] => DirectMessageHandler
    [1] => LLMModelSelector
    [2] => N8nWebhookHandler
)

[24-Mar-2025 23:11:06 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 23:17:06 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 23:17:06 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[24-Mar-2025 23:17:06 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:17:06 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:17:06 Europe/London] Creating instance of plugin class: DirectMessageHandler
[24-Mar-2025 23:17:06 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:17:06 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:17:06 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 23:17:06 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:17:06 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:17:06 Europe/London] Creating instance of plugin class: N8nWebhookHandler
[24-Mar-2025 23:17:06 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:17:06 Europe/London] Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:17:06 Europe/London] Loaded plugins: Array
(
    [0] => DirectMessageHandler
    [1] => LLMModelSelector
    [2] => N8nWebhookHandler
)

[24-Mar-2025 23:17:06 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 23:18:18 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 23:18:18 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[24-Mar-2025 23:18:18 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:18:18 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:18:18 Europe/London] Creating instance of plugin class: DirectMessageHandler
[24-Mar-2025 23:18:18 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:18:18 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:18:18 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 23:18:18 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:18:18 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:18:18 Europe/London] Creating instance of plugin class: N8nWebhookHandler
[24-Mar-2025 23:18:18 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:18:18 Europe/London] Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:18:18 Europe/London] Loaded plugins: Array
(
    [0] => DirectMessageHandler
    [1] => LLMModelSelector
    [2] => N8nWebhookHandler
)

[24-Mar-2025 23:18:18 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 23:18:20 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 23:18:20 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[24-Mar-2025 23:18:20 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:18:20 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:18:20 Europe/London] Creating instance of plugin class: DirectMessageHandler
[24-Mar-2025 23:18:20 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:18:20 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:18:20 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 23:18:20 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:18:20 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:18:20 Europe/London] Creating instance of plugin class: N8nWebhookHandler
[24-Mar-2025 23:18:20 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:18:20 Europe/London] Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:18:20 Europe/London] Loaded plugins: Array
(
    [0] => DirectMessageHandler
    [1] => LLMModelSelector
    [2] => N8nWebhookHandler
)

[24-Mar-2025 23:18:20 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 23:18:20 Europe/London] PHP Fatal error:  Uncaught Error: Call to protected method ApiController::sendError() from global scope in C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php:91
Stack trace:
#0 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php on line 91
[24-Mar-2025 23:18:31 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 23:18:31 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[24-Mar-2025 23:18:31 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:18:31 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:18:31 Europe/London] Creating instance of plugin class: DirectMessageHandler
[24-Mar-2025 23:18:31 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:18:31 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:18:31 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 23:18:31 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:18:31 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:18:31 Europe/London] Creating instance of plugin class: N8nWebhookHandler
[24-Mar-2025 23:18:31 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:18:31 Europe/London] Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:18:31 Europe/London] Loaded plugins: Array
(
    [0] => DirectMessageHandler
    [1] => LLMModelSelector
    [2] => N8nWebhookHandler
)

[24-Mar-2025 23:18:31 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 23:18:33 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 23:18:33 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[24-Mar-2025 23:18:33 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:18:33 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:18:33 Europe/London] Creating instance of plugin class: DirectMessageHandler
[24-Mar-2025 23:18:33 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:18:33 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:18:33 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 23:18:33 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:18:33 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:18:33 Europe/London] Creating instance of plugin class: N8nWebhookHandler
[24-Mar-2025 23:18:33 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:18:33 Europe/London] Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:18:33 Europe/London] Loaded plugins: Array
(
    [0] => DirectMessageHandler
    [1] => LLMModelSelector
    [2] => N8nWebhookHandler
)

[24-Mar-2025 23:18:33 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 23:18:33 Europe/London] PHP Fatal error:  Uncaught Error: Call to protected method ApiController::sendError() from global scope in C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php:91
Stack trace:
#0 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php on line 91
[24-Mar-2025 23:18:49 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 23:18:49 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[24-Mar-2025 23:18:49 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:18:49 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:18:49 Europe/London] Creating instance of plugin class: DirectMessageHandler
[24-Mar-2025 23:18:49 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:18:49 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:18:49 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 23:18:49 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:18:49 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:18:49 Europe/London] Creating instance of plugin class: N8nWebhookHandler
[24-Mar-2025 23:18:49 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:18:49 Europe/London] Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:18:49 Europe/London] Loaded plugins: Array
(
    [0] => DirectMessageHandler
    [1] => LLMModelSelector
    [2] => N8nWebhookHandler
)

[24-Mar-2025 23:18:49 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 23:18:49 Europe/London] PHP Fatal error:  Uncaught Error: Call to protected method ApiController::sendError() from global scope in C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php:91
Stack trace:
#0 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php on line 91
[24-Mar-2025 23:19:01 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 23:19:01 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[24-Mar-2025 23:19:01 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:19:01 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:19:01 Europe/London] Creating instance of plugin class: DirectMessageHandler
[24-Mar-2025 23:19:01 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:19:01 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:19:01 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 23:19:01 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:19:01 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:19:01 Europe/London] Creating instance of plugin class: N8nWebhookHandler
[24-Mar-2025 23:19:01 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:19:01 Europe/London] Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:19:01 Europe/London] Loaded plugins: Array
(
    [0] => DirectMessageHandler
    [1] => LLMModelSelector
    [2] => N8nWebhookHandler
)

[24-Mar-2025 23:19:01 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 23:19:01 Europe/London] PHP Fatal error:  Uncaught Error: Call to protected method ApiController::sendError() from global scope in C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php:91
Stack trace:
#0 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php on line 91
[24-Mar-2025 23:19:35 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 23:19:35 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[24-Mar-2025 23:19:35 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:19:35 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:19:35 Europe/London] Creating instance of plugin class: DirectMessageHandler
[24-Mar-2025 23:19:35 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:19:35 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:19:35 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 23:19:35 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:19:35 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:19:35 Europe/London] Creating instance of plugin class: N8nWebhookHandler
[24-Mar-2025 23:19:35 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:19:35 Europe/London] Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:19:35 Europe/London] Loaded plugins: Array
(
    [0] => DirectMessageHandler
    [1] => LLMModelSelector
    [2] => N8nWebhookHandler
)

[24-Mar-2025 23:19:35 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 23:20:22 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 23:20:22 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[24-Mar-2025 23:20:22 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:20:22 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:20:22 Europe/London] Creating instance of plugin class: DirectMessageHandler
[24-Mar-2025 23:20:22 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:20:22 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:20:22 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 23:20:22 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:20:22 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:20:22 Europe/London] Creating instance of plugin class: N8nWebhookHandler
[24-Mar-2025 23:20:22 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:20:22 Europe/London] Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:20:22 Europe/London] Loaded plugins: Array
(
    [0] => DirectMessageHandler
    [1] => LLMModelSelector
    [2] => N8nWebhookHandler
)

[24-Mar-2025 23:20:22 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 23:20:28 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 23:20:28 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[24-Mar-2025 23:20:28 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:20:28 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:20:28 Europe/London] Creating instance of plugin class: DirectMessageHandler
[24-Mar-2025 23:20:28 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:20:28 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:20:28 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 23:20:28 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:20:28 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:20:28 Europe/London] Creating instance of plugin class: N8nWebhookHandler
[24-Mar-2025 23:20:28 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:20:28 Europe/London] Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:20:28 Europe/London] Loaded plugins: Array
(
    [0] => DirectMessageHandler
    [1] => LLMModelSelector
    [2] => N8nWebhookHandler
)

[24-Mar-2025 23:20:28 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 23:20:47 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 23:20:47 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[24-Mar-2025 23:20:47 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:20:47 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:20:47 Europe/London] Creating instance of plugin class: DirectMessageHandler
[24-Mar-2025 23:20:47 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:20:47 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:20:47 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 23:20:47 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:20:47 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:20:47 Europe/London] Creating instance of plugin class: N8nWebhookHandler
[24-Mar-2025 23:20:47 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:20:47 Europe/London] Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:20:47 Europe/London] Loaded plugins: Array
(
    [0] => DirectMessageHandler
    [1] => LLMModelSelector
    [2] => N8nWebhookHandler
)

[24-Mar-2025 23:20:47 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 23:28:29 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 23:28:29 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[24-Mar-2025 23:28:29 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:28:29 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:28:29 Europe/London] Creating instance of plugin class: DirectMessageHandler
[24-Mar-2025 23:28:29 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:28:29 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:28:29 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 23:28:29 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:28:29 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:28:29 Europe/London] Creating instance of plugin class: N8nWebhookHandler
[24-Mar-2025 23:28:29 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:28:29 Europe/London] Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:28:29 Europe/London] Loaded plugins: Array
(
    [0] => DirectMessageHandler
    [1] => LLMModelSelector
    [2] => N8nWebhookHandler
)

[24-Mar-2025 23:28:29 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 23:31:14 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 23:31:14 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[24-Mar-2025 23:31:14 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:31:14 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:31:14 Europe/London] Creating instance of plugin class: DirectMessageHandler
[24-Mar-2025 23:31:14 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:31:14 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:31:14 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 23:31:14 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:31:14 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:31:14 Europe/London] Creating instance of plugin class: N8nWebhookHandler
[24-Mar-2025 23:31:14 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:31:14 Europe/London] Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:31:14 Europe/London] Loaded plugins: Array
(
    [0] => DirectMessageHandler
    [1] => LLMModelSelector
    [2] => N8nWebhookHandler
)

[24-Mar-2025 23:31:14 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 23:31:14 Europe/London] === Starting message creation process ===
[24-Mar-2025 23:31:14 Europe/London] User authenticated successfully - User ID: 2
[24-Mar-2025 23:31:14 Europe/London] Received message data: {"conversation_id":"81","content":"hi","is_user":true}
[24-Mar-2025 23:31:14 Europe/London] Message data validation passed
[24-Mar-2025 23:31:14 Europe/London] Fetching conversation and plugin info for conversation ID: 81
[24-Mar-2025 23:31:14 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler
[24-Mar-2025 23:31:14 Europe/London] Created message data structure
[24-Mar-2025 23:31:14 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[24-Mar-2025 23:31:14 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[24-Mar-2025 23:31:14 Europe/London] before_send_message hook executed successfully
[24-Mar-2025 23:31:14 Europe/London] Saving message to database
[24-Mar-2025 23:31:14 Europe/London] Message saved successfully with ID: 54
[24-Mar-2025 23:31:14 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[24-Mar-2025 23:31:14 Europe/London] after_send_message hook executed successfully
[24-Mar-2025 23:31:14 Europe/London] === Message creation process completed successfully ===
[24-Mar-2025 23:31:47 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 23:31:47 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[24-Mar-2025 23:31:47 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:31:47 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:31:47 Europe/London] Creating instance of plugin class: DirectMessageHandler
[24-Mar-2025 23:31:47 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:31:47 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:31:47 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 23:31:47 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:31:47 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:31:47 Europe/London] Creating instance of plugin class: N8nWebhookHandler
[24-Mar-2025 23:31:47 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:31:47 Europe/London] Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:31:47 Europe/London] Loaded plugins: Array
(
    [0] => DirectMessageHandler
    [1] => LLMModelSelector
    [2] => N8nWebhookHandler
)

[24-Mar-2025 23:31:47 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 23:31:47 Europe/London] === Starting message creation process ===
[24-Mar-2025 23:31:47 Europe/London] User authenticated successfully - User ID: 2
[24-Mar-2025 23:31:47 Europe/London] Received message data: {"conversation_id":"82","content":"hi","is_user":true}
[24-Mar-2025 23:31:47 Europe/London] Message data validation passed
[24-Mar-2025 23:31:47 Europe/London] Fetching conversation and plugin info for conversation ID: 82
[24-Mar-2025 23:31:47 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler
[24-Mar-2025 23:31:47 Europe/London] Created message data structure
[24-Mar-2025 23:31:47 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[24-Mar-2025 23:31:47 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[24-Mar-2025 23:31:47 Europe/London] before_send_message hook executed successfully
[24-Mar-2025 23:31:47 Europe/London] Saving message to database
[24-Mar-2025 23:31:47 Europe/London] Message saved successfully with ID: 55
[24-Mar-2025 23:31:47 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[24-Mar-2025 23:31:47 Europe/London] after_send_message hook executed successfully
[24-Mar-2025 23:31:47 Europe/London] === Message creation process completed successfully ===
[24-Mar-2025 23:34:43 Europe/London] Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 23:34:43 Europe/London] Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[24-Mar-2025 23:34:43 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:34:43 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:34:43 Europe/London] Creating instance of plugin class: DirectMessageHandler
[24-Mar-2025 23:34:43 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:34:43 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:34:43 Europe/London] Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 23:34:43 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:34:43 Europe/London] Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:34:43 Europe/London] Creating instance of plugin class: N8nWebhookHandler
[24-Mar-2025 23:34:43 Europe/London] Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:34:43 Europe/London] Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:34:43 Europe/London] Loaded plugins: Array
(
    [0] => DirectMessageHandler
    [1] => LLMModelSelector
    [2] => N8nWebhookHandler
)

[24-Mar-2025 23:34:43 Europe/London] Active plugins: Array
(
)

[24-Mar-2025 23:34:43 Europe/London] === Starting message creation process ===
[24-Mar-2025 23:34:43 Europe/London] User authenticated successfully - User ID: 2
[24-Mar-2025 23:34:43 Europe/London] Received message data: {"conversation_id":"83","content":"hi","is_user":true}
[24-Mar-2025 23:34:43 Europe/London] Message data validation passed
[24-Mar-2025 23:34:43 Europe/London] Fetching conversation and plugin info for conversation ID: 83
[24-Mar-2025 23:34:43 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler
[24-Mar-2025 23:34:43 Europe/London] Created message data structure
[24-Mar-2025 23:34:43 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[24-Mar-2025 23:34:43 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[24-Mar-2025 23:34:43 Europe/London] before_send_message hook executed successfully
[24-Mar-2025 23:34:43 Europe/London] Saving message to database
[24-Mar-2025 23:34:43 Europe/London] Message saved successfully with ID: 56
[24-Mar-2025 23:34:43 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[24-Mar-2025 23:34:43 Europe/London] after_send_message hook executed successfully
[24-Mar-2025 23:34:43 Europe/London] === Message creation process completed successfully ===
[24-Mar-2025 23:35:39 Europe/London] Plugin loaded successfully: N8nWebhookHandler
[24-Mar-2025 23:35:39 Europe/London] Plugin Class: N8nWebhookHandler
[24-Mar-2025 23:35:39 Europe/London] Plugin Instance: N8nWebhookHandler
[24-Mar-2025 23:35:39 Europe/London] Settings: Array
(
    [id] => 3
    [plugin_id] => 9
    [webhook_url] => https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
    [is_active] => 1
    [timeout] => 120
    [created_at] => 2025-03-24 21:13:51
    [updated_at] => 2025-03-25 01:31:00
)

[24-Mar-2025 23:39:02 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 23:39:02 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[24-Mar-2025 23:39:02 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:39:02 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:39:02 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[24-Mar-2025 23:39:02 Europe/London] PluginManager: Plugin is not active: DirectMessageHandler
[24-Mar-2025 23:39:02 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:39:02 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:39:02 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 23:39:02 Europe/London] PluginManager: Plugin is not active: LLMModelSelector
[24-Mar-2025 23:39:02 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:39:02 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:39:02 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[24-Mar-2025 23:39:02 Europe/London] PluginManager: Plugin is not active: N8nWebhookHandler
[24-Mar-2025 23:39:02 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:39:02 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:39:02 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => DirectMessageHandler
    [1] => LLMModelSelector
    [2] => N8nWebhookHandler
)

[24-Mar-2025 23:39:02 Europe/London] PluginManager: Active plugins: Array
(
)

[24-Mar-2025 23:39:02 Europe/London] === Starting message creation process ===
[24-Mar-2025 23:39:02 Europe/London] User authenticated successfully - User ID: 2
[24-Mar-2025 23:39:02 Europe/London] Received message data: {"conversation_id":"84","content":"hello dear","is_user":true}
[24-Mar-2025 23:39:02 Europe/London] Message data validation passed
[24-Mar-2025 23:39:02 Europe/London] Fetching conversation and plugin info for conversation ID: 84
[24-Mar-2025 23:39:02 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler
[24-Mar-2025 23:39:02 Europe/London] Created message data structure
[24-Mar-2025 23:39:02 Europe/London] DEBUG: Starting plugin processing for plugin_id: 9
[24-Mar-2025 23:39:02 Europe/London] DEBUG: Plugin name from conversation: N8nWebhookHandler
[24-Mar-2025 23:39:02 Europe/London] DEBUG: Current active plugins: []
[24-Mar-2025 23:39:02 Europe/London] DEBUG: All available plugins: {"DirectMessageHandler":{},"LLMModelSelector":{},"N8nWebhookHandler":{}}
[24-Mar-2025 23:39:02 Europe/London] DEBUG: Attempting to get plugin instance for: N8nWebhookHandler
[24-Mar-2025 23:39:02 Europe/London] DEBUG: Successfully got plugin instance of class: N8nWebhookHandler
[24-Mar-2025 23:39:02 Europe/London] DEBUG: Executing before_send_message hook for plugin: N8nWebhookHandler
[24-Mar-2025 23:39:02 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[24-Mar-2025 23:39:02 Europe/London] Plugin N8nWebhookHandler: No handlers registered for hook before_send_message
[24-Mar-2025 23:39:02 Europe/London] DEBUG: before_send_message hook executed successfully
[24-Mar-2025 23:39:02 Europe/London] Saving message to database
[24-Mar-2025 23:39:02 Europe/London] Message saved successfully with ID: 57
[24-Mar-2025 23:39:02 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[24-Mar-2025 23:39:02 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[24-Mar-2025 23:39:02 Europe/London] Plugin N8nWebhookHandler: No handlers registered for hook after_send_message
[24-Mar-2025 23:39:02 Europe/London] after_send_message hook executed successfully
[24-Mar-2025 23:39:02 Europe/London] === Message creation process completed successfully ===
[24-Mar-2025 23:40:30 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 23:40:30 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[24-Mar-2025 23:40:30 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:40:30 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:40:30 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[24-Mar-2025 23:40:30 Europe/London] PluginManager: Plugin is not active: DirectMessageHandler
[24-Mar-2025 23:40:30 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:40:30 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:40:30 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 23:40:30 Europe/London] PluginManager: Plugin is not active: LLMModelSelector
[24-Mar-2025 23:40:30 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:40:30 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:40:30 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[24-Mar-2025 23:40:30 Europe/London] PluginManager: Plugin is not active: N8nWebhookHandler
[24-Mar-2025 23:40:30 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:40:30 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:40:30 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => DirectMessageHandler
    [1] => LLMModelSelector
    [2] => N8nWebhookHandler
)

[24-Mar-2025 23:40:30 Europe/London] PluginManager: Active plugins: Array
(
)

[24-Mar-2025 23:40:30 Europe/London] === Starting message creation process ===
[24-Mar-2025 23:40:30 Europe/London] User authenticated successfully - User ID: 2
[24-Mar-2025 23:40:30 Europe/London] Received message data: {"conversation_id":"85","content":"Hello","is_user":true}
[24-Mar-2025 23:40:30 Europe/London] Message data validation passed
[24-Mar-2025 23:40:30 Europe/London] Fetching conversation and plugin info for conversation ID: 85
[24-Mar-2025 23:40:30 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler
[24-Mar-2025 23:40:30 Europe/London] Created message data structure
[24-Mar-2025 23:40:30 Europe/London] DEBUG: Starting plugin processing for plugin_id: 9
[24-Mar-2025 23:40:30 Europe/London] DEBUG: Plugin name from conversation: N8nWebhookHandler
[24-Mar-2025 23:40:30 Europe/London] DEBUG: Current active plugins: []
[24-Mar-2025 23:40:30 Europe/London] DEBUG: All available plugins: {"DirectMessageHandler":{},"LLMModelSelector":{},"N8nWebhookHandler":{}}
[24-Mar-2025 23:40:30 Europe/London] DEBUG: Attempting to get plugin instance for: N8nWebhookHandler
[24-Mar-2025 23:40:30 Europe/London] DEBUG: Successfully got plugin instance of class: N8nWebhookHandler
[24-Mar-2025 23:40:30 Europe/London] DEBUG: Executing before_send_message hook for plugin: N8nWebhookHandler
[24-Mar-2025 23:40:30 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[24-Mar-2025 23:40:30 Europe/London] Plugin N8nWebhookHandler: No handlers registered for hook before_send_message
[24-Mar-2025 23:40:30 Europe/London] DEBUG: before_send_message hook executed successfully
[24-Mar-2025 23:40:30 Europe/London] Saving message to database
[24-Mar-2025 23:40:30 Europe/London] Message saved successfully with ID: 58
[24-Mar-2025 23:40:30 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[24-Mar-2025 23:40:30 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[24-Mar-2025 23:40:30 Europe/London] Plugin N8nWebhookHandler: No handlers registered for hook after_send_message
[24-Mar-2025 23:40:30 Europe/London] after_send_message hook executed successfully
[24-Mar-2025 23:40:30 Europe/London] === Message creation process completed successfully ===
[24-Mar-2025 23:43:10 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 23:43:10 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[24-Mar-2025 23:43:10 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:43:10 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:43:10 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[24-Mar-2025 23:43:12 Europe/London] PluginManager: Plugin is not active: DirectMessageHandler
[24-Mar-2025 23:43:12 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:43:12 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:43:12 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 23:43:12 Europe/London] PluginManager: Plugin is not active: LLMModelSelector
[24-Mar-2025 23:43:12 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:43:12 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:43:12 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[24-Mar-2025 23:43:12 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[24-Mar-2025 23:43:12 Europe/London] N8nWebhookHandler: Construction completed
[24-Mar-2025 23:43:12 Europe/London] PluginManager: Plugin is not active: N8nWebhookHandler
[24-Mar-2025 23:43:12 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:43:12 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:43:12 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => DirectMessageHandler
    [1] => LLMModelSelector
    [2] => N8nWebhookHandler
)

[24-Mar-2025 23:43:12 Europe/London] PluginManager: Active plugins: Array
(
)

[24-Mar-2025 23:44:00 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 23:44:00 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[24-Mar-2025 23:44:00 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:44:00 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:44:00 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[24-Mar-2025 23:44:02 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[24-Mar-2025 23:44:02 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[24-Mar-2025 23:44:02 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute(Array)
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\reset_plugin.php(6): PluginManager::getInstance()
#4 {main}
[24-Mar-2025 23:44:02 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:44:02 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:44:02 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 23:44:02 Europe/London] PluginManager: Instantiating plugin with ID: 11
[24-Mar-2025 23:44:02 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[24-Mar-2025 23:44:02 Europe/London] Plugin LLMModelSelector: Activated
[24-Mar-2025 23:44:02 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[24-Mar-2025 23:44:02 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[24-Mar-2025 23:44:02 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[24-Mar-2025 23:44:02 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[24-Mar-2025 23:44:02 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:44:02 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:44:02 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[24-Mar-2025 23:44:02 Europe/London] PluginManager: Instantiating plugin with ID: 9
[24-Mar-2025 23:44:02 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[24-Mar-2025 23:44:02 Europe/London] N8nWebhookHandler: Construction completed
[24-Mar-2025 23:44:02 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[24-Mar-2025 23:44:02 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[24-Mar-2025 23:44:02 Europe/London] Plugin N8nWebhookHandler: Activated
[24-Mar-2025 23:44:02 Europe/London] N8nWebhookHandler: Creating/checking database tables
[24-Mar-2025 23:44:02 Europe/London] N8nWebhookHandler: Checking for existing settings
[24-Mar-2025 23:44:02 Europe/London] N8nWebhookHandler: Activation completed successfully
[24-Mar-2025 23:44:02 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[24-Mar-2025 23:44:02 Europe/London] N8nWebhookHandler: Initializing plugin
[24-Mar-2025 23:44:02 Europe/London] N8nWebhookHandler: Registering hooks
[24-Mar-2025 23:44:02 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[24-Mar-2025 23:44:02 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[24-Mar-2025 23:44:02 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[24-Mar-2025 23:44:02 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:44:02 Europe/London] N8nWebhookHandler: Initialization completed
[24-Mar-2025 23:44:02 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[24-Mar-2025 23:44:02 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:44:02 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:44:02 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[24-Mar-2025 23:44:02 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[24-Mar-2025 23:44:02 Europe/London] Plugin N8nWebhookHandler: Deactivated
[24-Mar-2025 23:44:03 Europe/London] Attempting to activate plugin: N8nWebhookHandler
[24-Mar-2025 23:44:03 Europe/London] Available plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[24-Mar-2025 23:44:03 Europe/London] Found plugin instance: N8nWebhookHandler
[24-Mar-2025 23:44:03 Europe/London] Plugin ID from database: 9
[24-Mar-2025 23:44:03 Europe/London] Updating existing plugin record in database
[24-Mar-2025 23:44:03 Europe/London] Calling plugin's activate method
[24-Mar-2025 23:44:03 Europe/London] N8nWebhookHandler: Activating plugin with ID: null
[24-Mar-2025 23:44:03 Europe/London] Plugin N8nWebhookHandler: Activated
[24-Mar-2025 23:44:03 Europe/London] N8nWebhookHandler: Creating/checking database tables
[24-Mar-2025 23:44:03 Europe/London] N8nWebhookHandler: Checking for existing settings
[24-Mar-2025 23:44:03 Europe/London] N8nWebhookHandler: No settings found, creating default settings
[24-Mar-2025 23:44:03 Europe/London] N8nWebhookHandler ERROR: Activation failed: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'plugin_id' cannot be null
[24-Mar-2025 23:44:03 Europe/London] N8nWebhookHandler ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\plugins\N8nWebhookHandler\N8nWebhookHandler.php(64): PDOStatement->execute(Array)
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(144): N8nWebhookHandler->activate()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\reset_plugin.php(17): PluginManager->activatePlugin('N8nWebhookHandl...')
#3 {main}
[24-Mar-2025 23:44:03 Europe/London] Error activating plugin: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'plugin_id' cannot be null
[24-Mar-2025 23:44:03 Europe/London] Stack trace: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\plugins\N8nWebhookHandler\N8nWebhookHandler.php(64): PDOStatement->execute(Array)
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(144): N8nWebhookHandler->activate()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\reset_plugin.php(17): PluginManager->activatePlugin('N8nWebhookHandl...')
#3 {main}
[24-Mar-2025 23:44:03 Europe/London] PHP Fatal error:  Uncaught PDOException: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'plugin_id' cannot be null in C:\Users\zagzo\Downloads\UniServerZ\www\chat\plugins\N8nWebhookHandler\N8nWebhookHandler.php:64
Stack trace:
#0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\plugins\N8nWebhookHandler\N8nWebhookHandler.php(64): PDOStatement->execute(Array)
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(144): N8nWebhookHandler->activate()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\reset_plugin.php(17): PluginManager->activatePlugin('N8nWebhookHandl...')
#3 {main}
  thrown in C:\Users\zagzo\Downloads\UniServerZ\www\chat\plugins\N8nWebhookHandler\N8nWebhookHandler.php on line 64
[24-Mar-2025 23:44:42 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 23:44:42 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[24-Mar-2025 23:44:42 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:44:42 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:44:42 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[24-Mar-2025 23:44:42 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[24-Mar-2025 23:44:42 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[24-Mar-2025 23:44:42 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute(Array)
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\reset_plugin.php(20): PluginManager::getInstance()
#4 {main}
[24-Mar-2025 23:44:42 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:44:42 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:44:42 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 23:44:42 Europe/London] PluginManager: Instantiating plugin with ID: 11
[24-Mar-2025 23:44:42 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[24-Mar-2025 23:44:42 Europe/London] Plugin LLMModelSelector: Activated
[24-Mar-2025 23:44:42 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[24-Mar-2025 23:44:42 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[24-Mar-2025 23:44:42 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[24-Mar-2025 23:44:42 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[24-Mar-2025 23:44:42 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:44:42 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:44:42 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[24-Mar-2025 23:44:42 Europe/London] PluginManager: Instantiating plugin with ID: 9
[24-Mar-2025 23:44:42 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[24-Mar-2025 23:44:42 Europe/London] N8nWebhookHandler: Construction completed
[24-Mar-2025 23:44:42 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[24-Mar-2025 23:44:42 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[24-Mar-2025 23:44:42 Europe/London] Plugin N8nWebhookHandler: Activated
[24-Mar-2025 23:44:42 Europe/London] N8nWebhookHandler: Creating/checking database tables
[24-Mar-2025 23:44:42 Europe/London] N8nWebhookHandler: Checking for existing settings
[24-Mar-2025 23:44:42 Europe/London] N8nWebhookHandler: Activation completed successfully
[24-Mar-2025 23:44:42 Europe/London] N8nWebhookHandler: Initializing plugin
[24-Mar-2025 23:44:42 Europe/London] N8nWebhookHandler: Registering hooks
[24-Mar-2025 23:44:42 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[24-Mar-2025 23:44:42 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[24-Mar-2025 23:44:42 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[24-Mar-2025 23:44:42 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:44:42 Europe/London] N8nWebhookHandler: Initialization completed
[24-Mar-2025 23:44:42 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[24-Mar-2025 23:44:42 Europe/London] N8nWebhookHandler: Initializing plugin
[24-Mar-2025 23:44:42 Europe/London] N8nWebhookHandler: Registering hooks
[24-Mar-2025 23:44:42 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[24-Mar-2025 23:44:42 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[24-Mar-2025 23:44:42 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[24-Mar-2025 23:44:42 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:44:42 Europe/London] N8nWebhookHandler: Initialization completed
[24-Mar-2025 23:44:42 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[24-Mar-2025 23:44:42 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:44:42 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:44:42 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[24-Mar-2025 23:44:42 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[24-Mar-2025 23:44:42 Europe/London] Plugin N8nWebhookHandler: Deactivated
[24-Mar-2025 23:44:43 Europe/London] Attempting to activate plugin: N8nWebhookHandler
[24-Mar-2025 23:44:43 Europe/London] Available plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[24-Mar-2025 23:44:43 Europe/London] Found plugin instance: N8nWebhookHandler
[24-Mar-2025 23:44:43 Europe/London] Plugin ID from database: 9
[24-Mar-2025 23:44:43 Europe/London] Updating existing plugin record in database
[24-Mar-2025 23:44:43 Europe/London] Calling plugin's activate method
[24-Mar-2025 23:44:43 Europe/London] N8nWebhookHandler: Activating plugin with ID: null
[24-Mar-2025 23:44:43 Europe/London] Plugin N8nWebhookHandler: Activated
[24-Mar-2025 23:44:43 Europe/London] N8nWebhookHandler: Creating/checking database tables
[24-Mar-2025 23:44:43 Europe/London] N8nWebhookHandler: Checking for existing settings
[24-Mar-2025 23:44:43 Europe/London] N8nWebhookHandler: Activation completed successfully
[24-Mar-2025 23:44:43 Europe/London] N8nWebhookHandler: Initializing plugin
[24-Mar-2025 23:44:43 Europe/London] N8nWebhookHandler: Registering hooks
[24-Mar-2025 23:44:43 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[24-Mar-2025 23:44:43 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[24-Mar-2025 23:44:43 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[24-Mar-2025 23:44:43 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [2] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [2] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

            [2] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:44:43 Europe/London] N8nWebhookHandler: Initialization completed
[24-Mar-2025 23:44:43 Europe/London] Adding plugin to active plugins list
[24-Mar-2025 23:44:43 Europe/London] Initializing plugin
[24-Mar-2025 23:44:43 Europe/London] N8nWebhookHandler: Initializing plugin
[24-Mar-2025 23:44:43 Europe/London] N8nWebhookHandler: Registering hooks
[24-Mar-2025 23:44:43 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[24-Mar-2025 23:44:43 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[24-Mar-2025 23:44:43 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[24-Mar-2025 23:44:43 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [2] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [3] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [2] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [3] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

            [2] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

            [3] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:44:43 Europe/London] N8nWebhookHandler: Initialization completed
[24-Mar-2025 23:44:43 Europe/London] Plugin activation completed successfully
[24-Mar-2025 23:44:53 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 23:44:53 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[24-Mar-2025 23:44:53 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:44:53 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:44:53 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[24-Mar-2025 23:44:55 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[24-Mar-2025 23:44:55 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[24-Mar-2025 23:44:55 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute(Array)
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\check_plugin.php(6): PluginManager::getInstance()
#4 {main}
[24-Mar-2025 23:44:55 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:44:55 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:44:55 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 23:44:55 Europe/London] PluginManager: Instantiating plugin with ID: 11
[24-Mar-2025 23:44:55 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[24-Mar-2025 23:44:55 Europe/London] Plugin LLMModelSelector: Activated
[24-Mar-2025 23:44:55 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[24-Mar-2025 23:44:55 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[24-Mar-2025 23:44:55 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[24-Mar-2025 23:44:55 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[24-Mar-2025 23:44:55 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:44:55 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:44:55 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[24-Mar-2025 23:44:55 Europe/London] PluginManager: Instantiating plugin with ID: 9
[24-Mar-2025 23:44:55 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[24-Mar-2025 23:44:55 Europe/London] N8nWebhookHandler: Construction completed
[24-Mar-2025 23:44:55 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[24-Mar-2025 23:44:55 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[24-Mar-2025 23:44:55 Europe/London] Plugin N8nWebhookHandler: Activated
[24-Mar-2025 23:44:55 Europe/London] N8nWebhookHandler: Creating/checking database tables
[24-Mar-2025 23:44:55 Europe/London] N8nWebhookHandler: Checking for existing settings
[24-Mar-2025 23:44:55 Europe/London] N8nWebhookHandler: Activation completed successfully
[24-Mar-2025 23:44:55 Europe/London] N8nWebhookHandler: Initializing plugin
[24-Mar-2025 23:44:55 Europe/London] N8nWebhookHandler: Registering hooks
[24-Mar-2025 23:44:55 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[24-Mar-2025 23:44:55 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[24-Mar-2025 23:44:55 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[24-Mar-2025 23:44:55 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:44:55 Europe/London] N8nWebhookHandler: Initialization completed
[24-Mar-2025 23:44:55 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[24-Mar-2025 23:44:55 Europe/London] N8nWebhookHandler: Initializing plugin
[24-Mar-2025 23:44:55 Europe/London] N8nWebhookHandler: Registering hooks
[24-Mar-2025 23:44:55 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[24-Mar-2025 23:44:55 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[24-Mar-2025 23:44:55 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[24-Mar-2025 23:44:55 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:44:55 Europe/London] N8nWebhookHandler: Initialization completed
[24-Mar-2025 23:44:55 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[24-Mar-2025 23:44:55 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:44:55 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:44:55 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[24-Mar-2025 23:44:55 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[24-Mar-2025 23:45:52 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 23:45:52 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[24-Mar-2025 23:45:52 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:45:52 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:45:52 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[24-Mar-2025 23:45:52 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[24-Mar-2025 23:45:52 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[24-Mar-2025 23:45:52 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute(Array)
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\reset_plugin.php(20): PluginManager::getInstance()
#4 {main}
[24-Mar-2025 23:45:52 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:45:52 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:45:52 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 23:45:52 Europe/London] PluginManager: Instantiating plugin with ID: 11
[24-Mar-2025 23:45:52 Europe/London] LLMModelSelector: Constructing plugin
[24-Mar-2025 23:45:52 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[24-Mar-2025 23:45:52 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[24-Mar-2025 23:45:52 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[24-Mar-2025 23:45:52 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[24-Mar-2025 23:45:52 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[24-Mar-2025 23:45:52 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[24-Mar-2025 23:45:52 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:45:52 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[24-Mar-2025 23:45:52 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:45:52 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:45:52 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[24-Mar-2025 23:45:52 Europe/London] PluginManager: Instantiating plugin with ID: 9
[24-Mar-2025 23:45:52 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[24-Mar-2025 23:45:52 Europe/London] N8nWebhookHandler: Constructing plugin
[24-Mar-2025 23:45:52 Europe/London] N8nWebhookHandler: Construction completed
[24-Mar-2025 23:45:52 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[24-Mar-2025 23:45:52 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[24-Mar-2025 23:45:52 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[24-Mar-2025 23:45:52 Europe/London] N8nWebhookHandler: Creating/checking database tables
[24-Mar-2025 23:45:52 Europe/London] N8nWebhookHandler: Checking for existing settings
[24-Mar-2025 23:45:52 Europe/London] N8nWebhookHandler: Activation completed successfully
[24-Mar-2025 23:45:52 Europe/London] N8nWebhookHandler: Initializing plugin
[24-Mar-2025 23:45:52 Europe/London] N8nWebhookHandler: Registering hooks
[24-Mar-2025 23:45:52 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[24-Mar-2025 23:45:52 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:45:52 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[24-Mar-2025 23:45:52 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:45:52 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[24-Mar-2025 23:45:52 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:45:52 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:45:52 Europe/London] N8nWebhookHandler: Initialization completed
[24-Mar-2025 23:45:52 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[24-Mar-2025 23:45:52 Europe/London] N8nWebhookHandler: Initializing plugin
[24-Mar-2025 23:45:52 Europe/London] N8nWebhookHandler: Registering hooks
[24-Mar-2025 23:45:52 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[24-Mar-2025 23:45:52 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:45:52 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[24-Mar-2025 23:45:52 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:45:52 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[24-Mar-2025 23:45:52 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:45:52 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:45:52 Europe/London] N8nWebhookHandler: Initialization completed
[24-Mar-2025 23:45:52 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[24-Mar-2025 23:45:52 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:45:52 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:45:52 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[24-Mar-2025 23:45:52 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[24-Mar-2025 23:45:52 Europe/London] Plugin N8nWebhookHandler: Deactivated
[24-Mar-2025 23:45:53 Europe/London] Attempting to activate plugin: N8nWebhookHandler
[24-Mar-2025 23:45:53 Europe/London] Available plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[24-Mar-2025 23:45:53 Europe/London] Found plugin instance: N8nWebhookHandler
[24-Mar-2025 23:45:53 Europe/London] Plugin ID from database: 9
[24-Mar-2025 23:45:53 Europe/London] Updating existing plugin record in database
[24-Mar-2025 23:45:53 Europe/London] Calling plugin's activate method
[24-Mar-2025 23:45:53 Europe/London] N8nWebhookHandler: Activating plugin with ID: null
[24-Mar-2025 23:45:53 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[24-Mar-2025 23:45:53 Europe/London] N8nWebhookHandler: Creating/checking database tables
[24-Mar-2025 23:45:53 Europe/London] N8nWebhookHandler: Checking for existing settings
[24-Mar-2025 23:45:53 Europe/London] N8nWebhookHandler: Activation completed successfully
[24-Mar-2025 23:45:53 Europe/London] N8nWebhookHandler: Initializing plugin
[24-Mar-2025 23:45:53 Europe/London] N8nWebhookHandler: Registering hooks
[24-Mar-2025 23:45:53 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[24-Mar-2025 23:45:53 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [2] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:45:53 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[24-Mar-2025 23:45:53 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [2] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [2] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:45:53 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[24-Mar-2025 23:45:53 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [2] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [2] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

            [2] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:45:53 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [2] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [2] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

            [2] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:45:53 Europe/London] N8nWebhookHandler: Initialization completed
[24-Mar-2025 23:45:53 Europe/London] Adding plugin to active plugins list
[24-Mar-2025 23:45:53 Europe/London] Initializing plugin
[24-Mar-2025 23:45:53 Europe/London] N8nWebhookHandler: Initializing plugin
[24-Mar-2025 23:45:53 Europe/London] N8nWebhookHandler: Registering hooks
[24-Mar-2025 23:45:53 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[24-Mar-2025 23:45:53 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [2] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [3] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [2] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

            [2] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:45:53 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[24-Mar-2025 23:45:53 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [2] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [3] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [2] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [3] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

            [2] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:45:53 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[24-Mar-2025 23:45:53 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [2] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [3] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [2] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [3] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

            [2] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

            [3] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:45:53 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [2] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [3] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [2] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [3] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

            [2] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

            [3] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:45:53 Europe/London] N8nWebhookHandler: Initialization completed
[24-Mar-2025 23:45:53 Europe/London] Plugin activation completed successfully
[24-Mar-2025 23:45:58 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 23:45:58 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[24-Mar-2025 23:45:58 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:45:58 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:45:58 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[24-Mar-2025 23:46:00 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[24-Mar-2025 23:46:00 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[24-Mar-2025 23:46:00 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute(Array)
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\check_plugin.php(6): PluginManager::getInstance()
#4 {main}
[24-Mar-2025 23:46:00 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:46:00 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:46:00 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 23:46:00 Europe/London] PluginManager: Instantiating plugin with ID: 11
[24-Mar-2025 23:46:00 Europe/London] LLMModelSelector: Constructing plugin
[24-Mar-2025 23:46:00 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[24-Mar-2025 23:46:00 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[24-Mar-2025 23:46:00 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[24-Mar-2025 23:46:00 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[24-Mar-2025 23:46:00 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[24-Mar-2025 23:46:00 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[24-Mar-2025 23:46:00 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:46:00 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[24-Mar-2025 23:46:00 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:46:00 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:46:00 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[24-Mar-2025 23:46:00 Europe/London] PluginManager: Instantiating plugin with ID: 9
[24-Mar-2025 23:46:00 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[24-Mar-2025 23:46:00 Europe/London] N8nWebhookHandler: Constructing plugin
[24-Mar-2025 23:46:00 Europe/London] N8nWebhookHandler: Construction completed
[24-Mar-2025 23:46:00 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[24-Mar-2025 23:46:00 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[24-Mar-2025 23:46:00 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[24-Mar-2025 23:46:00 Europe/London] N8nWebhookHandler: Creating/checking database tables
[24-Mar-2025 23:46:00 Europe/London] N8nWebhookHandler: Checking for existing settings
[24-Mar-2025 23:46:00 Europe/London] N8nWebhookHandler: Activation completed successfully
[24-Mar-2025 23:46:00 Europe/London] N8nWebhookHandler: Initializing plugin
[24-Mar-2025 23:46:00 Europe/London] N8nWebhookHandler: Registering hooks
[24-Mar-2025 23:46:00 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[24-Mar-2025 23:46:00 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:46:00 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[24-Mar-2025 23:46:00 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:46:00 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[24-Mar-2025 23:46:00 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:46:00 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:46:00 Europe/London] N8nWebhookHandler: Initialization completed
[24-Mar-2025 23:46:00 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[24-Mar-2025 23:46:00 Europe/London] N8nWebhookHandler: Initializing plugin
[24-Mar-2025 23:46:00 Europe/London] N8nWebhookHandler: Registering hooks
[24-Mar-2025 23:46:00 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[24-Mar-2025 23:46:00 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:46:00 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[24-Mar-2025 23:46:00 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:46:00 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[24-Mar-2025 23:46:00 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:46:00 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

            [1] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:46:00 Europe/London] N8nWebhookHandler: Initialization completed
[24-Mar-2025 23:46:00 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[24-Mar-2025 23:46:00 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:46:00 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:46:00 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[24-Mar-2025 23:46:00 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[24-Mar-2025 23:47:12 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 23:47:12 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[24-Mar-2025 23:47:12 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:47:12 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:47:12 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[24-Mar-2025 23:47:12 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[24-Mar-2025 23:47:12 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[24-Mar-2025 23:47:12 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(24): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(155): MessagesController->__construct()
#5 {main}
[24-Mar-2025 23:47:12 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:47:12 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:47:12 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 23:47:12 Europe/London] PluginManager: Instantiating plugin with ID: 11
[24-Mar-2025 23:47:12 Europe/London] LLMModelSelector: Constructing plugin
[24-Mar-2025 23:47:12 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[24-Mar-2025 23:47:12 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[24-Mar-2025 23:47:12 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[24-Mar-2025 23:47:12 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[24-Mar-2025 23:47:12 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[24-Mar-2025 23:47:12 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[24-Mar-2025 23:47:12 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:47:12 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[24-Mar-2025 23:47:12 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:47:12 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:47:12 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[24-Mar-2025 23:47:12 Europe/London] PluginManager: Instantiating plugin with ID: 9
[24-Mar-2025 23:47:12 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[24-Mar-2025 23:47:12 Europe/London] N8nWebhookHandler: Constructing plugin
[24-Mar-2025 23:47:12 Europe/London] N8nWebhookHandler: Construction completed
[24-Mar-2025 23:47:12 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[24-Mar-2025 23:47:12 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[24-Mar-2025 23:47:12 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[24-Mar-2025 23:47:12 Europe/London] N8nWebhookHandler: Creating/checking database tables
[24-Mar-2025 23:47:12 Europe/London] N8nWebhookHandler: Checking for existing settings
[24-Mar-2025 23:47:12 Europe/London] N8nWebhookHandler: Activation completed successfully
[24-Mar-2025 23:47:12 Europe/London] N8nWebhookHandler: Initializing plugin
[24-Mar-2025 23:47:12 Europe/London] N8nWebhookHandler: Registering hooks
[24-Mar-2025 23:47:12 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[24-Mar-2025 23:47:12 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:47:12 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[24-Mar-2025 23:47:12 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:47:12 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[24-Mar-2025 23:47:12 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:47:12 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:47:12 Europe/London] N8nWebhookHandler: Initialization completed
[24-Mar-2025 23:47:12 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[24-Mar-2025 23:47:12 Europe/London] N8nWebhookHandler: Initializing plugin
[24-Mar-2025 23:47:12 Europe/London] N8nWebhookHandler: Registering hooks
[24-Mar-2025 23:47:12 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[24-Mar-2025 23:47:12 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:47:12 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[24-Mar-2025 23:47:12 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:47:12 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[24-Mar-2025 23:47:12 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:47:12 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:47:12 Europe/London] N8nWebhookHandler: Initialization completed
[24-Mar-2025 23:47:12 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[24-Mar-2025 23:47:12 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:47:12 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:47:12 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[24-Mar-2025 23:47:12 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[24-Mar-2025 23:47:12 Europe/London] === Starting message creation process ===
[24-Mar-2025 23:47:12 Europe/London] User authenticated successfully - User ID: 2
[24-Mar-2025 23:47:12 Europe/London] Received message data: {"conversation_id":"85","content":"Hello","is_user":true}
[24-Mar-2025 23:47:12 Europe/London] Message data validation passed
[24-Mar-2025 23:47:12 Europe/London] Fetching conversation and plugin info for conversation ID: 85
[24-Mar-2025 23:47:12 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler
[24-Mar-2025 23:47:12 Europe/London] Created message data structure
[24-Mar-2025 23:47:12 Europe/London] DEBUG: Starting plugin processing for plugin_id: 9
[24-Mar-2025 23:47:12 Europe/London] DEBUG: Plugin name from conversation: N8nWebhookHandler
[24-Mar-2025 23:47:12 Europe/London] DEBUG: Current active plugins: {"LLMModelSelector":{},"N8nWebhookHandler":{}}
[24-Mar-2025 23:47:12 Europe/London] DEBUG: All available plugins: {"LLMModelSelector":{},"N8nWebhookHandler":{}}
[24-Mar-2025 23:47:12 Europe/London] DEBUG: Attempting to get plugin instance for: N8nWebhookHandler
[24-Mar-2025 23:47:12 Europe/London] DEBUG: Successfully got plugin instance of class: N8nWebhookHandler
[24-Mar-2025 23:47:12 Europe/London] DEBUG: Executing before_send_message hook for plugin: N8nWebhookHandler
[24-Mar-2025 23:47:12 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[24-Mar-2025 23:47:12 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:47:12 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[24-Mar-2025 23:47:12 Europe/London] N8nWebhookHandler: Starting message processing
[24-Mar-2025 23:47:12 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"85","content":"Hello","role":"user"}
[24-Mar-2025 23:47:12 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[24-Mar-2025 23:47:12 Europe/London] N8nWebhookHandler: Sending request data: {"message":"Hello","conversation_id":"85","timestamp":"2025-03-24 23:47:12"}
[24-Mar-2025 23:47:12 Europe/London] N8nWebhookHandler ERROR: Webhook request failed: SSL certificate problem: unable to get local issuer certificate
[24-Mar-2025 23:47:12 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[24-Mar-2025 23:47:12 Europe/London] DEBUG: before_send_message hook executed successfully
[24-Mar-2025 23:47:12 Europe/London] Saving message to database
[24-Mar-2025 23:47:12 Europe/London] Message saved successfully with ID: 59
[24-Mar-2025 23:47:12 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[24-Mar-2025 23:47:12 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[24-Mar-2025 23:47:12 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:47:12 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[24-Mar-2025 23:47:12 Europe/London] N8nWebhookHandler: Starting message processing
[24-Mar-2025 23:47:12 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"85","content":"Hello","role":"user"}
[24-Mar-2025 23:47:12 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[24-Mar-2025 23:47:12 Europe/London] N8nWebhookHandler: Sending request data: {"message":"Hello","conversation_id":"85","timestamp":"2025-03-24 23:47:12"}
[24-Mar-2025 23:47:13 Europe/London] N8nWebhookHandler ERROR: Webhook request failed: SSL certificate problem: unable to get local issuer certificate
[24-Mar-2025 23:47:13 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[24-Mar-2025 23:47:13 Europe/London] after_send_message hook executed successfully
[24-Mar-2025 23:47:13 Europe/London] === Message creation process completed successfully ===
[24-Mar-2025 23:47:57 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 23:47:57 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[24-Mar-2025 23:47:57 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:47:57 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:47:57 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[24-Mar-2025 23:47:57 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[24-Mar-2025 23:47:57 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[24-Mar-2025 23:47:57 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(24): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(155): MessagesController->__construct()
#5 {main}
[24-Mar-2025 23:47:57 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:47:57 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:47:57 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 23:47:57 Europe/London] PluginManager: Instantiating plugin with ID: 11
[24-Mar-2025 23:47:57 Europe/London] LLMModelSelector: Constructing plugin
[24-Mar-2025 23:47:57 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[24-Mar-2025 23:47:57 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[24-Mar-2025 23:47:57 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[24-Mar-2025 23:47:57 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[24-Mar-2025 23:47:57 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[24-Mar-2025 23:47:57 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[24-Mar-2025 23:47:57 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:47:57 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[24-Mar-2025 23:47:57 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:47:57 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:47:57 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[24-Mar-2025 23:47:57 Europe/London] PluginManager: Instantiating plugin with ID: 9
[24-Mar-2025 23:47:57 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[24-Mar-2025 23:47:57 Europe/London] N8nWebhookHandler: Constructing plugin
[24-Mar-2025 23:47:57 Europe/London] N8nWebhookHandler: Construction completed
[24-Mar-2025 23:47:57 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[24-Mar-2025 23:47:57 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[24-Mar-2025 23:47:57 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[24-Mar-2025 23:47:57 Europe/London] N8nWebhookHandler: Creating/checking database tables
[24-Mar-2025 23:47:57 Europe/London] N8nWebhookHandler: Checking for existing settings
[24-Mar-2025 23:47:57 Europe/London] N8nWebhookHandler: Activation completed successfully
[24-Mar-2025 23:47:57 Europe/London] N8nWebhookHandler: Initializing plugin
[24-Mar-2025 23:47:57 Europe/London] N8nWebhookHandler: Registering hooks
[24-Mar-2025 23:47:57 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[24-Mar-2025 23:47:57 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:47:57 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[24-Mar-2025 23:47:57 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:47:57 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[24-Mar-2025 23:47:57 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:47:57 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:47:57 Europe/London] N8nWebhookHandler: Initialization completed
[24-Mar-2025 23:47:57 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[24-Mar-2025 23:47:57 Europe/London] N8nWebhookHandler: Initializing plugin
[24-Mar-2025 23:47:57 Europe/London] N8nWebhookHandler: Registering hooks
[24-Mar-2025 23:47:57 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[24-Mar-2025 23:47:57 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:47:57 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[24-Mar-2025 23:47:57 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:47:57 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[24-Mar-2025 23:47:57 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:47:57 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:47:57 Europe/London] N8nWebhookHandler: Initialization completed
[24-Mar-2025 23:47:57 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[24-Mar-2025 23:47:57 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:47:57 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:47:57 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[24-Mar-2025 23:47:57 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[24-Mar-2025 23:47:57 Europe/London] === Starting message creation process ===
[24-Mar-2025 23:47:57 Europe/London] User authenticated successfully - User ID: 2
[24-Mar-2025 23:47:57 Europe/London] Received message data: {"conversation_id":"86","content":"Hi there","is_user":true}
[24-Mar-2025 23:47:57 Europe/London] Message data validation passed
[24-Mar-2025 23:47:57 Europe/London] Fetching conversation and plugin info for conversation ID: 86
[24-Mar-2025 23:47:57 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler
[24-Mar-2025 23:47:57 Europe/London] Created message data structure
[24-Mar-2025 23:47:57 Europe/London] DEBUG: Starting plugin processing for plugin_id: 9
[24-Mar-2025 23:47:57 Europe/London] DEBUG: Plugin name from conversation: N8nWebhookHandler
[24-Mar-2025 23:47:57 Europe/London] DEBUG: Current active plugins: {"LLMModelSelector":{},"N8nWebhookHandler":{}}
[24-Mar-2025 23:47:57 Europe/London] DEBUG: All available plugins: {"LLMModelSelector":{},"N8nWebhookHandler":{}}
[24-Mar-2025 23:47:57 Europe/London] DEBUG: Attempting to get plugin instance for: N8nWebhookHandler
[24-Mar-2025 23:47:57 Europe/London] DEBUG: Successfully got plugin instance of class: N8nWebhookHandler
[24-Mar-2025 23:47:57 Europe/London] DEBUG: Executing before_send_message hook for plugin: N8nWebhookHandler
[24-Mar-2025 23:47:57 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[24-Mar-2025 23:47:57 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:47:57 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[24-Mar-2025 23:47:57 Europe/London] N8nWebhookHandler: Starting message processing
[24-Mar-2025 23:47:57 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"86","content":"Hi there","role":"user"}
[24-Mar-2025 23:47:57 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[24-Mar-2025 23:47:57 Europe/London] N8nWebhookHandler: Sending request data: {"message":"Hi there","conversation_id":"86","timestamp":"2025-03-24 23:47:57"}
[24-Mar-2025 23:47:57 Europe/London] N8nWebhookHandler ERROR: Webhook request failed: SSL certificate problem: unable to get local issuer certificate
[24-Mar-2025 23:47:57 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[24-Mar-2025 23:47:57 Europe/London] DEBUG: before_send_message hook executed successfully
[24-Mar-2025 23:47:57 Europe/London] Saving message to database
[24-Mar-2025 23:47:57 Europe/London] Message saved successfully with ID: 60
[24-Mar-2025 23:47:57 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[24-Mar-2025 23:47:57 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[24-Mar-2025 23:47:57 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:47:57 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[24-Mar-2025 23:47:57 Europe/London] N8nWebhookHandler: Starting message processing
[24-Mar-2025 23:47:57 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"86","content":"Hi there","role":"user"}
[24-Mar-2025 23:47:57 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[24-Mar-2025 23:47:57 Europe/London] N8nWebhookHandler: Sending request data: {"message":"Hi there","conversation_id":"86","timestamp":"2025-03-24 23:47:57"}
[24-Mar-2025 23:47:58 Europe/London] N8nWebhookHandler ERROR: Webhook request failed: SSL certificate problem: unable to get local issuer certificate
[24-Mar-2025 23:47:58 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[24-Mar-2025 23:47:58 Europe/London] after_send_message hook executed successfully
[24-Mar-2025 23:47:58 Europe/London] === Message creation process completed successfully ===
[24-Mar-2025 23:48:08 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 23:48:08 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[24-Mar-2025 23:48:08 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:48:08 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:48:08 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[24-Mar-2025 23:48:08 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[24-Mar-2025 23:48:08 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[24-Mar-2025 23:48:08 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(24): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(155): MessagesController->__construct()
#5 {main}
[24-Mar-2025 23:48:08 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:48:08 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:48:08 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 23:48:08 Europe/London] PluginManager: Instantiating plugin with ID: 11
[24-Mar-2025 23:48:08 Europe/London] LLMModelSelector: Constructing plugin
[24-Mar-2025 23:48:08 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[24-Mar-2025 23:48:08 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[24-Mar-2025 23:48:08 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[24-Mar-2025 23:48:08 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[24-Mar-2025 23:48:08 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[24-Mar-2025 23:48:08 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[24-Mar-2025 23:48:08 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:48:08 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[24-Mar-2025 23:48:08 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:48:08 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:48:08 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[24-Mar-2025 23:48:08 Europe/London] PluginManager: Instantiating plugin with ID: 9
[24-Mar-2025 23:48:08 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[24-Mar-2025 23:48:08 Europe/London] N8nWebhookHandler: Constructing plugin
[24-Mar-2025 23:48:08 Europe/London] N8nWebhookHandler: Construction completed
[24-Mar-2025 23:48:08 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[24-Mar-2025 23:48:08 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[24-Mar-2025 23:48:08 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[24-Mar-2025 23:48:08 Europe/London] N8nWebhookHandler: Creating/checking database tables
[24-Mar-2025 23:48:08 Europe/London] N8nWebhookHandler: Checking for existing settings
[24-Mar-2025 23:48:08 Europe/London] N8nWebhookHandler: Activation completed successfully
[24-Mar-2025 23:48:08 Europe/London] N8nWebhookHandler: Initializing plugin
[24-Mar-2025 23:48:08 Europe/London] N8nWebhookHandler: Registering hooks
[24-Mar-2025 23:48:08 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[24-Mar-2025 23:48:08 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:48:08 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[24-Mar-2025 23:48:08 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:48:08 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[24-Mar-2025 23:48:08 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:48:08 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:48:08 Europe/London] N8nWebhookHandler: Initialization completed
[24-Mar-2025 23:48:08 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[24-Mar-2025 23:48:08 Europe/London] N8nWebhookHandler: Initializing plugin
[24-Mar-2025 23:48:08 Europe/London] N8nWebhookHandler: Registering hooks
[24-Mar-2025 23:48:08 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[24-Mar-2025 23:48:08 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:48:08 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[24-Mar-2025 23:48:08 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:48:08 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[24-Mar-2025 23:48:08 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:48:08 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:48:08 Europe/London] N8nWebhookHandler: Initialization completed
[24-Mar-2025 23:48:08 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[24-Mar-2025 23:48:08 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:48:08 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:48:08 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[24-Mar-2025 23:48:08 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[24-Mar-2025 23:48:08 Europe/London] === Starting message creation process ===
[24-Mar-2025 23:48:08 Europe/London] User authenticated successfully - User ID: 2
[24-Mar-2025 23:48:08 Europe/London] Received message data: {"conversation_id":"86","content":"How are you","is_user":true}
[24-Mar-2025 23:48:08 Europe/London] Message data validation passed
[24-Mar-2025 23:48:08 Europe/London] Fetching conversation and plugin info for conversation ID: 86
[24-Mar-2025 23:48:08 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler
[24-Mar-2025 23:48:08 Europe/London] Created message data structure
[24-Mar-2025 23:48:08 Europe/London] DEBUG: Starting plugin processing for plugin_id: 9
[24-Mar-2025 23:48:08 Europe/London] DEBUG: Plugin name from conversation: N8nWebhookHandler
[24-Mar-2025 23:48:08 Europe/London] DEBUG: Current active plugins: {"LLMModelSelector":{},"N8nWebhookHandler":{}}
[24-Mar-2025 23:48:08 Europe/London] DEBUG: All available plugins: {"LLMModelSelector":{},"N8nWebhookHandler":{}}
[24-Mar-2025 23:48:08 Europe/London] DEBUG: Attempting to get plugin instance for: N8nWebhookHandler
[24-Mar-2025 23:48:08 Europe/London] DEBUG: Successfully got plugin instance of class: N8nWebhookHandler
[24-Mar-2025 23:48:08 Europe/London] DEBUG: Executing before_send_message hook for plugin: N8nWebhookHandler
[24-Mar-2025 23:48:08 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[24-Mar-2025 23:48:08 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:48:08 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[24-Mar-2025 23:48:08 Europe/London] N8nWebhookHandler: Starting message processing
[24-Mar-2025 23:48:08 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"86","content":"How are you","role":"user"}
[24-Mar-2025 23:48:08 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[24-Mar-2025 23:48:08 Europe/London] N8nWebhookHandler: Sending request data: {"message":"How are you","conversation_id":"86","timestamp":"2025-03-24 23:48:08"}
[24-Mar-2025 23:48:08 Europe/London] N8nWebhookHandler ERROR: Webhook request failed: SSL certificate problem: unable to get local issuer certificate
[24-Mar-2025 23:48:08 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[24-Mar-2025 23:48:08 Europe/London] DEBUG: before_send_message hook executed successfully
[24-Mar-2025 23:48:08 Europe/London] Saving message to database
[24-Mar-2025 23:48:08 Europe/London] Message saved successfully with ID: 61
[24-Mar-2025 23:48:08 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[24-Mar-2025 23:48:08 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[24-Mar-2025 23:48:08 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:48:08 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[24-Mar-2025 23:48:08 Europe/London] N8nWebhookHandler: Starting message processing
[24-Mar-2025 23:48:08 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"86","content":"How are you","role":"user"}
[24-Mar-2025 23:48:08 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[24-Mar-2025 23:48:08 Europe/London] N8nWebhookHandler: Sending request data: {"message":"How are you","conversation_id":"86","timestamp":"2025-03-24 23:48:08"}
[24-Mar-2025 23:48:08 Europe/London] N8nWebhookHandler ERROR: Webhook request failed: SSL certificate problem: unable to get local issuer certificate
[24-Mar-2025 23:48:08 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[24-Mar-2025 23:48:08 Europe/London] after_send_message hook executed successfully
[24-Mar-2025 23:48:08 Europe/London] === Message creation process completed successfully ===
[24-Mar-2025 23:49:34 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 23:49:34 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[24-Mar-2025 23:49:34 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:49:34 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:49:34 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[24-Mar-2025 23:49:36 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[24-Mar-2025 23:49:36 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[24-Mar-2025 23:49:36 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute(Array)
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\check_plugin.php(6): PluginManager::getInstance()
#4 {main}
[24-Mar-2025 23:49:36 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:49:36 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:49:36 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 23:49:36 Europe/London] PluginManager: Instantiating plugin with ID: 11
[24-Mar-2025 23:49:36 Europe/London] LLMModelSelector: Constructing plugin
[24-Mar-2025 23:49:36 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[24-Mar-2025 23:49:36 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[24-Mar-2025 23:49:36 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[24-Mar-2025 23:49:36 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[24-Mar-2025 23:49:36 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[24-Mar-2025 23:49:36 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[24-Mar-2025 23:49:36 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:49:36 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[24-Mar-2025 23:49:36 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:49:36 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:49:36 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[24-Mar-2025 23:49:36 Europe/London] PluginManager: Instantiating plugin with ID: 9
[24-Mar-2025 23:49:36 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[24-Mar-2025 23:49:36 Europe/London] N8nWebhookHandler: Constructing plugin
[24-Mar-2025 23:49:36 Europe/London] N8nWebhookHandler: Construction completed
[24-Mar-2025 23:49:36 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[24-Mar-2025 23:49:36 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[24-Mar-2025 23:49:36 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[24-Mar-2025 23:49:36 Europe/London] N8nWebhookHandler: Creating/checking database tables
[24-Mar-2025 23:49:36 Europe/London] N8nWebhookHandler: Checking for existing settings
[24-Mar-2025 23:49:36 Europe/London] N8nWebhookHandler: Activation completed successfully
[24-Mar-2025 23:49:36 Europe/London] N8nWebhookHandler: Initializing plugin
[24-Mar-2025 23:49:36 Europe/London] N8nWebhookHandler: Registering hooks
[24-Mar-2025 23:49:36 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[24-Mar-2025 23:49:36 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:49:36 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[24-Mar-2025 23:49:36 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:49:36 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[24-Mar-2025 23:49:36 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:49:36 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:49:36 Europe/London] N8nWebhookHandler: Initialization completed
[24-Mar-2025 23:49:36 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[24-Mar-2025 23:49:36 Europe/London] N8nWebhookHandler: Initializing plugin
[24-Mar-2025 23:49:36 Europe/London] N8nWebhookHandler: Registering hooks
[24-Mar-2025 23:49:36 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[24-Mar-2025 23:49:36 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:49:36 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[24-Mar-2025 23:49:36 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:49:36 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[24-Mar-2025 23:49:36 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:49:36 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:49:36 Europe/London] N8nWebhookHandler: Initialization completed
[24-Mar-2025 23:49:36 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[24-Mar-2025 23:49:36 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:49:36 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:49:36 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[24-Mar-2025 23:49:36 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[24-Mar-2025 23:54:27 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 23:54:27 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[24-Mar-2025 23:54:27 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:54:27 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:54:27 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[24-Mar-2025 23:54:27 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[24-Mar-2025 23:54:27 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[24-Mar-2025 23:54:27 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(24): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(160): MessagesController->__construct()
#5 {main}
[24-Mar-2025 23:54:27 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:54:27 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:54:27 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 23:54:27 Europe/London] PluginManager: Instantiating plugin with ID: 11
[24-Mar-2025 23:54:27 Europe/London] LLMModelSelector: Constructing plugin
[24-Mar-2025 23:54:27 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[24-Mar-2025 23:54:27 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[24-Mar-2025 23:54:27 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[24-Mar-2025 23:54:27 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[24-Mar-2025 23:54:27 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[24-Mar-2025 23:54:27 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[24-Mar-2025 23:54:27 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:54:27 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[24-Mar-2025 23:54:27 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:54:27 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:54:27 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[24-Mar-2025 23:54:27 Europe/London] PluginManager: Instantiating plugin with ID: 9
[24-Mar-2025 23:54:27 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[24-Mar-2025 23:54:27 Europe/London] N8nWebhookHandler: Constructing plugin
[24-Mar-2025 23:54:27 Europe/London] N8nWebhookHandler: Construction completed
[24-Mar-2025 23:54:27 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[24-Mar-2025 23:54:27 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[24-Mar-2025 23:54:27 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[24-Mar-2025 23:54:27 Europe/London] N8nWebhookHandler: Creating/checking database tables
[24-Mar-2025 23:54:27 Europe/London] N8nWebhookHandler: Checking for existing settings
[24-Mar-2025 23:54:27 Europe/London] N8nWebhookHandler: Activation completed successfully
[24-Mar-2025 23:54:27 Europe/London] N8nWebhookHandler: Initializing plugin
[24-Mar-2025 23:54:27 Europe/London] N8nWebhookHandler: Registering hooks
[24-Mar-2025 23:54:27 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[24-Mar-2025 23:54:27 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:54:27 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[24-Mar-2025 23:54:27 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:54:27 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[24-Mar-2025 23:54:27 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:54:27 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:54:27 Europe/London] N8nWebhookHandler: Initialization completed
[24-Mar-2025 23:54:27 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[24-Mar-2025 23:54:27 Europe/London] N8nWebhookHandler: Initializing plugin
[24-Mar-2025 23:54:27 Europe/London] N8nWebhookHandler: Registering hooks
[24-Mar-2025 23:54:27 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[24-Mar-2025 23:54:27 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:54:27 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[24-Mar-2025 23:54:27 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:54:27 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[24-Mar-2025 23:54:27 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:54:27 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:54:27 Europe/London] N8nWebhookHandler: Initialization completed
[24-Mar-2025 23:54:27 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[24-Mar-2025 23:54:27 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:54:27 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:54:27 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[24-Mar-2025 23:54:27 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[24-Mar-2025 23:54:27 Europe/London] === Starting message creation process ===
[24-Mar-2025 23:54:27 Europe/London] User authenticated successfully - User ID: 2
[24-Mar-2025 23:54:27 Europe/London] Received message data: {"conversation_id":"86","content":"hes","is_user":true}
[24-Mar-2025 23:54:27 Europe/London] Message data validation passed
[24-Mar-2025 23:54:27 Europe/London] Fetching conversation and plugin info for conversation ID: 86
[24-Mar-2025 23:54:27 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[24-Mar-2025 23:54:27 Europe/London] Created message data structure
[24-Mar-2025 23:54:27 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[24-Mar-2025 23:54:27 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[24-Mar-2025 23:54:27 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:54:27 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[24-Mar-2025 23:54:27 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[24-Mar-2025 23:54:27 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:54:27 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[24-Mar-2025 23:54:27 Europe/London] N8nWebhookHandler: Starting message processing
[24-Mar-2025 23:54:27 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"86","content":"hes","role":"user"}
[24-Mar-2025 23:54:27 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[24-Mar-2025 23:54:27 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hes","conversation_id":"86","timestamp":"2025-03-24 23:54:27"}
[24-Mar-2025 23:54:29 Europe/London] N8nWebhookHandler: Webhook response code: 200
[24-Mar-2025 23:54:29 Europe/London] N8nWebhookHandler: Webhook response: يبدو أن المدخل غير واضح. يرجى توضيح ما الذي تبحث عنه أو تقديم معلومات إضافية حتى أتمكن من مساعدتك بشكل أفضل.
[24-Mar-2025 23:54:29 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[24-Mar-2025 23:54:29 Europe/London] before_send_message hook executed successfully
[24-Mar-2025 23:54:29 Europe/London] Saving message to database
[24-Mar-2025 23:54:29 Europe/London] Message saved successfully with ID: 62
[24-Mar-2025 23:54:29 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[24-Mar-2025 23:54:29 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[24-Mar-2025 23:54:29 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:54:29 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[24-Mar-2025 23:54:29 Europe/London] N8nWebhookHandler: Starting message processing
[24-Mar-2025 23:54:29 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"86","content":"hes","role":"user"}
[24-Mar-2025 23:54:29 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[24-Mar-2025 23:54:29 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hes","conversation_id":"86","timestamp":"2025-03-24 23:54:29"}
[24-Mar-2025 23:54:30 Europe/London] N8nWebhookHandler: Webhook response code: 200
[24-Mar-2025 23:54:30 Europe/London] N8nWebhookHandler: Webhook response: يبدو أن المدخل غير واضح. هل يمكنك تقديم المزيد من التفاصيل حول ما تبحث عنه في ملفات تعريف الأعضاء؟ سيساعدني ذلك في مساعدتك بشكل أفضل.
[24-Mar-2025 23:54:30 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[24-Mar-2025 23:54:30 Europe/London] after_send_message hook executed successfully
[24-Mar-2025 23:54:30 Europe/London] === Message creation process completed successfully ===
[24-Mar-2025 23:56:29 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 23:56:29 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[24-Mar-2025 23:56:29 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:56:29 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:56:29 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[24-Mar-2025 23:56:29 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[24-Mar-2025 23:56:29 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[24-Mar-2025 23:56:29 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(24): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(160): MessagesController->__construct()
#5 {main}
[24-Mar-2025 23:56:29 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:56:29 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:56:29 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 23:56:29 Europe/London] PluginManager: Instantiating plugin with ID: 11
[24-Mar-2025 23:56:29 Europe/London] LLMModelSelector: Constructing plugin
[24-Mar-2025 23:56:29 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[24-Mar-2025 23:56:29 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[24-Mar-2025 23:56:29 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[24-Mar-2025 23:56:29 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[24-Mar-2025 23:56:29 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[24-Mar-2025 23:56:29 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[24-Mar-2025 23:56:29 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:56:29 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[24-Mar-2025 23:56:29 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:56:29 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:56:29 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[24-Mar-2025 23:56:29 Europe/London] PluginManager: Instantiating plugin with ID: 9
[24-Mar-2025 23:56:29 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[24-Mar-2025 23:56:29 Europe/London] N8nWebhookHandler: Constructing plugin
[24-Mar-2025 23:56:29 Europe/London] N8nWebhookHandler: Construction completed
[24-Mar-2025 23:56:29 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[24-Mar-2025 23:56:29 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[24-Mar-2025 23:56:29 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[24-Mar-2025 23:56:29 Europe/London] N8nWebhookHandler: Creating/checking database tables
[24-Mar-2025 23:56:29 Europe/London] N8nWebhookHandler: Checking for existing settings
[24-Mar-2025 23:56:29 Europe/London] N8nWebhookHandler: Activation completed successfully
[24-Mar-2025 23:56:29 Europe/London] N8nWebhookHandler: Initializing plugin
[24-Mar-2025 23:56:29 Europe/London] N8nWebhookHandler: Registering hooks
[24-Mar-2025 23:56:29 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[24-Mar-2025 23:56:29 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:56:29 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[24-Mar-2025 23:56:29 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:56:29 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[24-Mar-2025 23:56:29 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:56:29 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:56:29 Europe/London] N8nWebhookHandler: Initialization completed
[24-Mar-2025 23:56:29 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[24-Mar-2025 23:56:29 Europe/London] N8nWebhookHandler: Initializing plugin
[24-Mar-2025 23:56:29 Europe/London] N8nWebhookHandler: Registering hooks
[24-Mar-2025 23:56:29 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[24-Mar-2025 23:56:29 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:56:29 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[24-Mar-2025 23:56:29 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:56:29 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[24-Mar-2025 23:56:29 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:56:29 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:56:29 Europe/London] N8nWebhookHandler: Initialization completed
[24-Mar-2025 23:56:29 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[24-Mar-2025 23:56:29 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:56:29 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:56:29 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[24-Mar-2025 23:56:29 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[24-Mar-2025 23:56:29 Europe/London] === Starting message creation process ===
[24-Mar-2025 23:56:29 Europe/London] User authenticated successfully - User ID: 2
[24-Mar-2025 23:56:29 Europe/London] Received message data: {"conversation_id":"87","content":"Hi","is_user":true}
[24-Mar-2025 23:56:29 Europe/London] Message data validation passed
[24-Mar-2025 23:56:29 Europe/London] Fetching conversation and plugin info for conversation ID: 87
[24-Mar-2025 23:56:29 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[24-Mar-2025 23:56:29 Europe/London] Created message data structure
[24-Mar-2025 23:56:29 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[24-Mar-2025 23:56:29 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[24-Mar-2025 23:56:29 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:56:29 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[24-Mar-2025 23:56:29 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[24-Mar-2025 23:56:29 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:56:29 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[24-Mar-2025 23:56:29 Europe/London] N8nWebhookHandler: Starting message processing
[24-Mar-2025 23:56:29 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"87","content":"Hi","role":"user"}
[24-Mar-2025 23:56:29 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[24-Mar-2025 23:56:29 Europe/London] N8nWebhookHandler: Sending request data: {"message":"Hi","conversation_id":"87","timestamp":"2025-03-24 23:56:29"}
[24-Mar-2025 23:56:29 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[24-Mar-2025 23:56:30 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.16.1:443...
* Connected to n8n.mazcode.com (104.21.16.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 73]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 73

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Mon, 24 Mar 2025 23:56:30 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=FkVYgK3PURpErAvJKrmzbXZV%2BwA1fn8NgcRXVZkGEOL8ikxqWvP2wkUM59cch4pKw8S6RkEeOEZGLKsAC8QE4vKI4QIkDXpvb5j%2F5EysbXA1qTbNyvfUwJmNrfdhP5LTyoI%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925a1afaeb59ee76-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=93616&min_rtt=90912&rtt_var=27119&sent=7&recv=9&lost=0&retrans=0&sent_bytes=3411&recv_bytes=907&delivery_rate=30912&cwnd=253&unsent_bytes=0&cid=b1f60bb4dddd3ede&ts=1374&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[24-Mar-2025 23:56:30 Europe/London] N8nWebhookHandler: Webhook response code: 200
[24-Mar-2025 23:56:30 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[24-Mar-2025 23:56:30 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[24-Mar-2025 23:56:30 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[24-Mar-2025 23:56:30 Europe/London] before_send_message hook executed successfully
[24-Mar-2025 23:56:30 Europe/London] Saving message to database
[24-Mar-2025 23:56:30 Europe/London] Message saved successfully with ID: 63
[24-Mar-2025 23:56:30 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[24-Mar-2025 23:56:30 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[24-Mar-2025 23:56:30 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:56:30 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[24-Mar-2025 23:56:30 Europe/London] N8nWebhookHandler: Starting message processing
[24-Mar-2025 23:56:30 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"87","content":"Hi","role":"user"}
[24-Mar-2025 23:56:30 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[24-Mar-2025 23:56:30 Europe/London] N8nWebhookHandler: Sending request data: {"message":"Hi","conversation_id":"87","timestamp":"2025-03-24 23:56:30"}
[24-Mar-2025 23:56:30 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[24-Mar-2025 23:56:32 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.16.1:443...
* Connected to n8n.mazcode.com (104.21.16.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 73]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 73

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Mon, 24 Mar 2025 23:56:32 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=aubdCpHr6pNz8LbUt8tpNYEZxCyqbqP8KjcU0L5uwff2bQmaylwhEkTDzJGZIgjPP124V7ZW68N7e%2F1SE1Caee9KUsrmxWQ4r1dyqQ8JImFDa1dtTAC%2FMa7PWt7wDR78DdE%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925a1b04eca3edbe-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=111071&min_rtt=101339&rtt_var=36605&sent=6&recv=8&lost=0&retrans=0&sent_bytes=3387&recv_bytes=907&delivery_rate=27350&cwnd=252&unsent_bytes=0&cid=5a353cd4d93072eb&ts=1858&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[24-Mar-2025 23:56:32 Europe/London] N8nWebhookHandler: Webhook response code: 200
[24-Mar-2025 23:56:32 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم في العثور على شريك مثالي من خلال قواعد البيانات؟
[24-Mar-2025 23:56:32 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[24-Mar-2025 23:56:32 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[24-Mar-2025 23:56:32 Europe/London] after_send_message hook executed successfully
[24-Mar-2025 23:56:32 Europe/London] === Message creation process completed successfully ===
[24-Mar-2025 23:57:13 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[24-Mar-2025 23:57:13 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[24-Mar-2025 23:57:13 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:57:13 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[24-Mar-2025 23:57:13 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[24-Mar-2025 23:57:13 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[24-Mar-2025 23:57:13 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[24-Mar-2025 23:57:13 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(24): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(160): MessagesController->__construct()
#5 {main}
[24-Mar-2025 23:57:13 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:57:13 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[24-Mar-2025 23:57:13 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[24-Mar-2025 23:57:13 Europe/London] PluginManager: Instantiating plugin with ID: 11
[24-Mar-2025 23:57:13 Europe/London] LLMModelSelector: Constructing plugin
[24-Mar-2025 23:57:13 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[24-Mar-2025 23:57:13 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[24-Mar-2025 23:57:13 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[24-Mar-2025 23:57:13 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[24-Mar-2025 23:57:13 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[24-Mar-2025 23:57:13 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[24-Mar-2025 23:57:13 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:57:13 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[24-Mar-2025 23:57:13 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:57:13 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[24-Mar-2025 23:57:13 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[24-Mar-2025 23:57:13 Europe/London] PluginManager: Instantiating plugin with ID: 9
[24-Mar-2025 23:57:13 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[24-Mar-2025 23:57:13 Europe/London] N8nWebhookHandler: Constructing plugin
[24-Mar-2025 23:57:13 Europe/London] N8nWebhookHandler: Construction completed
[24-Mar-2025 23:57:13 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[24-Mar-2025 23:57:13 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[24-Mar-2025 23:57:13 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[24-Mar-2025 23:57:13 Europe/London] N8nWebhookHandler: Creating/checking database tables
[24-Mar-2025 23:57:13 Europe/London] N8nWebhookHandler: Checking for existing settings
[24-Mar-2025 23:57:13 Europe/London] N8nWebhookHandler: Activation completed successfully
[24-Mar-2025 23:57:13 Europe/London] N8nWebhookHandler: Initializing plugin
[24-Mar-2025 23:57:13 Europe/London] N8nWebhookHandler: Registering hooks
[24-Mar-2025 23:57:13 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[24-Mar-2025 23:57:13 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:57:13 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[24-Mar-2025 23:57:13 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:57:13 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[24-Mar-2025 23:57:13 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:57:13 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:57:13 Europe/London] N8nWebhookHandler: Initialization completed
[24-Mar-2025 23:57:13 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[24-Mar-2025 23:57:13 Europe/London] N8nWebhookHandler: Initializing plugin
[24-Mar-2025 23:57:13 Europe/London] N8nWebhookHandler: Registering hooks
[24-Mar-2025 23:57:13 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[24-Mar-2025 23:57:13 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:57:13 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[24-Mar-2025 23:57:13 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:57:13 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[24-Mar-2025 23:57:13 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:57:13 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:57:13 Europe/London] N8nWebhookHandler: Initialization completed
[24-Mar-2025 23:57:13 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[24-Mar-2025 23:57:13 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:57:13 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[24-Mar-2025 23:57:13 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[24-Mar-2025 23:57:13 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[24-Mar-2025 23:57:13 Europe/London] === Starting message creation process ===
[24-Mar-2025 23:57:13 Europe/London] User authenticated successfully - User ID: 2
[24-Mar-2025 23:57:13 Europe/London] Received message data: {"conversation_id":"87","content":"Hello","is_user":true}
[24-Mar-2025 23:57:13 Europe/London] Message data validation passed
[24-Mar-2025 23:57:13 Europe/London] Fetching conversation and plugin info for conversation ID: 87
[24-Mar-2025 23:57:13 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[24-Mar-2025 23:57:13 Europe/London] Created message data structure
[24-Mar-2025 23:57:13 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[24-Mar-2025 23:57:13 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[24-Mar-2025 23:57:13 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:57:13 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[24-Mar-2025 23:57:13 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[24-Mar-2025 23:57:13 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:57:13 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[24-Mar-2025 23:57:13 Europe/London] N8nWebhookHandler: Starting message processing
[24-Mar-2025 23:57:13 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"87","content":"Hello","role":"user"}
[24-Mar-2025 23:57:13 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[24-Mar-2025 23:57:13 Europe/London] N8nWebhookHandler: Sending request data: {"message":"Hello","conversation_id":"87","timestamp":"2025-03-24 23:57:13"}
[24-Mar-2025 23:57:13 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[24-Mar-2025 23:57:14 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.16.1:443...
* Connected to n8n.mazcode.com (104.21.16.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 76]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 76

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Mon, 24 Mar 2025 23:57:14 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=r8TvanmD1%2B3ePAkSrJhklSCwf461Hml9cHww2cgkVmscXwgA1LhbhnjlLXIqhVsKin%2BUT5csf1pdAONjnrBh%2Bx1%2B6Qj7wiz3kPQi1nBL%2FCW%2FcPsK2FA%2F2m0nbXaswRwCn4A%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925a1c0edeaaedca-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=109993&min_rtt=99324&rtt_var=34369&sent=7&recv=9&lost=0&retrans=0&sent_bytes=3410&recv_bytes=910&delivery_rate=27283&cwnd=252&unsent_bytes=0&cid=07c33303accadad8&ts=1086&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[24-Mar-2025 23:57:14 Europe/London] N8nWebhookHandler: Webhook response code: 200
[24-Mar-2025 23:57:14 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[24-Mar-2025 23:57:14 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[24-Mar-2025 23:57:14 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[24-Mar-2025 23:57:14 Europe/London] before_send_message hook executed successfully
[24-Mar-2025 23:57:14 Europe/London] Saving message to database
[24-Mar-2025 23:57:14 Europe/London] Message saved successfully with ID: 64
[24-Mar-2025 23:57:14 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[24-Mar-2025 23:57:14 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[24-Mar-2025 23:57:14 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[24-Mar-2025 23:57:14 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[24-Mar-2025 23:57:14 Europe/London] N8nWebhookHandler: Starting message processing
[24-Mar-2025 23:57:14 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"87","content":"Hello","role":"user"}
[24-Mar-2025 23:57:14 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[24-Mar-2025 23:57:14 Europe/London] N8nWebhookHandler: Sending request data: {"message":"Hello","conversation_id":"87","timestamp":"2025-03-24 23:57:14"}
[24-Mar-2025 23:57:14 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[24-Mar-2025 23:57:16 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.16.1:443...
* Connected to n8n.mazcode.com (104.21.16.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 76]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 76

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Mon, 24 Mar 2025 23:57:15 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=NdVm6iK%2FMdqXDrjLV8e%2FPwTdfLc%2BsujBUGoU0l%2FLqicXi47VSKIilJPlYeKNiB9EZA2Jzg%2BT5ln46pgFiVWTKbOBN0cIESx%2BpqAqzXRGajLBpUqXFEuwpfcZNSXr0iLB1ak%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925a1c16fc1aed47-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=99334&min_rtt=88402&rtt_var=34652&sent=6&recv=8&lost=0&retrans=0&sent_bytes=3388&recv_bytes=910&delivery_rate=32086&cwnd=252&unsent_bytes=0&cid=b548f68b01871bbe&ts=1385&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[24-Mar-2025 23:57:16 Europe/London] N8nWebhookHandler: Webhook response code: 200
[24-Mar-2025 23:57:16 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟ إذا كنت تبحث عن شريك حياة أو لديك أي استفسار، فلا تتردد في طرحه.
[24-Mar-2025 23:57:16 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[24-Mar-2025 23:57:16 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[24-Mar-2025 23:57:16 Europe/London] after_send_message hook executed successfully
[24-Mar-2025 23:57:16 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 00:01:07 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 00:01:07 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 00:01:07 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 00:01:07 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 00:01:07 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 00:01:07 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 00:01:07 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 00:01:07 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(24): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(206): MessagesController->__construct()
#5 {main}
[25-Mar-2025 00:01:07 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 00:01:07 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 00:01:07 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 00:01:07 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 00:01:07 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 00:01:07 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 00:01:07 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 00:01:07 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 00:01:07 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 00:01:07 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 00:01:07 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 00:01:07 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:01:07 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 00:01:07 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 00:01:07 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 00:01:07 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 00:01:07 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 00:01:07 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 00:01:07 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 00:01:07 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 00:01:07 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 00:01:07 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 00:01:07 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 00:01:07 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 00:01:07 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 00:01:07 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 00:01:07 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 00:01:07 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 00:01:07 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 00:01:07 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:01:07 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 00:01:07 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:01:07 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 00:01:07 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:01:07 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:01:07 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 00:01:07 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 00:01:07 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 00:01:07 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 00:01:07 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 00:01:07 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:01:07 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 00:01:07 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:01:07 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 00:01:07 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:01:07 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:01:07 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 00:01:07 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 00:01:07 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 00:01:07 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 00:01:07 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 00:01:07 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 00:01:07 Europe/London] === Starting message creation process ===
[25-Mar-2025 00:01:07 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 00:01:07 Europe/London] Received message data: {"conversation_id":"88","content":"hi","is_user":true}
[25-Mar-2025 00:01:07 Europe/London] Message data validation passed
[25-Mar-2025 00:01:07 Europe/London] Fetching conversation and plugin info for conversation ID: 88
[25-Mar-2025 00:01:07 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 00:01:07 Europe/London] Created message data structure
[25-Mar-2025 00:01:07 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 00:01:07 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 00:01:07 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:01:07 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 00:01:07 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 00:01:07 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:01:07 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 00:01:07 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 00:01:07 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"88","content":"hi","role":"user"}
[25-Mar-2025 00:01:07 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 00:01:07 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"88","timestamp":"2025-03-25 00:01:07"}
[25-Mar-2025 00:01:07 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 00:01:08 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.64.1:443...
* Connected to n8n.mazcode.com (104.21.64.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 73]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 73

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 00:01:08 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=RRnI7GO7eczmGATJ4mmyEckBlMw7B%2BIVauG%2FWTk5x6HKic4JoPhNTJ61GTBsRsEHbRgl6zq1BsXEoOqN5Ymp04Db8PCS2Q4h2z45gFJY3193B%2F63uzkmHzHM2JI2UgWjH8k%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925a21c80b460f7a-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=110245&min_rtt=87173&rtt_var=37698&sent=7&recv=9&lost=0&retrans=0&sent_bytes=3410&recv_bytes=907&delivery_rate=29052&cwnd=253&unsent_bytes=0&cid=1d905576d79bb90b&ts=1199&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 00:01:08 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 00:01:08 Europe/London] N8nWebhookHandler: Webhook response: مرحباً! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 00:01:08 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 00:01:08 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 00:01:08 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 00:01:08 Europe/London] Saving message to database
[25-Mar-2025 00:01:08 Europe/London] Message saved successfully with ID: 65
[25-Mar-2025 00:01:08 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 00:01:09 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 00:01:09 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:01:09 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 00:01:09 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 00:01:09 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"88","content":"hi","role":"user"}
[25-Mar-2025 00:01:09 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 00:01:09 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"88","timestamp":"2025-03-25 00:01:09"}
[25-Mar-2025 00:01:09 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 00:01:10 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.64.1:443...
* Connected to n8n.mazcode.com (104.21.64.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 73]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 73

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 00:01:10 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=L3zmt55ECr0YVx1Zf%2FXEQN49EbjwanHUvdD%2FVavqUVtw%2Fwr5HXgHYAE%2BwrOvkYGL0yd47Gf6froIBIVHBnrPVpeXOuzfPaavP%2F6PQesBSy80wPLs33cxLrTaqx2%2BXvmdbGs%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925a21d0db51edd2-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=96387&min_rtt=94009&rtt_var=30351&sent=7&recv=9&lost=0&retrans=0&sent_bytes=3410&recv_bytes=907&delivery_rate=28062&cwnd=253&unsent_bytes=0&cid=990e90f32f47ac90&ts=1233&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 00:01:10 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 00:01:10 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم في البحث عن شريك حياتك المثالي؟
[25-Mar-2025 00:01:10 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 00:01:10 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 00:01:10 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 00:01:10 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 00:04:18 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 00:04:18 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 00:04:18 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 00:04:18 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 00:04:18 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 00:04:18 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 00:04:18 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 00:04:18 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(24): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(212): MessagesController->__construct()
#5 {main}
[25-Mar-2025 00:04:18 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 00:04:18 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 00:04:18 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 00:04:18 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 00:04:18 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 00:04:18 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 00:04:18 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 00:04:18 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 00:04:18 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 00:04:18 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 00:04:18 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 00:04:18 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:04:18 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 00:04:18 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 00:04:18 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 00:04:18 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 00:04:18 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 00:04:18 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 00:04:18 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 00:04:18 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 00:04:18 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 00:04:18 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 00:04:18 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 00:04:18 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 00:04:18 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 00:04:18 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 00:04:18 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 00:04:18 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 00:04:18 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 00:04:18 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:04:18 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 00:04:18 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:04:18 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 00:04:18 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:04:18 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:04:18 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 00:04:18 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 00:04:18 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 00:04:18 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 00:04:18 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 00:04:18 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:04:18 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 00:04:18 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:04:18 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 00:04:18 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:04:18 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:04:18 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 00:04:18 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 00:04:18 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 00:04:18 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 00:04:18 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 00:04:18 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 00:04:18 Europe/London] === Starting message creation process ===
[25-Mar-2025 00:04:18 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 00:04:18 Europe/London] Received message data: {"conversation_id":"89","content":"hi"}
[25-Mar-2025 00:04:18 Europe/London] Message data validation passed
[25-Mar-2025 00:04:18 Europe/London] Fetching conversation and plugin info for conversation ID: 89
[25-Mar-2025 00:04:18 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 00:04:18 Europe/London] Created message data structure
[25-Mar-2025 00:04:18 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 00:04:18 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 00:04:18 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:04:18 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 00:04:18 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 00:04:18 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:04:18 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 00:04:18 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 00:04:18 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"89","content":"hi","role":"user"}
[25-Mar-2025 00:04:18 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 00:04:18 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"89","timestamp":"2025-03-25 00:04:18"}
[25-Mar-2025 00:04:18 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 00:04:20 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.64.1:443...
* Connected to n8n.mazcode.com (104.21.64.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 73]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 73

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 00:04:19 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=a6k7RwdP8taVHTF4bRdyWFDKbVw%2Bc8O1Syciv9HthYpiI38nKaSTEY3NZ8rIwgN%2BWmiHZ0b%2Bqs%2BfZums5CTlmRE8LPS9GTvcVqzrVe%2BPml8HdMlnDtHpXCobI%2BUqsUG3Te4%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925a26733875ee64-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=106082&min_rtt=88673&rtt_var=39474&sent=6&recv=8&lost=0&retrans=0&sent_bytes=3388&recv_bytes=907&delivery_rate=32027&cwnd=252&unsent_bytes=0&cid=f6a39704b49546b0&ts=1015&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 00:04:20 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 00:04:20 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم في العثور على شريك حياتك المثالي؟
[25-Mar-2025 00:04:20 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 00:04:20 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 00:04:20 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 00:04:20 Europe/London] Saving message to database
[25-Mar-2025 00:04:20 Europe/London] Message saved successfully with ID: 66
[25-Mar-2025 00:04:20 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 00:04:20 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 00:04:20 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:04:20 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 00:04:20 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 00:04:20 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"89","content":"hi","role":"user"}
[25-Mar-2025 00:04:20 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 00:04:20 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"89","timestamp":"2025-03-25 00:04:20"}
[25-Mar-2025 00:04:20 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 00:04:21 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.64.1:443...
* Connected to n8n.mazcode.com (104.21.64.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 73]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 73

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 00:04:21 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=wZy3bEk7nRrkeKwh4uz%2BJlJNN3Ok4N40U9Mu537R2IaNXWnqmaN%2FomPtgBsRqq%2Fzlf3bz6KugdqWDrnRHxpwwAa35QH9c9zjFMcL%2BkkobT3R%2FWZnmA%2FFJHXOJKkyJ9hu9tU%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925a267aef7aedba-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=97661&min_rtt=91251&rtt_var=30573&sent=6&recv=8&lost=0&retrans=0&sent_bytes=3388&recv_bytes=907&delivery_rate=31122&cwnd=252&unsent_bytes=0&cid=1c8a0055979068ed&ts=1205&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 00:04:21 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 00:04:21 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 00:04:21 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 00:04:21 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 00:04:21 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 00:04:21 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 00:04:21 Europe/London] Sending response to client: {"success":true,"data":{"message":{"id":"66","conversation_id":"89","content":"hi","role":"user"},"assistant_message":null}}
[25-Mar-2025 00:07:11 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 00:07:11 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 00:07:11 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 00:07:11 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 00:07:11 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 00:07:11 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 00:07:11 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 00:07:11 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(24): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(209): MessagesController->__construct()
#5 {main}
[25-Mar-2025 00:07:11 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 00:07:11 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 00:07:11 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 00:07:11 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 00:07:11 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 00:07:11 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 00:07:11 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 00:07:11 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 00:07:11 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 00:07:11 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 00:07:11 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 00:07:11 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:07:11 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 00:07:11 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 00:07:11 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 00:07:11 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 00:07:11 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 00:07:11 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 00:07:11 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 00:07:11 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 00:07:11 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 00:07:11 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 00:07:11 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 00:07:11 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 00:07:11 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 00:07:11 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 00:07:11 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 00:07:11 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 00:07:11 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 00:07:11 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:07:11 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 00:07:11 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:07:11 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 00:07:11 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:07:11 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:07:11 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 00:07:11 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 00:07:11 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 00:07:11 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 00:07:11 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 00:07:11 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:07:11 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 00:07:11 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:07:11 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 00:07:11 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:07:11 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:07:11 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 00:07:11 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 00:07:11 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 00:07:11 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 00:07:11 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 00:07:11 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 00:07:11 Europe/London] === Starting message creation process ===
[25-Mar-2025 00:07:11 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 00:07:11 Europe/London] Received message data: {"conversation_id":"90","content":"hi"}
[25-Mar-2025 00:07:11 Europe/London] Message data validation passed
[25-Mar-2025 00:07:11 Europe/London] Fetching conversation and plugin info for conversation ID: 90
[25-Mar-2025 00:07:11 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 00:07:11 Europe/London] Created message data structure
[25-Mar-2025 00:07:11 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 00:07:11 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 00:07:11 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:07:11 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 00:07:11 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 00:07:11 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:07:11 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 00:07:11 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 00:07:11 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"90","content":"hi","role":"user"}
[25-Mar-2025 00:07:11 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 00:07:11 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"90","timestamp":"2025-03-25 00:07:11"}
[25-Mar-2025 00:07:11 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 00:07:13 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.64.1:443...
* Connected to n8n.mazcode.com (104.21.64.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 73]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 73

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 00:07:12 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=HCXzFRrUZZd4oNgC0vzvqWxKTljz8jDXPU4YggiC2xYds7hs8Kc4TemQGytUzsM7J%2BaytRq8BhvW8VZeXeKC3ZBdzXonTpN8LZ2v7FK2BJhhBjTZiJI61n3bsGpzIO8ZWS8%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925a2aab1f5f5230-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=94504&min_rtt=89481&rtt_var=29413&sent=6&recv=8&lost=0&retrans=0&sent_bytes=3387&recv_bytes=907&delivery_rate=31374&cwnd=252&unsent_bytes=0&cid=e12df5afd1a59222&ts=1215&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 00:07:13 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 00:07:13 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟ إذا كنت تبحث عن ملفات تعريف لمطابقة، يرجى توفير بعض التفاصيل مثل الجنس، الجنسية، العمر، أو المدينة المفضلة.
[25-Mar-2025 00:07:13 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 00:07:13 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 00:07:13 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 00:07:13 Europe/London] Saving message to database
[25-Mar-2025 00:07:13 Europe/London] Message saved successfully with ID: 67
[25-Mar-2025 00:07:13 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 00:07:13 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 00:07:13 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:07:13 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 00:07:13 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 00:07:13 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"90","content":"hi","role":"user"}
[25-Mar-2025 00:07:13 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 00:07:13 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"90","timestamp":"2025-03-25 00:07:13"}
[25-Mar-2025 00:07:13 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 00:07:14 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.64.1:443...
* Connected to n8n.mazcode.com (104.21.64.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 73]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 73

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 00:07:14 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=bBDboRV%2F8dPzFwB5ViUSogMbJySJSiZeE0URQhSmUomXFkTkC%2Fw6Dhdz3%2BS04O3BPoW7Dz6UArUrlB0bWOASvISdI7C6u5byFe9cF05CM7a6EELr7bBN%2FwMBcgiksevJBBs%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925a2ab40b28ee82-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=99767&min_rtt=91635&rtt_var=33004&sent=7&recv=9&lost=0&retrans=0&sent_bytes=3410&recv_bytes=907&delivery_rate=28696&cwnd=253&unsent_bytes=0&cid=3e0f5e01ddaf6f58&ts=855&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 00:07:14 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 00:07:14 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم في العثور على شريك حياتك المثالي؟
[25-Mar-2025 00:07:14 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 00:07:14 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 00:07:14 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 00:07:14 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 00:07:14 Europe/London] Sending response to client: {"message":{"id":"67","conversation_id":"90","content":"hi","role":"user"},"assistant_message":null}
[25-Mar-2025 00:11:55 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 00:11:55 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 00:11:55 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 00:11:55 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 00:11:55 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 00:11:55 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 00:11:55 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 00:11:55 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(24): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(204): MessagesController->__construct()
#5 {main}
[25-Mar-2025 00:11:55 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 00:11:55 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 00:11:55 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 00:11:55 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 00:11:55 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 00:11:55 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 00:11:55 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 00:11:55 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 00:11:55 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 00:11:55 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 00:11:55 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 00:11:55 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:11:55 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 00:11:55 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 00:11:55 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 00:11:55 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 00:11:55 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 00:11:55 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 00:11:55 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 00:11:55 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 00:11:55 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 00:11:55 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 00:11:55 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 00:11:55 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 00:11:55 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 00:11:55 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 00:11:55 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 00:11:55 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 00:11:55 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 00:11:55 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:11:55 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 00:11:55 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:11:55 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 00:11:55 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:11:55 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:11:55 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 00:11:55 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 00:11:55 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 00:11:55 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 00:11:55 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 00:11:55 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:11:55 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 00:11:55 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:11:55 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 00:11:55 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:11:55 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:11:55 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 00:11:55 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 00:11:55 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 00:11:55 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 00:11:55 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 00:11:55 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 00:11:55 Europe/London] === Starting message creation process ===
[25-Mar-2025 00:11:55 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 00:11:55 Europe/London] Received message data: {"conversation_id":"91","content":"hi"}
[25-Mar-2025 00:11:55 Europe/London] Message data validation passed
[25-Mar-2025 00:11:55 Europe/London] Fetching conversation and plugin info for conversation ID: 91
[25-Mar-2025 00:11:55 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 00:11:55 Europe/London] Created message data structure
[25-Mar-2025 00:11:55 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 00:11:55 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 00:11:55 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:11:55 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 00:11:55 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 00:11:55 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:11:55 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 00:11:55 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 00:11:55 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"91","content":"hi","role":"user"}
[25-Mar-2025 00:11:55 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 00:11:55 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"91","timestamp":"2025-03-25 00:11:55"}
[25-Mar-2025 00:11:55 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 00:11:57 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.64.1:443...
* Connected to n8n.mazcode.com (104.21.64.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 73]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 73

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 00:11:57 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=glaRVBaFLfTs9r8r0m2%2B7jcfg4hVWWBOzXVFjbYVFc5XgWluoCLpG5RXXRjGE5v1whmAG07jgMMoSLLaXntZjnkBUKbhmQyTTIB4WxqavYgYK1jhDZ1LgYmgJBJ%2Bf0FbOSk%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925a319a0d1ff41b-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=156416&min_rtt=100020&rtt_var=71843&sent=7&recv=9&lost=0&retrans=0&sent_bytes=3410&recv_bytes=907&delivery_rate=28267&cwnd=253&unsent_bytes=0&cid=6bb0bb5c537a0b85&ts=1336&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 00:11:57 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 00:11:57 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم في البحث عن شريك مثالي؟
[25-Mar-2025 00:11:57 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 00:11:57 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 00:11:57 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 00:11:57 Europe/London] Saving message to database
[25-Mar-2025 00:11:57 Europe/London] Message saved successfully with ID: 68
[25-Mar-2025 00:11:57 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 00:11:57 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 00:11:57 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:11:57 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 00:11:57 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 00:11:57 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"91","content":"hi","role":"user"}
[25-Mar-2025 00:11:57 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 00:11:57 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"91","timestamp":"2025-03-25 00:11:57"}
[25-Mar-2025 00:11:57 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 00:11:58 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.64.1:443...
* Connected to n8n.mazcode.com (104.21.64.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 73]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 73

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 00:11:58 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=rIunL6AbRJBfRXntAsrls5BoFXeE85HRSZHZwTx5i73LH3jejqUlXVMPa%2BBVDLGUKLbh9C7aVta8nFfBkqz68XFXezaiYF0zHD0Jgk9dprC%2BoRNLRjacm8k1tRZGxztCSMI%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925a31a37e4aedb6-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=97536&min_rtt=91967&rtt_var=36921&sent=7&recv=9&lost=0&retrans=0&sent_bytes=3410&recv_bytes=907&delivery_rate=30441&cwnd=253&unsent_bytes=0&cid=d1d7dcae0a70a920&ts=810&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 00:11:58 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 00:11:58 Europe/London] N8nWebhookHandler: Webhook response: مرحباً! كيف يمكنني مساعدتك اليوم في البحث عن شريك مثالي؟
[25-Mar-2025 00:11:58 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 00:11:58 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 00:11:58 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 00:11:58 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 00:11:58 Europe/London] Sending response to client: {"message":{"id":"68","conversation_id":"91","content":"hi","role":"user"},"assistant_message":null}
[25-Mar-2025 00:12:18 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 00:12:18 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 00:12:18 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 00:12:18 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 00:12:18 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 00:12:18 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 00:12:18 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 00:12:18 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(24): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(204): MessagesController->__construct()
#5 {main}
[25-Mar-2025 00:12:18 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 00:12:18 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 00:12:18 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 00:12:18 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 00:12:18 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 00:12:18 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 00:12:18 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 00:12:18 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 00:12:18 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 00:12:18 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 00:12:18 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 00:12:18 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:12:18 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 00:12:18 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 00:12:18 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 00:12:18 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 00:12:18 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 00:12:18 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 00:12:18 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 00:12:18 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 00:12:18 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 00:12:18 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 00:12:18 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 00:12:18 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 00:12:18 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 00:12:18 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 00:12:18 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 00:12:18 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 00:12:18 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 00:12:18 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:12:18 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 00:12:18 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:12:18 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 00:12:18 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:12:18 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:12:18 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 00:12:18 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 00:12:18 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 00:12:18 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 00:12:19 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 00:12:19 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:12:19 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 00:12:19 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:12:19 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 00:12:19 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:12:19 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:12:19 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 00:12:19 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 00:12:19 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 00:12:19 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 00:12:19 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 00:12:19 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 00:12:19 Europe/London] === Starting message creation process ===
[25-Mar-2025 00:12:19 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 00:12:19 Europe/London] Received message data: {"conversation_id":"92","content":"hi"}
[25-Mar-2025 00:12:19 Europe/London] Message data validation passed
[25-Mar-2025 00:12:19 Europe/London] Fetching conversation and plugin info for conversation ID: 92
[25-Mar-2025 00:12:19 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 00:12:19 Europe/London] Created message data structure
[25-Mar-2025 00:12:19 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 00:12:19 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 00:12:19 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:12:19 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 00:12:19 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 00:12:19 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:12:19 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 00:12:19 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 00:12:19 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"92","content":"hi","role":"user"}
[25-Mar-2025 00:12:19 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 00:12:19 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"92","timestamp":"2025-03-25 00:12:19"}
[25-Mar-2025 00:12:19 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 00:12:20 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.112.1:443...
* Connected to n8n.mazcode.com (104.21.112.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 73]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 73

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 00:12:20 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=EEbHODrHrkbphVAUipQHsHPlzJKILF471C8f%2FPpwi%2BEtSH57UAPPtAC1RTegLpEAIKytzpqPw7KHps%2BJ2XCbRnxlRL%2BjyNojIzBk%2BCZhw%2BAcnG8FuXtGpvfwYPAFVYlXCWg%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925a322d69b6ee51-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=102064&min_rtt=97159&rtt_var=31027&sent=7&recv=9&lost=0&retrans=0&sent_bytes=3411&recv_bytes=907&delivery_rate=29070&cwnd=253&unsent_bytes=0&cid=32cd76263eb63a05&ts=1513&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 00:12:20 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 00:12:20 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟ إذا كنت تبحث عن شريك حياة مثالي، يرجى إخباري بما تبحث عنه.
[25-Mar-2025 00:12:20 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 00:12:20 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 00:12:20 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 00:12:20 Europe/London] Saving message to database
[25-Mar-2025 00:12:20 Europe/London] Message saved successfully with ID: 69
[25-Mar-2025 00:12:20 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 00:12:20 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 00:12:20 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:12:20 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 00:12:20 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 00:12:20 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"92","content":"hi","role":"user"}
[25-Mar-2025 00:12:20 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 00:12:20 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"92","timestamp":"2025-03-25 00:12:20"}
[25-Mar-2025 00:12:20 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 00:12:22 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.112.1:443...
* Connected to n8n.mazcode.com (104.21.112.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 73]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 73

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 00:12:22 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=rzZry6LuzMaP8NhbDH%2BIaz442HEmo1cYQFrjnipb1eDKA7ZgRC7MU4XHu8bLE4Jw%2FK1WCzHuuJM%2FzDEbhRMmdGsX8v7u0bAxXnpfoIq1IZTRWFhHYdziZkPvkr%2FG8iuKfHk%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925a32380e8fbad9-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=88937&min_rtt=88437&rtt_var=25674&sent=6&recv=8&lost=0&retrans=0&sent_bytes=3387&recv_bytes=907&delivery_rate=30995&cwnd=252&unsent_bytes=0&cid=382313460792de31&ts=1048&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 00:12:22 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 00:12:22 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 00:12:22 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 00:12:22 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 00:12:22 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 00:12:22 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 00:12:22 Europe/London] Sending response to client: {"message":{"id":"69","conversation_id":"92","content":"hi","role":"user"},"assistant_message":null}
[25-Mar-2025 00:13:59 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 00:13:59 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 00:13:59 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 00:13:59 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 00:13:59 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 00:13:59 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 00:13:59 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 00:13:59 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(24): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(186): MessagesController->__construct()
#5 {main}
[25-Mar-2025 00:13:59 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 00:13:59 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 00:13:59 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 00:13:59 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 00:13:59 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 00:13:59 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 00:13:59 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 00:13:59 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 00:13:59 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 00:13:59 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 00:13:59 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 00:13:59 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:13:59 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 00:13:59 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 00:13:59 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 00:13:59 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 00:13:59 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 00:13:59 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 00:13:59 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 00:13:59 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 00:13:59 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 00:13:59 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 00:13:59 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 00:13:59 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 00:13:59 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 00:13:59 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 00:13:59 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 00:13:59 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 00:13:59 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 00:13:59 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:13:59 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 00:13:59 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:13:59 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:13:59 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 00:13:59 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 00:13:59 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 00:13:59 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 00:13:59 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 00:13:59 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:13:59 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 00:13:59 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:13:59 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:13:59 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 00:13:59 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 00:13:59 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 00:13:59 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 00:13:59 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 00:13:59 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 00:13:59 Europe/London] === Starting message creation process ===
[25-Mar-2025 00:13:59 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 00:13:59 Europe/London] Received message data: {"conversation_id":"93","content":"hi"}
[25-Mar-2025 00:13:59 Europe/London] Message data validation passed
[25-Mar-2025 00:13:59 Europe/London] Fetching conversation and plugin info for conversation ID: 93
[25-Mar-2025 00:13:59 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 00:13:59 Europe/London] Created message data structure
[25-Mar-2025 00:13:59 Europe/London] Saving user message to database
[25-Mar-2025 00:13:59 Europe/London] User message saved successfully with ID: 70
[25-Mar-2025 00:13:59 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 00:13:59 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 00:13:59 Europe/London] Plugin hooks: Array
(
    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:13:59 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 00:13:59 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 00:13:59 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:13:59 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 00:13:59 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 00:13:59 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"93","content":"hi","role":"user"}
[25-Mar-2025 00:13:59 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 00:13:59 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"93","timestamp":"2025-03-25 00:13:59"}
[25-Mar-2025 00:13:59 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 00:14:00 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.112.1:443...
* Connected to n8n.mazcode.com (104.21.112.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 73]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 73

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 00:14:00 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=ixvA7wX0E5StbLgemaR6K4KOvDy%2BLM8rSCeyCiEC%2BCqGp9ePeLIeRlZN%2BWaWABG59Xmq6NacQC%2BMz2OrhXjxF8xeHgR9HMsR5SOP82dsd2jhhVNSMzpFh8IZIkXcV2nItNg%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925a349ef970ee69-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=99382&min_rtt=91332&rtt_var=31273&sent=6&recv=8&lost=0&retrans=0&sent_bytes=3388&recv_bytes=907&delivery_rate=27165&cwnd=252&unsent_bytes=0&cid=bb9748d3b57f618b&ts=983&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 00:14:00 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 00:14:00 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم في البحث عن الشريك المثالي؟
[25-Mar-2025 00:14:00 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 00:14:00 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 00:14:00 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 00:14:00 Europe/London] No response received from plugin
[25-Mar-2025 00:14:00 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 00:14:00 Europe/London] Sending response to client: {"message":{"id":"70","conversation_id":"93","content":"hi","role":"user"},"assistant_message":null}
[25-Mar-2025 00:16:15 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 00:16:15 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 00:16:15 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 00:16:15 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 00:16:15 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 00:16:15 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 00:16:15 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 00:16:15 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(24): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(186): MessagesController->__construct()
#5 {main}
[25-Mar-2025 00:16:15 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 00:16:15 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 00:16:15 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 00:16:15 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 00:16:15 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 00:16:15 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 00:16:15 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 00:16:15 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 00:16:15 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 00:16:15 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 00:16:15 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 00:16:15 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:16:15 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 00:16:15 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 00:16:15 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 00:16:15 Europe/London] PHP Parse error:  syntax error, unexpected token "public" in C:\Users\zagzo\Downloads\UniServerZ\www\chat\plugins\N8nWebhookHandler\N8nWebhookHandler.php on line 112
[25-Mar-2025 00:16:46 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 00:16:46 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 00:16:46 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 00:16:46 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 00:16:46 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 00:16:46 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 00:16:46 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 00:16:46 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(24): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(204): MessagesController->__construct()
#5 {main}
[25-Mar-2025 00:16:46 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 00:16:46 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 00:16:46 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 00:16:46 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 00:16:46 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 00:16:46 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 00:16:46 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 00:16:46 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 00:16:46 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 00:16:46 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 00:16:46 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 00:16:46 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:16:46 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 00:16:46 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 00:16:46 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 00:16:46 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 00:16:46 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 00:16:46 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 00:16:46 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 00:16:46 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 00:16:46 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 00:16:46 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 00:16:46 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 00:16:46 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 00:16:46 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 00:16:46 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 00:16:46 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 00:16:46 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 00:16:46 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 00:16:46 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:16:46 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 00:16:46 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:16:46 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 00:16:46 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:16:46 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:16:46 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 00:16:46 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 00:16:46 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 00:16:46 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 00:16:46 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 00:16:46 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:16:46 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 00:16:46 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:16:46 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 00:16:46 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:16:46 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:16:46 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 00:16:46 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 00:16:46 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 00:16:46 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 00:16:46 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 00:16:46 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 00:16:46 Europe/London] === Starting message creation process ===
[25-Mar-2025 00:16:46 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 00:16:46 Europe/London] Received message data: {"conversation_id":"95","content":"hi"}
[25-Mar-2025 00:16:46 Europe/London] Message data validation passed
[25-Mar-2025 00:16:46 Europe/London] Fetching conversation and plugin info for conversation ID: 95
[25-Mar-2025 00:16:46 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 00:16:46 Europe/London] Created message data structure
[25-Mar-2025 00:16:46 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 00:16:46 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 00:16:46 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:16:46 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 00:16:46 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 00:16:46 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:16:46 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 00:16:46 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 00:16:46 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"95","content":"hi","role":"user"}
[25-Mar-2025 00:16:46 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 00:16:46 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"95","timestamp":"2025-03-25 00:16:46"}
[25-Mar-2025 00:16:46 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 00:16:47 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.112.1:443...
* Connected to n8n.mazcode.com (104.21.112.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 73]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 73

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 00:16:47 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=E%2FGpKUUrtALQUfUmcwN4y0BzN8gnaIiQ7WxSFiZcPpUQ53jRcBltMm%2BMc5mhCn0sanMAPjkHNOg7Ch62fXquf09r2RZTEfS1SMXLEQo2oJnFfHMb6JzOxT8HQvsK0oPOibA%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925a38b43eb3edac-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=90701&min_rtt=88449&rtt_var=26339&sent=7&recv=8&lost=0&retrans=0&sent_bytes=3387&recv_bytes=907&delivery_rate=32108&cwnd=252&unsent_bytes=0&cid=e22e023bbf814e8a&ts=951&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 00:16:47 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 00:16:47 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟ إذا كنت تبحث عن نتائج تواصل أو مواعيد، يرجى إخباري بالتفاصيل!
[25-Mar-2025 00:16:47 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 00:16:47 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 00:16:47 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 00:16:47 Europe/London] Saving message to database
[25-Mar-2025 00:16:47 Europe/London] Message saved successfully with ID: 71
[25-Mar-2025 00:16:47 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 00:16:47 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 00:16:47 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:16:47 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 00:16:47 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 00:16:47 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"95","content":"hi","role":"user"}
[25-Mar-2025 00:16:47 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 00:16:47 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"95","timestamp":"2025-03-25 00:16:47"}
[25-Mar-2025 00:16:47 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 00:16:48 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.112.1:443...
* Connected to n8n.mazcode.com (104.21.112.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 73]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 73

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 00:16:48 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=PxjOnaGlTeGr4rBIgcmd3kL5t7np%2B1Bxe%2FYGVr34acd%2F6Bg5tCYk1VbDW%2Bvfjt5wA9zURKoNG13zlXOf3pkFTOdTlglYfX5BpwPycauZkDDm8C0yMN7L4eWuI3TBsQw3Vc0%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925a38bb58e8ee88-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=87494&min_rtt=86616&rtt_var=25959&sent=7&recv=9&lost=0&retrans=0&sent_bytes=3409&recv_bytes=907&delivery_rate=31851&cwnd=253&unsent_bytes=0&cid=0ef2710c0307a071&ts=713&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 00:16:48 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 00:16:48 Europe/London] N8nWebhookHandler: Webhook response: مرحباً! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 00:16:48 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 00:16:48 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 00:16:48 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 00:16:48 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 00:16:48 Europe/London] Sending response to client: {"message":{"id":"71","conversation_id":"95","content":"hi","role":"user"},"assistant_message":null}
[25-Mar-2025 00:22:12 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 00:22:12 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 00:22:12 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 00:22:12 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 00:22:12 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 00:22:12 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 00:22:12 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 00:22:12 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(24): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(204): MessagesController->__construct()
#5 {main}
[25-Mar-2025 00:22:12 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 00:22:12 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 00:22:12 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 00:22:12 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 00:22:12 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 00:22:12 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 00:22:12 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 00:22:12 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 00:22:12 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 00:22:12 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 00:22:12 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 00:22:12 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:22:12 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 00:22:12 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 00:22:12 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 00:22:12 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 00:22:12 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 00:22:12 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 00:22:12 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 00:22:12 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 00:22:12 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 00:22:12 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 00:22:12 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 00:22:12 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 00:22:12 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 00:22:12 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 00:22:12 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 00:22:12 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 00:22:12 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 00:22:12 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:22:12 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 00:22:12 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:22:12 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 00:22:12 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:22:12 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:22:12 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 00:22:12 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 00:22:12 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 00:22:12 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 00:22:12 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 00:22:12 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:22:12 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 00:22:12 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:22:12 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 00:22:12 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:22:12 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:22:12 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 00:22:12 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 00:22:12 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 00:22:12 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 00:22:12 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 00:22:12 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 00:22:12 Europe/London] === Starting message creation process ===
[25-Mar-2025 00:22:12 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 00:22:12 Europe/London] Received message data: {"conversation_id":"96","content":"hi"}
[25-Mar-2025 00:22:12 Europe/London] Message data validation passed
[25-Mar-2025 00:22:12 Europe/London] Fetching conversation and plugin info for conversation ID: 96
[25-Mar-2025 00:22:12 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 00:22:12 Europe/London] Created message data structure
[25-Mar-2025 00:22:12 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 00:22:12 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 00:22:12 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:22:12 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 00:22:12 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 00:22:12 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:22:12 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 00:22:12 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 00:22:12 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"96","content":"hi","role":"user"}
[25-Mar-2025 00:22:12 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 00:22:12 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"96","timestamp":"2025-03-25 00:22:12"}
[25-Mar-2025 00:22:12 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 00:22:13 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.80.1:443...
* Connected to n8n.mazcode.com (104.21.80.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 73]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 73

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 00:22:13 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=65RqKb2duDgOfEF5pE%2BurYGQoPU7zXsu8GiI3wh1gNy%2B4hcTAJxgpV6KU1owOBdDZXD3clLXDkJewB8PpNDM1wOdkzq%2BvTf0SHjWskyTMuTz%2FNJPGh0VHdiPpsOj7BeYnfY%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925a40aa9de9ee85-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=114231&min_rtt=83495&rtt_var=42102&sent=7&recv=9&lost=0&retrans=0&sent_bytes=3410&recv_bytes=907&delivery_rate=33682&cwnd=253&unsent_bytes=0&cid=6ef5d364d0f01c3b&ts=1013&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 00:22:13 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 00:22:13 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم في البحث عن شريك الحياة المثالي؟
[25-Mar-2025 00:22:13 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 00:22:13 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 00:22:13 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 00:22:13 Europe/London] Saving message to database
[25-Mar-2025 00:22:13 Europe/London] Message saved successfully with ID: 72
[25-Mar-2025 00:22:13 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 00:22:13 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 00:22:13 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:22:13 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 00:22:13 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 00:22:13 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"96","content":"hi","role":"user"}
[25-Mar-2025 00:22:13 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 00:22:13 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"96","timestamp":"2025-03-25 00:22:13"}
[25-Mar-2025 00:22:13 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 00:22:14 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.80.1:443...
* Connected to n8n.mazcode.com (104.21.80.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 73]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 73

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 00:22:14 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=ZSFXXR2yFkv6NGsUsr88l9%2Fz7bFgJEqhVG5hk%2BtphVgSfRqn1OW0qrEKqPMU6%2FRDLT4mmig5GFPFHFkxn7uIStwDuXoo0Vc3DhW6L9ewg483WfwWPV744Yy6vKv18wnmgog%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925a40b24c3f5276-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=105132&min_rtt=91515&rtt_var=35425&sent=6&recv=8&lost=0&retrans=0&sent_bytes=3389&recv_bytes=907&delivery_rate=27980&cwnd=252&unsent_bytes=0&cid=f0796ff828ea8c91&ts=803&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 00:22:14 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 00:22:14 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 00:22:14 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 00:22:14 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 00:22:14 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 00:22:14 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 00:22:14 Europe/London] Sending response to client: {"message":{"id":"72","conversation_id":"96","content":"hi","role":"user"},"assistant_message":null}
[25-Mar-2025 00:26:47 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 00:26:47 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 00:26:47 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 00:26:47 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 00:26:47 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 00:26:47 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 00:26:47 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 00:26:47 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\plugins.php(14): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\plugins.php(274): PluginsController->__construct()
#5 {main}
[25-Mar-2025 00:26:47 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 00:26:47 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 00:26:47 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 00:26:47 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 00:26:47 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 00:26:47 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 00:26:47 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 00:26:47 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 00:26:47 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 00:26:47 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 00:26:47 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 00:26:47 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:26:47 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 00:26:47 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 00:26:47 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 00:26:47 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 00:26:47 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 00:26:47 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 00:26:47 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 00:26:47 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 00:26:47 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 00:26:47 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 00:26:47 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 00:26:47 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 00:26:47 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 00:26:47 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 00:26:47 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 00:26:47 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 00:26:47 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 00:26:47 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:26:47 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 00:26:47 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:26:47 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 00:26:47 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:26:47 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:26:47 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 00:26:47 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 00:26:47 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 00:26:47 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 00:26:47 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 00:26:47 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:26:47 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 00:26:47 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:26:47 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 00:26:47 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:26:47 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:26:47 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 00:26:47 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 00:26:47 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 00:26:47 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 00:26:47 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 00:26:47 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 00:28:30 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 00:28:30 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 00:28:30 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 00:28:30 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 00:28:30 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 00:28:30 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 00:28:30 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 00:28:30 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(24): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(212): MessagesController->__construct()
#5 {main}
[25-Mar-2025 00:28:30 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 00:28:30 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 00:28:30 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 00:28:30 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 00:28:30 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 00:28:30 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 00:28:30 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 00:28:30 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 00:28:30 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 00:28:30 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 00:28:30 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 00:28:30 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:28:30 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 00:28:30 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 00:28:30 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 00:28:30 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 00:28:30 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 00:28:30 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 00:28:30 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 00:28:30 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 00:28:30 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 00:28:30 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 00:28:30 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 00:28:30 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 00:28:30 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 00:28:30 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 00:28:30 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 00:28:30 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 00:28:30 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 00:28:30 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:28:30 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 00:28:30 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:28:30 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 00:28:30 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:28:30 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:28:30 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 00:28:30 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 00:28:30 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 00:28:30 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 00:28:30 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 00:28:30 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:28:30 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 00:28:30 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:28:30 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 00:28:30 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:28:30 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:28:30 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 00:28:30 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 00:28:30 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 00:28:30 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 00:28:30 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 00:28:30 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 00:28:30 Europe/London] === Starting message creation process ===
[25-Mar-2025 00:28:30 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 00:28:30 Europe/London] Received message data: {"conversation_id":"97","content":"hi"}
[25-Mar-2025 00:28:30 Europe/London] Message data validation passed
[25-Mar-2025 00:28:30 Europe/London] Fetching conversation and plugin info for conversation ID: 97
[25-Mar-2025 00:28:30 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 00:28:30 Europe/London] Created message data structure
[25-Mar-2025 00:28:30 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 00:28:30 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 00:28:30 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:28:30 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 00:28:30 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 00:28:30 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:28:30 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 00:28:30 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 00:28:30 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"97","content":"hi","role":"user"}
[25-Mar-2025 00:28:30 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 00:28:30 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"97","timestamp":"2025-03-25 00:28:30"}
[25-Mar-2025 00:28:30 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 00:28:32 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.80.1:443...
* Connected to n8n.mazcode.com (104.21.80.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 73]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 73

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 00:28:31 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=T51ARX79t40kggnysDJclItbpbsx8U7V2EePNHQJrI8kEwBswISDiU4vLe54Aokw%2FE%2BltKtjlZ1nzA%2FQpJgfkc8yOZbPdaFc8PuOmt2KvVZSljEnOXEB9QzK2Wp9qifb9vw%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925a49e61cb2ed4b-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=194727&min_rtt=103814&rtt_var=87968&sent=7&recv=8&lost=0&retrans=0&sent_bytes=3387&recv_bytes=907&delivery_rate=15818&cwnd=252&unsent_bytes=0&cid=f52f3443cd3a4bc3&ts=1124&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 00:28:32 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 00:28:32 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 00:28:32 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 00:28:32 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 00:28:32 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 00:28:32 Europe/London] Saving message to database
[25-Mar-2025 00:28:32 Europe/London] Message saved successfully with ID: 73
[25-Mar-2025 00:28:32 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 00:28:32 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 00:28:32 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:28:32 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 00:28:32 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 00:28:32 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"97","content":"hi","role":"user"}
[25-Mar-2025 00:28:32 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 00:28:32 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"97","timestamp":"2025-03-25 00:28:32"}
[25-Mar-2025 00:28:32 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 00:28:33 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.80.1:443...
* Connected to n8n.mazcode.com (104.21.80.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 73]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 73

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 00:28:33 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=tbFvaTFiDlHJIO5m%2BWP0ChqXsnI4VNPlgNVy4r6D8T5uGfwN7fbF407RkG1uptwCNOe9YBFXpVuvwXwR5w33PrFeYDFSaQDRpnT67Wg1tIe7oZ5hOR035SOBxEmPXalHqI0%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925a49ee0e46ee6c-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=102579&min_rtt=98731&rtt_var=33359&sent=6&recv=8&lost=0&retrans=0&sent_bytes=3388&recv_bytes=907&delivery_rate=28765&cwnd=252&unsent_bytes=0&cid=1ccfd3e482bd7133&ts=789&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 00:28:33 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 00:28:33 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا بك! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 00:28:33 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 00:28:33 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 00:28:33 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 00:28:33 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 00:28:33 Europe/London] Sending response to client: {"success":true,"data":{"message":{"id":"73","conversation_id":"97","content":"hi","role":"user"},"assistant_message":null}}
[25-Mar-2025 00:33:42 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 00:33:42 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 00:33:42 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 00:33:42 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 00:33:42 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 00:33:42 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 00:33:42 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 00:33:42 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(24): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(212): MessagesController->__construct()
#5 {main}
[25-Mar-2025 00:33:42 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 00:33:42 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 00:33:42 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 00:33:42 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 00:33:42 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 00:33:42 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 00:33:42 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 00:33:42 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 00:33:42 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 00:33:42 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 00:33:42 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 00:33:42 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:33:42 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 00:33:42 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 00:33:42 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 00:33:42 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 00:33:42 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 00:33:42 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 00:33:42 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 00:33:42 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 00:33:42 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 00:33:42 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 00:33:42 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 00:33:42 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 00:33:42 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 00:33:42 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 00:33:42 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 00:33:42 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 00:33:42 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 00:33:42 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:33:42 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 00:33:42 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:33:42 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 00:33:42 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:33:42 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:33:42 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 00:33:42 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 00:33:42 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 00:33:42 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 00:33:42 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 00:33:42 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:33:42 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 00:33:42 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:33:42 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 00:33:42 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:33:42 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:33:42 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 00:33:42 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 00:33:42 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 00:33:42 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 00:33:42 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 00:33:42 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 00:33:42 Europe/London] === Starting message creation process ===
[25-Mar-2025 00:33:42 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 00:33:42 Europe/London] Received message data: {"conversation_id":"101","content":"hi"}
[25-Mar-2025 00:33:42 Europe/London] Message data validation passed
[25-Mar-2025 00:33:42 Europe/London] Fetching conversation and plugin info for conversation ID: 101
[25-Mar-2025 00:33:42 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 00:33:42 Europe/London] Created message data structure
[25-Mar-2025 00:33:42 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 00:33:42 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 00:33:42 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:33:42 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 00:33:42 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 00:33:42 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:33:42 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 00:33:42 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 00:33:42 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"101","content":"hi","role":"user"}
[25-Mar-2025 00:33:42 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 00:33:42 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"101","timestamp":"2025-03-25 00:33:42"}
[25-Mar-2025 00:33:42 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 00:33:44 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.16.1:443...
* Connected to n8n.mazcode.com (104.21.16.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 00:33:44 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=NUR5rXHqo%2B80id2z%2FzHAq4PqIQnHtDW31l44mT0s6rveYR17tuzeI%2Fnck707lY4cLpnm0%2BbG0JRA8yl8jZDtP%2BFqfvrcVJXww4Tf2UPdayBKh2pfOiGLLEOIPP5tug%2FWc1Y%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925a5183bb7bba9a-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=102705&min_rtt=100777&rtt_var=29854&sent=7&recv=8&lost=0&retrans=0&sent_bytes=3387&recv_bytes=908&delivery_rate=28181&cwnd=252&unsent_bytes=0&cid=47a3689e68a523d4&ts=1141&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 00:33:44 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 00:33:44 Europe/London] N8nWebhookHandler: Webhook response: مرحباً! كيف يمكنني مساعدتك اليوم في البحث عن شريك حياتك؟
[25-Mar-2025 00:33:44 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 00:33:44 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 00:33:44 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 00:33:44 Europe/London] Saving message to database
[25-Mar-2025 00:33:44 Europe/London] Message saved successfully with ID: 74
[25-Mar-2025 00:33:44 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 00:33:44 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 00:33:44 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 00:33:44 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 00:33:44 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 00:33:44 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"101","content":"hi","role":"user"}
[25-Mar-2025 00:33:44 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 00:33:44 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"101","timestamp":"2025-03-25 00:33:44"}
[25-Mar-2025 00:33:44 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 00:33:45 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.16.1:443...
* Connected to n8n.mazcode.com (104.21.16.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 00:33:45 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=zBRGxTGeJXkYkNEfq2Om3OiuCK84%2Fmxhnm%2B2BzdK2SVYgi9NU%2BF2rrGm2e6xRYj2i3Bq3JkwJSScqxWU8BmrTh51RFfCGCFqOmL4EbFeLzXS%2FzNCEO16IN8Ebpze6WkER1U%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925a518c2ad7ed43-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=108274&min_rtt=102440&rtt_var=32163&sent=7&recv=9&lost=0&retrans=0&sent_bytes=3410&recv_bytes=908&delivery_rate=27704&cwnd=253&unsent_bytes=0&cid=f9d2d7aab04ec93e&ts=1094&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 00:33:45 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 00:33:45 Europe/London] N8nWebhookHandler: Webhook response: مرحباً! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 00:33:45 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 00:33:45 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 00:33:45 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 00:33:45 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 00:33:45 Europe/London] Sending response to client: {"success":true,"data":{"message":{"id":"74","conversation_id":"101","content":"hi","role":"user"},"assistant_message":null}}
[25-Mar-2025 09:46:52 Europe/London] DirectMessageHandler: Constructing plugin
[25-Mar-2025 09:46:55 Europe/London] DirectMessageHandler: Constructing plugin
[25-Mar-2025 09:47:05 Europe/London] DirectMessageHandler: Constructing plugin
[25-Mar-2025 09:47:53 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 09:47:53 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 09:47:53 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 09:47:53 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 09:47:53 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 09:47:53 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 09:47:53 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 09:47:53 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(24): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(212): MessagesController->__construct()
#5 {main}
[25-Mar-2025 09:47:53 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 09:47:53 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 09:47:53 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 09:47:53 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 09:47:53 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 09:47:53 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 09:47:53 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 09:47:53 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 09:47:53 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 09:47:53 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 09:47:53 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 09:47:53 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 09:47:53 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 09:47:53 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 09:47:53 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 09:47:53 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 09:47:53 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 09:47:53 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 09:47:53 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 09:47:53 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 09:47:53 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 09:47:53 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 09:47:53 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 09:47:53 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 09:47:53 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 09:47:53 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 09:47:53 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 09:47:53 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 09:47:53 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 09:47:53 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 09:47:53 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 09:47:53 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 09:47:53 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 09:47:53 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 09:47:53 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 09:47:53 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 09:47:53 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 09:47:53 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 09:47:53 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 09:47:53 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 09:47:53 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 09:47:53 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 09:47:53 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 09:47:53 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 09:47:53 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 09:47:53 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 09:47:53 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 09:47:53 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 09:47:53 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 09:47:53 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 09:47:53 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 09:47:53 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 09:47:53 Europe/London] === Starting message creation process ===
[25-Mar-2025 09:47:53 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 09:47:53 Europe/London] Received message data: {"conversation_id":"102","content":"hi"}
[25-Mar-2025 09:47:53 Europe/London] Message data validation passed
[25-Mar-2025 09:47:53 Europe/London] Fetching conversation and plugin info for conversation ID: 102
[25-Mar-2025 09:47:53 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 09:47:53 Europe/London] Created message data structure
[25-Mar-2025 09:47:53 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 09:47:53 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 09:47:53 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 09:47:53 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 09:47:53 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 09:47:53 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 09:47:53 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 09:47:53 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 09:47:53 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"102","content":"hi","role":"user"}
[25-Mar-2025 09:47:53 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 09:47:53 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"102","timestamp":"2025-03-25 09:47:53"}
[25-Mar-2025 09:47:53 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 09:47:56 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.48.1:443...
* Connected to n8n.mazcode.com (104.21.48.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 09:47:56 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=eMfc%2BdbrLUEpvX1epXGKUEnvlIydEq0ODGy6DQoNP6rrNDUChk7O7ssrW66BFk3IXBjBHiPJzNH87QXtTgY2NBG6grtIwQabL9D2jTYx4ETCPPrBBX%2BkDELmOoVq8y%2Ft0fA%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925d7d55b9a3ed46-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=132405&min_rtt=118862&rtt_var=54468&sent=7&recv=8&lost=0&retrans=0&sent_bytes=3389&recv_bytes=908&delivery_rate=13657&cwnd=252&unsent_bytes=0&cid=d2b49a32b7fccb8a&ts=1678&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 09:47:56 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 09:47:56 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم في البحث عن شريك حياتك؟
[25-Mar-2025 09:47:56 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 09:47:56 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 09:47:56 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 09:47:56 Europe/London] Saving message to database
[25-Mar-2025 09:47:56 Europe/London] Message saved successfully with ID: 75
[25-Mar-2025 09:47:56 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 09:47:56 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 09:47:56 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 09:47:56 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 09:47:56 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 09:47:56 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"102","content":"hi","role":"user"}
[25-Mar-2025 09:47:56 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 09:47:56 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"102","timestamp":"2025-03-25 09:47:56"}
[25-Mar-2025 09:47:56 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 09:47:58 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.48.1:443...
* Connected to n8n.mazcode.com (104.21.48.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 09:47:58 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=xCTplCIGmm1Z%2F9K2TlpGOFoClOLUFUQ1BaIWhBufNLpwD4lCi6C%2BhvKPHfLu2qVq7cbZWr3XOpzCfSVIwyddXelSUyZgyI78LA8pfWitkLsTiB9RkgjdU74nFTB6u0Oj0WI%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925d7d614943ed45-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=125210&min_rtt=109648&rtt_var=40508&sent=7&recv=8&lost=0&retrans=0&sent_bytes=3387&recv_bytes=908&delivery_rate=22438&cwnd=252&unsent_bytes=0&cid=5290e5bd1e8c7949&ts=1344&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 09:47:58 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 09:47:58 Europe/London] N8nWebhookHandler: Webhook response: اهلا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 09:47:58 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 09:47:58 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 09:47:58 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 09:47:58 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 09:47:58 Europe/London] Sending response to client: {"success":true,"data":{"message":{"id":"75","conversation_id":"102","content":"hi","role":"user"},"assistant_message":null}}
[25-Mar-2025 09:55:00 Europe/London] Required files loaded successfully
[25-Mar-2025 09:55:00 Europe/London] Initializing response compression...
[25-Mar-2025 09:55:00 Europe/London] ResponseCompressor instance created
[25-Mar-2025 09:55:00 Europe/London] Response compression started
[25-Mar-2025 09:55:00 Europe/London] Auth endpoint called
[25-Mar-2025 09:55:00 Europe/London] Received data: Array
(
    [username] => testuser
    [password] => testpass123
)

[25-Mar-2025 09:55:00 Europe/London] Attempting to connect to database
[25-Mar-2025 09:55:00 Europe/London] Database connection successful
[25-Mar-2025 09:55:00 Europe/London] Looking up user: testuser
[25-Mar-2025 09:55:00 Europe/London] User data found: Array
(
    [id] => 1
    [username] => testuser
    [email] => test@example.com
    [password] => $2y$10$rIggkW5nc78xAvrKvuHR2uPrET0M1jrbwHBKOJE85SumLR0ua2/EW
    [role] => user
)

[25-Mar-2025 09:55:00 Europe/London] Authentication failed for user: testuser
[25-Mar-2025 09:55:00 Europe/London] Ending response compression
[25-Mar-2025 09:55:19 Europe/London] Query error {"class":"User","sql":"INSERT INTO users (id, username, email, password, role) VALUES (UUID(), ?, ?, ?, ?)","params":["testuser","test@example.com","$2y$10$OGjW2iUQKOH7mJ7YKLJ8iO0OD5hX.E5nQtsD9PiTMzq.hNZUltNGS","user"],"message":"SQLSTATE[01000]: Warning: 1265 Data truncated for column 'id' at row 1"}
[25-Mar-2025 10:00:47 Europe/London] Required files loaded successfully
[25-Mar-2025 10:00:47 Europe/London] Initializing response compression...
[25-Mar-2025 10:00:47 Europe/London] ResponseCompressor instance created
[25-Mar-2025 10:00:47 Europe/London] Response compression started
[25-Mar-2025 10:00:47 Europe/London] Auth endpoint called
[25-Mar-2025 10:00:47 Europe/London] Received data: Array
(
    [username] => testuser
    [password] => testpass
)

[25-Mar-2025 10:00:47 Europe/London] Attempting to connect to database
[25-Mar-2025 10:00:47 Europe/London] Database connection successful
[25-Mar-2025 10:00:47 Europe/London] Looking up user: testuser
[25-Mar-2025 10:00:47 Europe/London] User data found: Array
(
    [id] => 4
    [username] => testuser
    [email] => test@example.com
    [password] => $2y$10$q/yRXgN7P8R2nIYUggLGreyjwof8K.angTCzWaWYUQyvpD4gHCiNa
    [role] => user
)

[25-Mar-2025 10:00:47 Europe/London] Password verification successful
[25-Mar-2025 10:00:47 Europe/London] Membership data: Array
(
    [type] => free
)

[25-Mar-2025 10:00:47 Europe/London] Sending success response: Array
(
    [success] => 1
    [user] => Array
        (
            [id] => 4
            [username] => testuser
            [email] => test@example.com
            [membership_type] => free
            [api_token] => b5e27a00dff8b4279e19e529d26203646a3f36770734071c06b93a3feb0cbbe7
            [api_token_expires] => 2025-03-26 10:00:47
        )

)

[25-Mar-2025 10:00:47 Europe/London] Ending response compression
[25-Mar-2025 10:01:15 Europe/London] Required files loaded successfully
[25-Mar-2025 10:01:15 Europe/London] Initializing response compression...
[25-Mar-2025 10:01:15 Europe/London] ResponseCompressor instance created
[25-Mar-2025 10:01:15 Europe/London] Response compression started
[25-Mar-2025 10:01:15 Europe/London] Auth endpoint called
[25-Mar-2025 10:01:15 Europe/London] Received data: Array
(
    [username] => testuser
    [password] => testpass
)

[25-Mar-2025 10:01:15 Europe/London] Attempting to connect to database
[25-Mar-2025 10:01:15 Europe/London] Database connection successful
[25-Mar-2025 10:01:15 Europe/London] Looking up user: testuser
[25-Mar-2025 10:01:15 Europe/London] User data found: Array
(
    [id] => 4
    [username] => testuser
    [email] => test@example.com
    [password] => $2y$10$q/yRXgN7P8R2nIYUggLGreyjwof8K.angTCzWaWYUQyvpD4gHCiNa
    [role] => user
)

[25-Mar-2025 10:01:15 Europe/London] Password verification successful
[25-Mar-2025 10:01:15 Europe/London] Membership data: Array
(
    [type] => free
)

[25-Mar-2025 10:01:15 Europe/London] Sending success response: Array
(
    [success] => 1
    [user] => Array
        (
            [id] => 4
            [username] => testuser
            [email] => test@example.com
            [membership_type] => free
            [api_token] => 5b0e56897240f43c41f550ab2f5467cfa60d8dea516e161a1a3c3ab8496bd46c
            [api_token_expires] => 2025-03-26 10:01:15
        )

)

[25-Mar-2025 10:01:15 Europe/London] Ending response compression
[25-Mar-2025 10:01:54 Europe/London] Required files loaded successfully
[25-Mar-2025 10:01:54 Europe/London] Initializing response compression...
[25-Mar-2025 10:01:54 Europe/London] ResponseCompressor instance created
[25-Mar-2025 10:01:54 Europe/London] Response compression started
[25-Mar-2025 10:01:54 Europe/London] Auth endpoint called
[25-Mar-2025 10:01:54 Europe/London] Received data: Array
(
    [username] => testuser
    [password] => testpass
)

[25-Mar-2025 10:01:54 Europe/London] Attempting to connect to database
[25-Mar-2025 10:01:54 Europe/London] Database connection successful
[25-Mar-2025 10:01:54 Europe/London] Looking up user: testuser
[25-Mar-2025 10:01:54 Europe/London] User data found: Array
(
    [id] => 4
    [username] => testuser
    [email] => test@example.com
    [password] => $2y$10$q/yRXgN7P8R2nIYUggLGreyjwof8K.angTCzWaWYUQyvpD4gHCiNa
    [role] => user
)

[25-Mar-2025 10:01:54 Europe/London] Password verification successful
[25-Mar-2025 10:01:54 Europe/London] Membership data: Array
(
    [type] => free
)

[25-Mar-2025 10:01:54 Europe/London] Sending success response: Array
(
    [success] => 1
    [user] => Array
        (
            [id] => 4
            [username] => testuser
            [email] => test@example.com
            [membership_type] => free
            [api_token] => f9c06dd9480879d22ae868199319fe0d1c865a625b65b3c2bc0046c89a5cb1ac
            [api_token_expires] => 2025-03-26 10:01:54
        )

)

[25-Mar-2025 10:01:54 Europe/London] Ending response compression
[25-Mar-2025 10:01:54 Europe/London] Error creating message: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'role' at row 1
[25-Mar-2025 10:01:54 Europe/London] API Error in messages.php: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'role' at row 1
#0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Message.php(62): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\messages.php(85): Message->create()
#2 {main}
[25-Mar-2025 10:06:27 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 10:06:27 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 10:06:27 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 10:06:27 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 10:06:27 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 10:06:27 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 10:06:27 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 10:06:27 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(24): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(212): MessagesController->__construct()
#5 {main}
[25-Mar-2025 10:06:27 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 10:06:27 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 10:06:27 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 10:06:27 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 10:06:27 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 10:06:27 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 10:06:27 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 10:06:27 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 10:06:27 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 10:06:27 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 10:06:27 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 10:06:27 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:06:27 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 10:06:27 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 10:06:27 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 10:06:27 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 10:06:27 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 10:06:27 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 10:06:27 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 10:06:27 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 10:06:27 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 10:06:27 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 10:06:27 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 10:06:27 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 10:06:27 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 10:06:27 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 10:06:27 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 10:06:27 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 10:06:27 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 10:06:27 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:06:27 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 10:06:27 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:06:27 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 10:06:27 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:06:27 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:06:27 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 10:06:27 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 10:06:27 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 10:06:27 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 10:06:27 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 10:06:27 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:06:27 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 10:06:27 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:06:27 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 10:06:27 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:06:27 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:06:27 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 10:06:27 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 10:06:27 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 10:06:27 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 10:06:27 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 10:06:27 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 10:06:27 Europe/London] === Starting message creation process ===
[25-Mar-2025 10:06:27 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 10:06:27 Europe/London] Received message data: {"conversation_id":"104","content":"hi"}
[25-Mar-2025 10:06:27 Europe/London] Message data validation passed
[25-Mar-2025 10:06:27 Europe/London] Fetching conversation and plugin info for conversation ID: 104
[25-Mar-2025 10:06:27 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 10:06:27 Europe/London] Created message data structure
[25-Mar-2025 10:06:27 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 10:06:27 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 10:06:27 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:06:27 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 10:06:27 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 10:06:27 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:06:27 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 10:06:27 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 10:06:27 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"104","content":"hi","role":"user"}
[25-Mar-2025 10:06:27 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 10:06:27 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"104","timestamp":"2025-03-25 10:06:27"}
[25-Mar-2025 10:06:27 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 10:06:28 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.80.1:443...
* Connected to n8n.mazcode.com (104.21.80.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 10:06:28 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=nNXXviwX36CWweGrUVxAiqsvVWtTSlXmg9ZjcSluw7WLAjTya7nJhdrJeWc17kYAOxFQE7Lg3rMhcXZHcoS2a2iBKblNBrTTgJBAl5a%2FrAdLmTvlt8GCiCNFH%2FK9yw0lWBc%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925d987d7dd2ed43-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=110308&min_rtt=91064&rtt_var=39221&sent=7&recv=9&lost=0&retrans=0&sent_bytes=3410&recv_bytes=908&delivery_rate=30852&cwnd=253&unsent_bytes=0&cid=4f16d39165d8798f&ts=1268&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 10:06:28 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 10:06:28 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم في العثور على شريك حياتك المثالي؟
[25-Mar-2025 10:06:28 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 10:06:28 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 10:06:28 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 10:06:28 Europe/London] Saving message to database
[25-Mar-2025 10:06:28 Europe/London] Message saved successfully with ID: 76
[25-Mar-2025 10:06:28 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 10:06:28 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 10:06:28 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:06:28 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 10:06:28 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 10:06:28 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"104","content":"hi","role":"user"}
[25-Mar-2025 10:06:28 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 10:06:28 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"104","timestamp":"2025-03-25 10:06:28"}
[25-Mar-2025 10:06:28 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 10:06:30 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.80.1:443...
* Connected to n8n.mazcode.com (104.21.80.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 10:06:30 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=DHG5s%2BCNEi0sJg1V%2B66Rce47aOfsajzEKrac4HJ6k77Rpx2wcZPXHGhPGnWCZ%2BQX2Pg8KOJh86Q1LQ2Y70gpOD66pa14nQkbdKAoteSXVDosGcADbqvMdc9yfnIx%2Fz%2BY%2BJ0%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925d98885f61edc3-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=126484&min_rtt=118597&rtt_var=60248&sent=8&recv=9&lost=0&retrans=1&sent_bytes=3441&recv_bytes=908&delivery_rate=15630&cwnd=254&unsent_bytes=0&cid=8922bd549fe1104b&ts=1438&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 10:06:30 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 10:06:30 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟ إذا كنت تبحث عن شريك حياة أو لديك أي استفسارات تتعلق بالتوفيق بين الأشخاص، فلا تتردد في طرح سؤالك.
[25-Mar-2025 10:06:30 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 10:06:30 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 10:06:30 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 10:06:30 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 10:06:30 Europe/London] Sending response to client: {"success":true,"data":{"message":{"id":"76","conversation_id":"104","content":"hi","role":"user"},"assistant_message":null}}
[25-Mar-2025 10:10:56 Europe/London] Required files loaded successfully
[25-Mar-2025 10:10:56 Europe/London] Initializing response compression...
[25-Mar-2025 10:10:56 Europe/London] ResponseCompressor instance created
[25-Mar-2025 10:10:56 Europe/London] Response compression started
[25-Mar-2025 10:10:56 Europe/London] Auth endpoint called
[25-Mar-2025 10:10:56 Europe/London] Received data: Array
(
    [username] => testuser
    [password] => testpass
)

[25-Mar-2025 10:10:56 Europe/London] Attempting to connect to database
[25-Mar-2025 10:10:56 Europe/London] Database connection successful
[25-Mar-2025 10:10:56 Europe/London] Looking up user: testuser
[25-Mar-2025 10:10:56 Europe/London] User data found: Array
(
    [id] => 4
    [username] => testuser
    [email] => test@example.com
    [password] => $2y$10$q/yRXgN7P8R2nIYUggLGreyjwof8K.angTCzWaWYUQyvpD4gHCiNa
    [role] => user
)

[25-Mar-2025 10:10:56 Europe/London] Password verification successful
[25-Mar-2025 10:10:56 Europe/London] Membership data: Array
(
    [type] => free
)

[25-Mar-2025 10:10:56 Europe/London] Sending success response: Array
(
    [success] => 1
    [user] => Array
        (
            [id] => 4
            [username] => testuser
            [email] => test@example.com
            [membership_type] => free
            [api_token] => ab0113b95794b79562b1862f216da0be01949c8196affe174f4da76aa508f07d
            [api_token_expires] => 2025-03-26 10:10:56
        )

)

[25-Mar-2025 10:10:56 Europe/London] Ending response compression
[25-Mar-2025 10:10:56 Europe/London] Error creating message: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'role' at row 1
[25-Mar-2025 10:10:56 Europe/London] API Error in messages.php: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'role' at row 1
#0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Message.php(62): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\messages.php(85): Message->create()
#2 {main}
[25-Mar-2025 10:12:49 Europe/London] Required files loaded successfully
[25-Mar-2025 10:12:49 Europe/London] Initializing response compression...
[25-Mar-2025 10:12:49 Europe/London] ResponseCompressor instance created
[25-Mar-2025 10:12:49 Europe/London] Response compression started
[25-Mar-2025 10:12:49 Europe/London] Auth endpoint called
[25-Mar-2025 10:12:49 Europe/London] Received data: Array
(
    [username] => testuser
    [password] => testpass
)

[25-Mar-2025 10:12:49 Europe/London] Attempting to connect to database
[25-Mar-2025 10:12:49 Europe/London] Database connection successful
[25-Mar-2025 10:12:49 Europe/London] Looking up user: testuser
[25-Mar-2025 10:12:49 Europe/London] User data found: Array
(
    [id] => 4
    [username] => testuser
    [email] => test@example.com
    [password] => $2y$10$q/yRXgN7P8R2nIYUggLGreyjwof8K.angTCzWaWYUQyvpD4gHCiNa
    [role] => user
)

[25-Mar-2025 10:12:49 Europe/London] Password verification successful
[25-Mar-2025 10:12:49 Europe/London] Membership data: Array
(
    [type] => free
)

[25-Mar-2025 10:12:49 Europe/London] Sending success response: Array
(
    [success] => 1
    [user] => Array
        (
            [id] => 4
            [username] => testuser
            [email] => test@example.com
            [membership_type] => free
            [api_token] => 27411eebd55ac4bc971dd1ba7463e2000a0eee02a5249e9a2e817f3b45e10c68
            [api_token_expires] => 2025-03-26 10:12:49
        )

)

[25-Mar-2025 10:12:49 Europe/London] Ending response compression
[25-Mar-2025 10:12:49 Europe/London] Error creating message: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'role' at row 1
[25-Mar-2025 10:12:49 Europe/London] API Error in messages.php: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'role' at row 1
#0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Message.php(62): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\messages.php(85): Message->create()
#2 {main}
[25-Mar-2025 10:14:25 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 10:14:25 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 10:14:25 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 10:14:25 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 10:14:25 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 10:14:25 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 10:14:25 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 10:14:25 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(24): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(212): MessagesController->__construct()
#5 {main}
[25-Mar-2025 10:14:25 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 10:14:25 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 10:14:25 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 10:14:25 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 10:14:25 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 10:14:25 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 10:14:25 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 10:14:25 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 10:14:25 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 10:14:25 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 10:14:25 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 10:14:25 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:14:25 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 10:14:25 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 10:14:25 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 10:14:25 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 10:14:25 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 10:14:25 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 10:14:25 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 10:14:25 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 10:14:25 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 10:14:25 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 10:14:25 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 10:14:25 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 10:14:25 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 10:14:25 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 10:14:25 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 10:14:25 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 10:14:25 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 10:14:25 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:14:25 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 10:14:25 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:14:25 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 10:14:25 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:14:25 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:14:25 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 10:14:25 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 10:14:25 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 10:14:25 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 10:14:25 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 10:14:25 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:14:25 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 10:14:25 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:14:25 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 10:14:25 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:14:25 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:14:25 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 10:14:25 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 10:14:25 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 10:14:25 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 10:14:25 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 10:14:25 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 10:14:25 Europe/London] === Starting message creation process ===
[25-Mar-2025 10:14:25 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 10:14:25 Europe/London] Received message data: {"conversation_id":"107","content":"hi"}
[25-Mar-2025 10:14:25 Europe/London] Message data validation passed
[25-Mar-2025 10:14:25 Europe/London] Fetching conversation and plugin info for conversation ID: 107
[25-Mar-2025 10:14:25 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 10:14:25 Europe/London] Created message data structure
[25-Mar-2025 10:14:25 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 10:14:25 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 10:14:25 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:14:25 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 10:14:25 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 10:14:25 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:14:25 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 10:14:25 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 10:14:25 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"107","content":"hi","role":"user"}
[25-Mar-2025 10:14:25 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 10:14:25 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"107","timestamp":"2025-03-25 10:14:25"}
[25-Mar-2025 10:14:25 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 10:14:27 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.16.1:443...
* Connected to n8n.mazcode.com (104.21.16.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 10:14:26 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=hzaAAreoo1CtIKSi2JPjgozAhVy1SGhVWG49b6IIh896YocvKfr2oWtuXbCWsTBEsel0PKJCWo%2FitOnPRngmiUEPhfGjncc2YUV2%2FqQ%2BVUHCtr4bONYsmLcw7R08hTHi9po%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925da42aed3cbabb-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=136761&min_rtt=117947&rtt_var=52311&sent=7&recv=9&lost=0&retrans=0&sent_bytes=3411&recv_bytes=908&delivery_rate=18022&cwnd=252&unsent_bytes=0&cid=2373fb2ecc655d92&ts=1326&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 10:14:27 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 10:14:27 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم في العثور على شريك حياتك المثالي؟
[25-Mar-2025 10:14:27 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 10:14:27 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 10:14:27 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 10:14:27 Europe/London] Saving message to database
[25-Mar-2025 10:14:27 Europe/London] Message saved successfully with ID: 77
[25-Mar-2025 10:14:27 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 10:14:27 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 10:14:27 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:14:27 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 10:14:27 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 10:14:27 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"107","content":"hi","role":"user"}
[25-Mar-2025 10:14:27 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 10:14:27 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"107","timestamp":"2025-03-25 10:14:27"}
[25-Mar-2025 10:14:27 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 10:14:28 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.16.1:443...
* Connected to n8n.mazcode.com (104.21.16.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 10:14:28 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=2sGwla9XQ3%2BGx06fsstZoeMHeDJw4DQAwwuJd9iyC%2FJFUXi4JXEtKKUABu3sf7ql24vd3gcBv8%2Fguq2y6sq4u%2BvDjIzIeB0lO6hpnqBFpE149xiPcihwFN93NITet65k1PU%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925da435ff904bf5-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=128386&min_rtt=97309&rtt_var=48462&sent=7&recv=8&lost=0&retrans=0&sent_bytes=3388&recv_bytes=908&delivery_rate=22888&cwnd=252&unsent_bytes=0&cid=491ead87afa0bb7b&ts=1257&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 10:14:28 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 10:14:28 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 10:14:28 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 10:14:28 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 10:14:28 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 10:14:28 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 10:14:28 Europe/London] Sending response to client: {"success":true,"data":{"message":{"id":"77","conversation_id":"107","content":"hi","role":"user"},"assistant_message":null}}
[25-Mar-2025 10:14:52 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 10:14:52 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 10:14:52 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 10:14:52 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 10:14:52 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 10:14:52 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 10:14:52 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 10:14:52 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(24): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(212): MessagesController->__construct()
#5 {main}
[25-Mar-2025 10:14:52 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 10:14:52 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 10:14:52 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 10:14:52 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 10:14:52 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 10:14:52 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 10:14:52 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 10:14:52 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 10:14:52 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 10:14:52 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 10:14:52 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 10:14:52 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:14:52 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 10:14:52 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 10:14:52 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 10:14:52 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 10:14:52 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 10:14:52 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 10:14:52 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 10:14:52 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 10:14:52 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 10:14:52 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 10:14:52 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 10:14:52 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 10:14:52 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 10:14:52 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 10:14:52 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 10:14:52 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 10:14:52 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 10:14:52 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:14:52 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 10:14:52 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:14:52 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 10:14:52 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:14:52 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:14:52 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 10:14:52 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 10:14:52 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 10:14:52 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 10:14:52 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 10:14:52 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:14:52 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 10:14:52 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:14:52 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 10:14:52 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:14:52 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:14:52 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 10:14:52 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 10:14:52 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 10:14:52 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 10:14:52 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 10:14:52 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 10:14:52 Europe/London] === Starting message creation process ===
[25-Mar-2025 10:14:52 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 10:14:52 Europe/London] Received message data: {"conversation_id":"107","content":"hello"}
[25-Mar-2025 10:14:52 Europe/London] Message data validation passed
[25-Mar-2025 10:14:52 Europe/London] Fetching conversation and plugin info for conversation ID: 107
[25-Mar-2025 10:14:52 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 10:14:52 Europe/London] Created message data structure
[25-Mar-2025 10:14:52 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 10:14:52 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 10:14:52 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:14:52 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 10:14:52 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 10:14:52 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:14:52 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 10:14:52 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 10:14:52 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"107","content":"hello","role":"user"}
[25-Mar-2025 10:14:52 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 10:14:52 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hello","conversation_id":"107","timestamp":"2025-03-25 10:14:52"}
[25-Mar-2025 10:14:52 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 10:14:53 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.16.1:443...
* Connected to n8n.mazcode.com (104.21.16.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 77]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 77

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 10:14:53 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=SrqWBXZv4V%2BuDd69Vek2B1kPz5NozqHCs8SIca9M2AzAEV1fHaaGYa%2Bz9GHi11rsX0stfV2tBI%2BhTaaY%2BVG6bmDOxCfIGNyhkYmALyXJemn24J6AyRKU%2FDJ5rxsvgMcG0Ys%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925da4cfd88c524c-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=109624&min_rtt=105296&rtt_var=36694&sent=6&recv=8&lost=0&retrans=0&sent_bytes=3388&recv_bytes=911&delivery_rate=20911&cwnd=252&unsent_bytes=0&cid=442886126ab58b16&ts=1164&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 10:14:53 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 10:14:53 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم في العثور على شريك حياتك المثالي؟
[25-Mar-2025 10:14:53 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 10:14:53 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 10:14:53 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 10:14:53 Europe/London] Saving message to database
[25-Mar-2025 10:14:53 Europe/London] Message saved successfully with ID: 78
[25-Mar-2025 10:14:53 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 10:14:53 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 10:14:53 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:14:53 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 10:14:53 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 10:14:53 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"107","content":"hello","role":"user"}
[25-Mar-2025 10:14:53 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 10:14:53 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hello","conversation_id":"107","timestamp":"2025-03-25 10:14:53"}
[25-Mar-2025 10:14:53 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 10:14:55 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.16.1:443...
* Connected to n8n.mazcode.com (104.21.16.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 77]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 77

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 10:14:54 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=z%2F2O3KUQ2mpv%2FGCMkLo1Tk%2BeElpPccy%2BdwBARVEEG3vcdOzUO7AgpGab1eSVZTHQbK2SQT6kIDu0DG%2BQ%2FDjRMqPni2dXTxGEgDLOVvcuVCWRj3HWDDd0nM84qsxrpKshKQI%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925da4d91a370e1b-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=156411&min_rtt=113751&rtt_var=60075&sent=6&recv=8&lost=0&retrans=0&sent_bytes=3387&recv_bytes=911&delivery_rate=18449&cwnd=252&unsent_bytes=0&cid=c0d8f8af6fe574ed&ts=1346&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 10:14:55 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 10:14:55 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 10:14:55 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 10:14:55 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 10:14:55 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 10:14:55 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 10:14:55 Europe/London] Sending response to client: {"success":true,"data":{"message":{"id":"78","conversation_id":"107","content":"hello","role":"user"},"assistant_message":null}}
[25-Mar-2025 10:15:20 Europe/London] Required files loaded successfully
[25-Mar-2025 10:15:20 Europe/London] Initializing response compression...
[25-Mar-2025 10:15:20 Europe/London] ResponseCompressor instance created
[25-Mar-2025 10:15:20 Europe/London] Response compression started
[25-Mar-2025 10:15:20 Europe/London] Auth endpoint called
[25-Mar-2025 10:15:20 Europe/London] Received data: Array
(
    [username] => testuser
    [password] => testpass
)

[25-Mar-2025 10:15:20 Europe/London] Attempting to connect to database
[25-Mar-2025 10:15:20 Europe/London] Database connection successful
[25-Mar-2025 10:15:20 Europe/London] Looking up user: testuser
[25-Mar-2025 10:15:20 Europe/London] User data found: Array
(
    [id] => 4
    [username] => testuser
    [email] => test@example.com
    [password] => $2y$10$q/yRXgN7P8R2nIYUggLGreyjwof8K.angTCzWaWYUQyvpD4gHCiNa
    [role] => user
)

[25-Mar-2025 10:15:20 Europe/London] Password verification successful
[25-Mar-2025 10:15:20 Europe/London] Membership data: Array
(
    [type] => free
)

[25-Mar-2025 10:15:20 Europe/London] Sending success response: Array
(
    [success] => 1
    [user] => Array
        (
            [id] => 4
            [username] => testuser
            [email] => test@example.com
            [membership_type] => free
            [api_token] => 44f9888853220b278301ae971a4b6580966170d44230f2659f6ae88e5d6a0d93
            [api_token_expires] => 2025-03-26 10:15:20
        )

)

[25-Mar-2025 10:15:20 Europe/London] Ending response compression
[25-Mar-2025 10:15:20 Europe/London] Error creating message: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'role' at row 1
[25-Mar-2025 10:15:20 Europe/London] API Error in messages.php: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'role' at row 1
#0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\models\Message.php(62): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\api\messages.php(85): Message->create()
#2 {main}
[25-Mar-2025 10:24:45 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 10:24:45 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 10:24:45 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 10:24:45 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 10:24:45 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 10:24:45 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 10:24:45 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 10:24:45 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(24): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(212): MessagesController->__construct()
#5 {main}
[25-Mar-2025 10:24:45 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 10:24:45 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 10:24:45 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 10:24:45 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 10:24:45 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 10:24:45 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 10:24:45 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 10:24:45 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 10:24:45 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 10:24:45 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 10:24:45 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 10:24:45 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:24:45 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 10:24:45 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 10:24:45 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 10:24:45 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 10:24:45 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 10:24:45 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 10:24:45 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 10:24:45 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 10:24:45 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 10:24:45 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 10:24:45 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 10:24:45 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 10:24:45 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 10:24:45 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 10:24:45 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 10:24:45 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 10:24:45 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 10:24:45 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:24:45 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 10:24:45 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:24:45 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 10:24:45 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:24:45 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:24:45 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 10:24:45 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 10:24:45 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 10:24:45 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 10:24:45 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 10:24:45 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:24:45 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 10:24:45 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:24:45 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 10:24:45 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:24:45 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:24:45 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 10:24:45 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 10:24:45 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 10:24:45 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 10:24:45 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 10:24:45 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 10:24:45 Europe/London] === Starting message creation process ===
[25-Mar-2025 10:24:45 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 10:24:45 Europe/London] Received message data: {"conversation_id":"109","content":"hi"}
[25-Mar-2025 10:24:45 Europe/London] Message data validation passed
[25-Mar-2025 10:24:45 Europe/London] Fetching conversation and plugin info for conversation ID: 109
[25-Mar-2025 10:24:45 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 10:24:45 Europe/London] Created message data structure
[25-Mar-2025 10:24:45 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 10:24:45 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 10:24:45 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:24:45 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 10:24:45 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 10:24:45 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:24:45 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 10:24:45 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 10:24:45 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"109","content":"hi","role":"user"}
[25-Mar-2025 10:24:45 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 10:24:45 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"109","timestamp":"2025-03-25 10:24:45"}
[25-Mar-2025 10:24:45 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 10:24:47 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.32.1:443...
* Connected to n8n.mazcode.com (104.21.32.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 10:24:47 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=%2B1vbTzAIpZgQKeVpoVuNeB6WSlAU3mlPIkW8pz4HMkIdubnjpOojFLu2qNZtvljnokorzAwsNYdJ3qtNr3KSnGFl%2BeWPqSx%2FLodL4WVFn%2BcVp6TDap7Xs1UkgI48s2VkamE%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925db3502c415a19-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=238879&min_rtt=107751&rtt_var=139610&sent=6&recv=8&lost=0&retrans=0&sent_bytes=3389&recv_bytes=908&delivery_rate=23783&cwnd=252&unsent_bytes=0&cid=0d3b6262490a99bc&ts=1465&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 10:24:47 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 10:24:47 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم في العثور على شريك حياتك المثالي؟
[25-Mar-2025 10:24:47 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 10:24:47 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 10:24:47 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 10:24:47 Europe/London] Saving message to database
[25-Mar-2025 10:24:47 Europe/London] Message saved successfully with ID: 79
[25-Mar-2025 10:24:47 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 10:24:47 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 10:24:47 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:24:47 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 10:24:47 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 10:24:47 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"109","content":"hi","role":"user"}
[25-Mar-2025 10:24:47 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 10:24:47 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"109","timestamp":"2025-03-25 10:24:47"}
[25-Mar-2025 10:24:47 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 10:24:49 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.32.1:443...
* Connected to n8n.mazcode.com (104.21.32.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 10:24:49 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=Pd4%2BjsdFLIBh64I%2BlE0V01rgSQT3OGdMnOqoXT4grPY4Lht2N2oG8U0i8oapUjXA3Ze10VuU2v%2FB1XopJ8UutlBW88T9TBJCQuojZzlNfkJEXFA98N7kFhu4d8lbwKG40Xg%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925db35c3b0bed24-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=186331&min_rtt=111408&rtt_var=91431&sent=6&recv=8&lost=0&retrans=0&sent_bytes=3388&recv_bytes=908&delivery_rate=20340&cwnd=252&unsent_bytes=0&cid=902be6c90b373cd2&ts=1135&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 10:24:49 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 10:24:49 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 10:24:49 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 10:24:49 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 10:24:49 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 10:24:49 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 10:24:49 Europe/London] Sending response to client: {"success":true,"data":{"message":{"id":"79","conversation_id":"109","content":"hi","role":"user"},"assistant_message":null}}
[25-Mar-2025 10:28:41 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 10:28:41 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 10:28:41 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 10:28:41 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 10:28:41 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 10:28:41 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 10:28:41 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 10:28:41 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(24): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(212): MessagesController->__construct()
#5 {main}
[25-Mar-2025 10:28:41 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 10:28:41 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 10:28:41 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 10:28:41 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 10:28:41 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 10:28:41 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 10:28:41 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 10:28:41 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 10:28:41 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 10:28:41 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 10:28:41 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 10:28:41 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:28:41 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 10:28:41 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 10:28:41 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 10:28:41 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 10:28:41 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 10:28:41 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 10:28:41 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 10:28:41 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 10:28:41 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 10:28:41 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 10:28:41 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 10:28:41 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 10:28:41 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 10:28:41 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 10:28:41 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 10:28:41 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 10:28:41 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 10:28:41 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:28:41 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 10:28:41 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:28:41 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 10:28:41 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:28:41 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:28:41 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 10:28:41 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 10:28:41 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 10:28:41 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 10:28:41 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 10:28:41 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:28:41 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 10:28:41 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:28:41 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 10:28:41 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:28:41 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:28:41 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 10:28:41 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 10:28:41 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 10:28:41 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 10:28:41 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 10:28:41 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 10:28:41 Europe/London] === Starting message creation process ===
[25-Mar-2025 10:28:41 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 10:28:41 Europe/London] Received message data: {"conversation_id":"110","content":"hi"}
[25-Mar-2025 10:28:41 Europe/London] Message data validation passed
[25-Mar-2025 10:28:41 Europe/London] Fetching conversation and plugin info for conversation ID: 110
[25-Mar-2025 10:28:41 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 10:28:41 Europe/London] Created message data structure
[25-Mar-2025 10:28:41 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 10:28:41 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 10:28:41 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:28:41 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 10:28:41 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 10:28:41 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:28:41 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 10:28:41 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 10:28:41 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"110","content":"hi","role":"user"}
[25-Mar-2025 10:28:41 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 10:28:41 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"110","timestamp":"2025-03-25 10:28:41"}
[25-Mar-2025 10:28:41 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 10:28:43 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.32.1:443...
* Connected to n8n.mazcode.com (104.21.32.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 10:28:43 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=NLU1IzC0pcO1wwQAg0kitD3ctOVnjdMjasXWyms074jcUMJULwjJ1mv8jhUOHS8sbVydPiv3%2BqirAEAbiHHdu%2FydLw%2BD91syRXnQpKh6TCyfS2QYR4dj9oJxGXCCkRIJ2Gs%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925db911d873edbf-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=118545&min_rtt=107613&rtt_var=51785&sent=6&recv=8&lost=0&retrans=0&sent_bytes=3387&recv_bytes=908&delivery_rate=25099&cwnd=252&unsent_bytes=0&cid=1471f1b05eeab442&ts=1230&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 10:28:43 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 10:28:43 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم في البحث عن شريك مناسب؟
[25-Mar-2025 10:28:43 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 10:28:43 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 10:28:43 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 10:28:43 Europe/London] Saving message to database
[25-Mar-2025 10:28:43 Europe/London] Message saved successfully with ID: 80
[25-Mar-2025 10:28:43 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 10:28:43 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 10:28:43 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:28:43 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 10:28:43 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 10:28:43 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"110","content":"hi","role":"user"}
[25-Mar-2025 10:28:43 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 10:28:43 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"110","timestamp":"2025-03-25 10:28:43"}
[25-Mar-2025 10:28:43 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 10:28:45 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.32.1:443...
* Connected to n8n.mazcode.com (104.21.32.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 10:28:45 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=1Le%2BaTl8JKX1KZSAyBZe72l3wU%2B8mmzYoC%2FF8Yj%2BQ3kelBV6uQELaGOv05HjztYWEO%2BTjjKThsCzUShRa%2FSce%2B%2Boc59RFKmZ%2FFUWPVM2%2BBzbz4K6T8F3EBfN2JIwKO8uOSQ%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925db91e4be3ee55-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=312242&min_rtt=193364&rtt_var=126070&sent=7&recv=9&lost=0&retrans=0&sent_bytes=3410&recv_bytes=908&delivery_rate=14608&cwnd=253&unsent_bytes=0&cid=f863044a1d4a843f&ts=1592&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 10:28:45 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 10:28:45 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟ إذا كنت تبحث عن شريك مثالي أو لديك أي استفسار آخر، فلا تتردد في طرحه.
[25-Mar-2025 10:28:45 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 10:28:45 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 10:28:45 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 10:28:45 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 10:28:45 Europe/London] Sending response to client: {"success":true,"data":{"message":{"id":"80","conversation_id":"110","content":"hi","role":"user"},"assistant_message":null}}
[25-Mar-2025 10:30:54 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 10:30:54 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 10:30:54 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 10:30:54 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 10:30:54 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 10:30:54 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 10:30:54 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 10:30:54 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(24): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(212): MessagesController->__construct()
#5 {main}
[25-Mar-2025 10:30:54 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 10:30:54 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 10:30:54 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 10:30:54 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 10:30:54 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 10:30:54 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 10:30:54 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 10:30:54 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 10:30:54 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 10:30:54 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 10:30:54 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 10:30:54 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:30:54 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 10:30:54 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 10:30:54 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 10:30:54 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 10:30:54 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 10:30:54 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 10:30:54 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 10:30:54 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 10:30:54 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 10:30:54 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 10:30:54 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 10:30:54 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 10:30:54 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 10:30:54 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 10:30:54 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 10:30:54 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 10:30:54 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 10:30:54 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:30:54 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 10:30:54 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:30:54 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 10:30:54 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:30:54 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:30:54 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 10:30:54 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 10:30:54 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 10:30:54 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 10:30:54 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 10:30:54 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:30:54 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 10:30:54 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:30:54 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 10:30:54 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:30:54 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:30:54 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 10:30:54 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 10:30:54 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 10:30:54 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 10:30:54 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 10:30:54 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 10:30:54 Europe/London] === Starting message creation process ===
[25-Mar-2025 10:30:54 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 10:30:54 Europe/London] Received message data: {"conversation_id":"111","content":"hi"}
[25-Mar-2025 10:30:54 Europe/London] Message data validation passed
[25-Mar-2025 10:30:54 Europe/London] Fetching conversation and plugin info for conversation ID: 111
[25-Mar-2025 10:30:54 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 10:30:54 Europe/London] Created message data structure
[25-Mar-2025 10:30:54 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 10:30:54 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 10:30:54 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:30:54 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 10:30:54 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 10:30:54 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:30:54 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 10:30:54 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 10:30:54 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"111","content":"hi","role":"user"}
[25-Mar-2025 10:30:54 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 10:30:54 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"111","timestamp":"2025-03-25 10:30:54"}
[25-Mar-2025 10:30:54 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 10:30:56 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.48.1:443...
* Connected to n8n.mazcode.com (104.21.48.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 10:30:56 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=NLPH2RU6fc9VH2vvxFf%2Bw9vhUHkLKC2gku8ysNiJGY0PpZEHRdT0s7cA2pDp7Tcy1ca%2BzMkPR9lU%2Ft7hqdaD463w83AvLj4VwFd5SRRCuBBBUqwGS92qk6%2B9pFXAQN8ZRqk%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925dbc525b54ee61-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=200597&min_rtt=130806&rtt_var=78630&sent=7&recv=8&lost=0&retrans=0&sent_bytes=3388&recv_bytes=908&delivery_rate=21711&cwnd=252&unsent_bytes=0&cid=4abc70c023df5d62&ts=1162&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 10:30:56 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 10:30:56 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 10:30:56 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 10:30:56 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 10:30:56 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 10:30:56 Europe/London] Saving message to database
[25-Mar-2025 10:30:56 Europe/London] Message saved successfully with ID: 81
[25-Mar-2025 10:30:56 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 10:30:56 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 10:30:56 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:30:56 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 10:30:56 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 10:30:56 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"111","content":"hi","role":"user"}
[25-Mar-2025 10:30:56 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 10:30:56 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"111","timestamp":"2025-03-25 10:30:56"}
[25-Mar-2025 10:30:56 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 10:30:58 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.48.1:443...
* Connected to n8n.mazcode.com (104.21.48.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 10:30:58 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=bC%2F22TbVIHdphLyeqpsHS3qbFUHSdrAFEddFhm%2F7Nb2f6yzzOaPNTh5EjyS8hjvdSUQuHSn7cZ%2BUVreu69FgJbj4fe%2B7hwiIn6GZ0Q0Nyur4IglFrYTFZH0cnKFfu%2FeLn%2Fk%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925dbc5e1e90ed2f-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=339481&min_rtt=256057&rtt_var=144615&sent=6&recv=8&lost=0&retrans=0&sent_bytes=3387&recv_bytes=908&delivery_rate=10711&cwnd=252&unsent_bytes=0&cid=9d2285db3ca6bf8c&ts=1582&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 10:30:58 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 10:30:58 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم في البحث عن شريك حياتك؟ إذا كان لديك أي متطلبات أو معايير محددة، لا تتردد في مشاركتها.
[25-Mar-2025 10:30:58 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 10:30:58 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 10:30:58 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 10:30:58 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 10:30:58 Europe/London] Sending response to client: {"success":true,"data":{"message":{"id":"81","conversation_id":"111","content":"hi","role":"user"},"assistant_message":null}}
[25-Mar-2025 10:33:06 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 10:33:06 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 10:33:06 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 10:33:06 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 10:33:06 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 10:33:06 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 10:33:06 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 10:33:06 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(24): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(221): MessagesController->__construct()
#5 {main}
[25-Mar-2025 10:33:06 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 10:33:06 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 10:33:06 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 10:33:06 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 10:33:06 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 10:33:06 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 10:33:06 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 10:33:06 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 10:33:06 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 10:33:06 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 10:33:06 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 10:33:06 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:33:06 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 10:33:06 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 10:33:06 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 10:33:06 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 10:33:06 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 10:33:06 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 10:33:06 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 10:33:06 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 10:33:06 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 10:33:06 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 10:33:06 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 10:33:06 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 10:33:06 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 10:33:06 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 10:33:06 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 10:33:06 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 10:33:06 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 10:33:06 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:33:06 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 10:33:06 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:33:06 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 10:33:06 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:33:06 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:33:06 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 10:33:06 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 10:33:06 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 10:33:06 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 10:33:06 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 10:33:06 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:33:06 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 10:33:06 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:33:06 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 10:33:06 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:33:06 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:33:06 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 10:33:06 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 10:33:06 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 10:33:06 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 10:33:06 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 10:33:06 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 10:33:06 Europe/London] === Starting message creation process ===
[25-Mar-2025 10:33:06 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 10:33:06 Europe/London] Received message data: {"conversation_id":"112","content":"hi"}
[25-Mar-2025 10:33:06 Europe/London] Message data validation passed
[25-Mar-2025 10:33:06 Europe/London] Fetching conversation and plugin info for conversation ID: 112
[25-Mar-2025 10:33:06 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 10:33:06 Europe/London] Created message data structure
[25-Mar-2025 10:33:06 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 10:33:06 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 10:33:06 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:33:06 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 10:33:06 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 10:33:06 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:33:06 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 10:33:06 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 10:33:06 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"112","content":"hi","role":"user"}
[25-Mar-2025 10:33:06 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 10:33:06 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"112","timestamp":"2025-03-25 10:33:06"}
[25-Mar-2025 10:33:06 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 10:33:08 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.48.1:443...
* Connected to n8n.mazcode.com (104.21.48.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 10:33:07 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=TKiTEd0DFdPTY5Txq6hoycyP%2FkqP%2Fqlsf9PQm2uVapyqGPmy7VD2GR5dqcIyHX%2FOj%2BuZqV4nPbTUcGP6ahoaWgsO%2BkUh7QnIXqmuudI%2FzTiz4NaFrgbWtLcCpz6QTQP2I%2Fc%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925dbf8709d3ba89-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=196944&min_rtt=167865&rtt_var=102774&sent=7&recv=8&lost=0&retrans=0&sent_bytes=3389&recv_bytes=908&delivery_rate=13562&cwnd=252&unsent_bytes=0&cid=26b61cb11ff6a9f1&ts=1786&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 10:33:08 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 10:33:08 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟ إذا كان لديك أي استفسار حول البحث عن شريك أو أي شيء آخر، فلا تتردد في طرحه.
[25-Mar-2025 10:33:08 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 10:33:08 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 10:33:08 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 10:33:08 Europe/London] Saving message to database
[25-Mar-2025 10:33:08 Europe/London] Message saved successfully with ID: 82
[25-Mar-2025 10:33:08 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 10:33:08 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 10:33:08 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:33:08 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 10:33:08 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 10:33:08 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"112","content":"hi","role":"user"}
[25-Mar-2025 10:33:08 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 10:33:08 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"112","timestamp":"2025-03-25 10:33:08"}
[25-Mar-2025 10:33:08 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 10:33:11 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.48.1:443...
* Connected to n8n.mazcode.com (104.21.48.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 10:33:10 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=S56JIu0VhbWE%2BfIOkLnija%2BqWLIZMaftzyHXW75xAA5WVBHTUroZFhfwhQiYIwQiWK3899RiUslrOpW6PWhppmL3EY6Ax098FwoPQNFE%2FMWWcLgZ8ODZqpUcym77FOjxCF4%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925dbf95ffc89985-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=429897&min_rtt=147569&rtt_var=263090&sent=9&recv=9&lost=0&retrans=0&sent_bytes=3387&recv_bytes=908&delivery_rate=19245&cwnd=252&unsent_bytes=0&cid=20639b648686782a&ts=2102&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 10:33:11 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 10:33:11 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم في البحث عن شريك مثالي؟
[25-Mar-2025 10:33:11 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 10:33:11 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 10:33:11 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 10:33:11 Europe/London] after_send_message response: null
[25-Mar-2025 10:33:11 Europe/London] Final plugin response: null
[25-Mar-2025 10:33:11 Europe/London] No final response from plugin, assistant_message will be null
[25-Mar-2025 10:33:11 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 10:33:11 Europe/London] Sending response to client: {"success":true,"data":{"message":{"id":"82","conversation_id":"112","content":"hi","role":"user"},"assistant_message":null}}
[25-Mar-2025 10:34:24 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 10:34:24 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 10:34:24 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 10:34:24 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 10:34:24 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 10:34:24 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 10:34:24 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 10:34:24 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(24): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(221): MessagesController->__construct()
#5 {main}
[25-Mar-2025 10:34:24 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 10:34:24 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 10:34:24 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 10:34:24 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 10:34:24 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 10:34:24 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 10:34:24 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 10:34:24 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 10:34:24 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 10:34:24 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 10:34:24 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 10:34:24 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:34:24 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 10:34:24 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 10:34:24 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 10:34:24 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 10:34:24 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 10:34:24 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 10:34:24 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 10:34:24 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 10:34:24 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 10:34:24 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 10:34:24 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 10:34:24 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 10:34:24 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 10:34:24 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 10:34:24 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 10:34:24 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 10:34:24 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 10:34:24 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:34:24 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 10:34:24 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:34:24 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 10:34:24 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:34:24 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:34:24 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 10:34:24 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 10:34:24 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 10:34:24 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 10:34:24 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 10:34:24 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:34:24 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 10:34:24 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:34:24 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 10:34:24 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:34:24 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:34:24 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 10:34:24 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 10:34:24 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 10:34:24 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 10:34:24 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 10:34:24 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 10:34:24 Europe/London] === Starting message creation process ===
[25-Mar-2025 10:34:24 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 10:34:24 Europe/London] Received message data: {"conversation_id":"113","content":"hi"}
[25-Mar-2025 10:34:24 Europe/London] Message data validation passed
[25-Mar-2025 10:34:24 Europe/London] Fetching conversation and plugin info for conversation ID: 113
[25-Mar-2025 10:34:24 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 10:34:24 Europe/London] Created message data structure
[25-Mar-2025 10:34:24 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 10:34:24 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 10:34:24 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:34:24 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 10:34:24 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 10:34:24 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:34:24 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 10:34:24 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 10:34:24 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"113","content":"hi","role":"user"}
[25-Mar-2025 10:34:24 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 10:34:24 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"113","timestamp":"2025-03-25 10:34:24"}
[25-Mar-2025 10:34:24 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 10:34:26 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.48.1:443...
* Connected to n8n.mazcode.com (104.21.48.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 10:34:26 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=%2FyAQGOWjJhBACqn5U1XQJbD7q6F3MxomACcUOwlI%2FI62aX7Idl6rmay6C6kySHAI1u%2FgeG%2BB6mYN0irrPrP87JuSFDTL3uI6c6OPL3c6vn3khgNAIDnM%2F498ZagdFL2wXC0%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925dc170fd28edc4-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=114687&min_rtt=99253&rtt_var=37293&sent=6&recv=8&lost=0&retrans=0&sent_bytes=3389&recv_bytes=908&delivery_rate=28613&cwnd=252&unsent_bytes=0&cid=e59dfb09848181b8&ts=1542&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 10:34:26 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 10:34:26 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟ إذا كنت تبحث عن صفات الشريك المثالي أو لديك أي استفسارات حول التعارف، فلا تتردد في السؤال!
[25-Mar-2025 10:34:26 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 10:34:26 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 10:34:26 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 10:34:26 Europe/London] Saving message to database
[25-Mar-2025 10:34:26 Europe/London] Message saved successfully with ID: 83
[25-Mar-2025 10:34:26 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 10:34:26 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 10:34:26 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:34:26 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 10:34:26 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 10:34:26 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"113","content":"hi","role":"user"}
[25-Mar-2025 10:34:26 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 10:34:26 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"113","timestamp":"2025-03-25 10:34:26"}
[25-Mar-2025 10:34:26 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 10:34:28 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.48.1:443...
* Connected to n8n.mazcode.com (104.21.48.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 10:34:28 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=TcmTretoOj53wU2S556L%2B%2FPbPtg1W7M1ZjsBhPB1sPcIgSpUqZ4LRVKCfNq%2FdUKjlu4Q%2FXSxF1J4%2FdAIz1O8GmqhVEdC%2Fws7Az31y4pPP31y4w0tTvQ8DL5jwDDFR%2BwyYKc%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925dc17c9bc63762-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=141864&min_rtt=131847&rtt_var=56603&sent=7&recv=8&lost=0&retrans=0&sent_bytes=3388&recv_bytes=908&delivery_rate=20276&cwnd=252&unsent_bytes=0&cid=c3695dffb42f7b25&ts=1541&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 10:34:28 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 10:34:28 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟ إذا كنت تبحث عن توافق مثالي أو معلومات عن الأعضاء، فلا تتردد في إخباري بما تحتاجه.
[25-Mar-2025 10:34:28 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 10:34:28 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 10:34:28 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 10:34:28 Europe/London] after_send_message response: null
[25-Mar-2025 10:34:28 Europe/London] Final plugin response: null
[25-Mar-2025 10:34:28 Europe/London] No final response from plugin, assistant_message will be null
[25-Mar-2025 10:34:28 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 10:34:28 Europe/London] Sending response to client: {"success":true,"data":{"message":{"id":"83","conversation_id":"113","content":"hi","role":"user"},"assistant_message":null}}
[25-Mar-2025 10:36:33 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 10:36:33 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 10:36:33 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 10:36:33 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 10:36:33 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 10:36:33 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 10:36:33 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 10:36:33 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(24): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(225): MessagesController->__construct()
#5 {main}
[25-Mar-2025 10:36:33 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 10:36:33 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 10:36:33 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 10:36:33 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 10:36:33 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 10:36:33 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 10:36:33 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 10:36:33 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 10:36:33 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 10:36:33 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 10:36:33 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 10:36:33 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:36:33 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 10:36:33 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 10:36:33 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 10:36:33 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 10:36:33 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 10:36:33 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 10:36:33 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 10:36:33 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 10:36:33 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 10:36:33 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 10:36:33 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 10:36:33 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 10:36:33 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 10:36:33 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 10:36:33 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 10:36:33 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 10:36:33 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 10:36:33 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:36:33 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 10:36:33 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:36:33 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 10:36:33 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:36:33 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:36:33 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 10:36:33 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 10:36:33 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 10:36:33 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 10:36:33 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 10:36:33 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:36:33 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 10:36:33 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:36:33 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 10:36:33 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:36:33 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:36:33 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 10:36:33 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 10:36:33 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 10:36:33 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 10:36:33 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 10:36:33 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 10:36:33 Europe/London] === Starting message creation process ===
[25-Mar-2025 10:36:33 Europe/London] POST data received: {"conversation_id":"114","content":"hi"}
[25-Mar-2025 10:36:33 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 10:36:33 Europe/London] Received message data: {"conversation_id":"114","content":"hi"}
[25-Mar-2025 10:36:33 Europe/London] Message data validation passed
[25-Mar-2025 10:36:33 Europe/London] Fetching conversation and plugin info for conversation ID: 114
[25-Mar-2025 10:36:33 Europe/London] ERROR in message creation: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'p.class_name' in 'field list'
[25-Mar-2025 10:36:33 Europe/London] Stack trace: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(61): PDO->prepare()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(216): MessagesController->createMessage()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(226): MessagesController->handleRequest()
#3 {main}
[25-Mar-2025 10:36:40 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 10:36:40 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 10:36:40 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 10:36:40 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 10:36:40 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 10:36:40 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 10:36:40 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 10:36:40 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(24): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(225): MessagesController->__construct()
#5 {main}
[25-Mar-2025 10:36:40 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 10:36:40 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 10:36:40 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 10:36:40 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 10:36:40 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 10:36:40 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 10:36:40 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 10:36:40 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 10:36:40 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 10:36:40 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 10:36:40 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 10:36:40 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:36:40 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 10:36:40 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 10:36:40 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 10:36:40 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 10:36:40 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 10:36:40 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 10:36:40 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 10:36:40 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 10:36:40 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 10:36:40 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 10:36:40 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 10:36:40 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 10:36:40 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 10:36:40 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 10:36:40 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 10:36:40 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 10:36:40 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 10:36:40 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:36:40 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 10:36:40 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:36:40 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 10:36:40 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:36:40 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:36:40 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 10:36:40 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 10:36:40 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 10:36:40 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 10:36:40 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 10:36:40 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:36:40 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 10:36:40 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:36:40 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 10:36:40 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:36:40 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:36:40 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 10:36:40 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 10:36:40 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 10:36:40 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 10:36:40 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 10:36:40 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 10:37:15 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 10:37:15 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 10:37:15 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 10:37:15 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 10:37:15 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 10:37:15 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 10:37:15 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 10:37:15 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(24): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(212): MessagesController->__construct()
#5 {main}
[25-Mar-2025 10:37:15 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 10:37:15 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 10:37:15 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 10:37:15 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 10:37:15 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 10:37:15 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 10:37:15 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 10:37:15 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 10:37:15 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 10:37:15 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 10:37:15 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 10:37:15 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:37:15 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 10:37:15 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 10:37:15 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 10:37:15 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 10:37:15 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 10:37:15 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 10:37:15 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 10:37:15 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 10:37:15 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 10:37:15 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 10:37:15 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 10:37:15 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 10:37:15 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 10:37:15 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 10:37:15 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 10:37:15 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 10:37:15 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 10:37:15 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:37:15 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 10:37:15 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:37:15 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 10:37:15 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:37:15 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:37:15 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 10:37:15 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 10:37:15 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 10:37:15 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 10:37:15 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 10:37:15 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:37:15 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 10:37:15 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:37:15 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 10:37:15 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:37:15 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:37:15 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 10:37:15 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 10:37:15 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 10:37:15 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 10:37:15 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 10:37:15 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 10:37:15 Europe/London] === Starting message creation process ===
[25-Mar-2025 10:37:15 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 10:37:15 Europe/London] Received message data: {"conversation_id":"115","content":"hi"}
[25-Mar-2025 10:37:15 Europe/London] Message data validation passed
[25-Mar-2025 10:37:15 Europe/London] Fetching conversation and plugin info for conversation ID: 115
[25-Mar-2025 10:37:15 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 10:37:15 Europe/London] Created message data structure
[25-Mar-2025 10:37:15 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 10:37:15 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 10:37:15 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:37:15 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 10:37:15 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 10:37:15 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:37:15 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 10:37:15 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 10:37:15 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"115","content":"hi","role":"user"}
[25-Mar-2025 10:37:15 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 10:37:15 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"115","timestamp":"2025-03-25 10:37:15"}
[25-Mar-2025 10:37:15 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 10:37:17 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.80.1:443...
* Connected to n8n.mazcode.com (104.21.80.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 10:37:17 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=fMbNfWEmvFS6zHvsifmRP7wsdCWVLAZB1m3ikXcsCxdkDpOuZPZNOhCWSCM4gRTiQ5pFW1yrx1bIU5dsLWANNph76%2BKvet5nd%2Bu68X4AmVweCqutLY51DUJvgBBBbwPHuXQ%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925dc59eeb82ee7e-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=120770&min_rtt=105918&rtt_var=56390&sent=7&recv=8&lost=0&retrans=0&sent_bytes=3388&recv_bytes=908&delivery_rate=18254&cwnd=252&unsent_bytes=0&cid=93e42f03aebb1f0d&ts=1281&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 10:37:17 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 10:37:17 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 10:37:17 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 10:37:17 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 10:37:17 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 10:37:17 Europe/London] Saving message to database
[25-Mar-2025 10:37:17 Europe/London] Message saved successfully with ID: 84
[25-Mar-2025 10:37:17 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 10:37:17 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 10:37:17 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:37:17 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 10:37:17 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 10:37:17 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"115","content":"hi","role":"user"}
[25-Mar-2025 10:37:17 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 10:37:17 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"115","timestamp":"2025-03-25 10:37:17"}
[25-Mar-2025 10:37:17 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 10:37:18 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.80.1:443...
* Connected to n8n.mazcode.com (104.21.80.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 10:37:18 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=mR10ABDM7ugciRqEWXwguIoTGofvbewoB2QKQ8YqyloH2VhFKYy2S76h9hVENm040liKCyY6tUmaTn%2BRjwEB3bGBjAL1KnSWU2Ylh%2FcDwv5cmkYKScVcnPStRTQbp5u22%2F8%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925dc5a8a842ed5a-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=115727&min_rtt=102709&rtt_var=48558&sent=6&recv=8&lost=0&retrans=0&sent_bytes=3388&recv_bytes=908&delivery_rate=13884&cwnd=252&unsent_bytes=0&cid=9c7537f7b25619f9&ts=1267&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 10:37:18 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 10:37:18 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 10:37:18 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 10:37:18 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 10:37:18 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 10:37:18 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 10:37:18 Europe/London] Sending response to client: {"success":true,"data":{"message":{"id":"84","conversation_id":"115","content":"hi","role":"user"},"assistant_message":null}}
[25-Mar-2025 10:37:32 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 10:37:32 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 10:37:32 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 10:37:32 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 10:37:32 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 10:37:32 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 10:37:32 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 10:37:32 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(24): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(212): MessagesController->__construct()
#5 {main}
[25-Mar-2025 10:37:32 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 10:37:32 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 10:37:32 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 10:37:32 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 10:37:32 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 10:37:32 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 10:37:32 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 10:37:32 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 10:37:32 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 10:37:32 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 10:37:32 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 10:37:32 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:37:32 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 10:37:32 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 10:37:32 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 10:37:32 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 10:37:32 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 10:37:32 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 10:37:32 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 10:37:32 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 10:37:32 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 10:37:32 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 10:37:32 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 10:37:32 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 10:37:32 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 10:37:32 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 10:37:32 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 10:37:32 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 10:37:32 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 10:37:32 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:37:32 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 10:37:32 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:37:32 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 10:37:32 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:37:32 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:37:32 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 10:37:32 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 10:37:32 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 10:37:32 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 10:37:32 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 10:37:32 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:37:32 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 10:37:32 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:37:32 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 10:37:32 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:37:32 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:37:32 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 10:37:32 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 10:37:32 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 10:37:32 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 10:37:32 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 10:37:32 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 10:37:32 Europe/London] === Starting message creation process ===
[25-Mar-2025 10:37:32 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 10:37:32 Europe/London] Received message data: {"conversation_id":"115","content":"Hello"}
[25-Mar-2025 10:37:32 Europe/London] Message data validation passed
[25-Mar-2025 10:37:32 Europe/London] Fetching conversation and plugin info for conversation ID: 115
[25-Mar-2025 10:37:32 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 10:37:32 Europe/London] Created message data structure
[25-Mar-2025 10:37:32 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 10:37:32 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 10:37:32 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:37:32 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 10:37:32 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 10:37:32 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:37:32 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 10:37:32 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 10:37:32 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"115","content":"Hello","role":"user"}
[25-Mar-2025 10:37:32 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 10:37:32 Europe/London] N8nWebhookHandler: Sending request data: {"message":"Hello","conversation_id":"115","timestamp":"2025-03-25 10:37:32"}
[25-Mar-2025 10:37:32 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 10:37:33 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.80.1:443...
* Connected to n8n.mazcode.com (104.21.80.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 77]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 77

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 10:37:33 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=hN1eM0nhOyyEOdiuCCOgzFM8Gb2CxiMOsvt5UuCtGjmX9rOmmtZ50ByEQk5QAt%2BquR%2BxkBh8zMETirMWixDbpenu3aVvQOJVXbKo%2BQVvUbVHC8c18BU05WBxATmSK%2BXvh04%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925dc604b9593dc6-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=114592&min_rtt=110065&rtt_var=34832&sent=6&recv=8&lost=0&retrans=0&sent_bytes=3387&recv_bytes=911&delivery_rate=25630&cwnd=253&unsent_bytes=0&cid=5ebe8cdf4478ed41&ts=1289&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 10:37:33 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 10:37:33 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 10:37:33 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 10:37:33 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 10:37:33 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 10:37:33 Europe/London] Saving message to database
[25-Mar-2025 10:37:33 Europe/London] Message saved successfully with ID: 85
[25-Mar-2025 10:37:33 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 10:37:33 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 10:37:33 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:37:33 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 10:37:33 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 10:37:33 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"115","content":"Hello","role":"user"}
[25-Mar-2025 10:37:33 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 10:37:33 Europe/London] N8nWebhookHandler: Sending request data: {"message":"Hello","conversation_id":"115","timestamp":"2025-03-25 10:37:33"}
[25-Mar-2025 10:37:33 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 10:37:35 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.80.1:443...
* Connected to n8n.mazcode.com (104.21.80.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 77]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 77

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 10:37:34 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=hA7%2BWTPUCN7WfLN%2B6YWhYnExm5kGjrR2ZVU6ymPvJALBKzBDcf4f5rAqGYAEcWW%2FIzMb8v3%2FN5dce5UCZSRgJSb72FYOR9WuthvqZjxiDyppGi%2B7oDLWdwGPjMYwUgBlXxc%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925dc60e1d7c3745-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=97216&min_rtt=95120&rtt_var=29264&sent=7&recv=9&lost=0&retrans=0&sent_bytes=3410&recv_bytes=911&delivery_rate=29608&cwnd=253&unsent_bytes=0&cid=e750099c4220056b&ts=1190&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 10:37:35 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 10:37:35 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم في العثور على شريك مناسب؟
[25-Mar-2025 10:37:35 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 10:37:35 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 10:37:35 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 10:37:35 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 10:37:35 Europe/London] Sending response to client: {"success":true,"data":{"message":{"id":"85","conversation_id":"115","content":"Hello","role":"user"},"assistant_message":null}}
[25-Mar-2025 10:37:44 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 10:37:44 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 10:37:44 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 10:37:44 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 10:37:44 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 10:37:44 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 10:37:44 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 10:37:44 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(24): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(212): MessagesController->__construct()
#5 {main}
[25-Mar-2025 10:37:44 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 10:37:44 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 10:37:44 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 10:37:44 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 10:37:44 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 10:37:44 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 10:37:44 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 10:37:44 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 10:37:44 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 10:37:44 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 10:37:44 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 10:37:44 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:37:44 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 10:37:44 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 10:37:44 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 10:37:44 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 10:37:44 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 10:37:44 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 10:37:44 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 10:37:44 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 10:37:44 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 10:37:44 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 10:37:44 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 10:37:44 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 10:37:44 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 10:37:44 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 10:37:44 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 10:37:44 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 10:37:44 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 10:37:44 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:37:44 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 10:37:44 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:37:44 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 10:37:44 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:37:44 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:37:44 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 10:37:44 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 10:37:44 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 10:37:44 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 10:37:44 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 10:37:44 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:37:44 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 10:37:44 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:37:44 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 10:37:44 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:37:44 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:37:44 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 10:37:44 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 10:37:44 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 10:37:44 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 10:37:44 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 10:37:44 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 10:37:44 Europe/London] === Starting message creation process ===
[25-Mar-2025 10:37:44 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 10:37:44 Europe/London] Received message data: {"conversation_id":"115","content":"hi"}
[25-Mar-2025 10:37:44 Europe/London] Message data validation passed
[25-Mar-2025 10:37:44 Europe/London] Fetching conversation and plugin info for conversation ID: 115
[25-Mar-2025 10:37:44 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 10:37:44 Europe/London] Created message data structure
[25-Mar-2025 10:37:44 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 10:37:44 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 10:37:44 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:37:44 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 10:37:44 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 10:37:44 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:37:44 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 10:37:44 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 10:37:44 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"115","content":"hi","role":"user"}
[25-Mar-2025 10:37:44 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 10:37:44 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"115","timestamp":"2025-03-25 10:37:44"}
[25-Mar-2025 10:37:44 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 10:37:47 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.80.1:443...
* Connected to n8n.mazcode.com (104.21.80.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 10:37:46 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=MmCRXcGzkkuHLQV4jvr12lJPlEMfRaWemvXboHpIrCDA0ZQVQeuzWeikpqHE%2BQwHuwM4CQe%2BNUa7riRCDcZ6QzHX1MaUbYMN3csdgdVfnlP6ibNiUzZt0SdXrS5fG7OORHo%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925dc655994e4c74-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=165521&min_rtt=145396&rtt_var=94773&sent=8&recv=9&lost=0&retrans=1&sent_bytes=4805&recv_bytes=908&delivery_rate=9269&cwnd=253&unsent_bytes=0&cid=acd295e9a33860ba&ts=1823&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 10:37:47 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 10:37:47 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 10:37:47 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 10:37:47 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 10:37:47 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 10:37:47 Europe/London] Saving message to database
[25-Mar-2025 10:37:47 Europe/London] Message saved successfully with ID: 86
[25-Mar-2025 10:37:47 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 10:37:47 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 10:37:47 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:37:47 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 10:37:47 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 10:37:47 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"115","content":"hi","role":"user"}
[25-Mar-2025 10:37:47 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 10:37:47 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"115","timestamp":"2025-03-25 10:37:47"}
[25-Mar-2025 10:37:47 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 10:37:48 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.80.1:443...
* Connected to n8n.mazcode.com (104.21.80.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 10:37:48 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=rrwd4uJ%2B100TIf%2BU8UyMrHQ3MbLUxUcg7e5hS%2FEMmZQufT60h1qia3pqfV26Z4TLvvGNghayu0vMtwL35wzdw7Egj0o1Vlji%2BuEyT2nX6%2FyhRHz7uNxebvKXgDF4QHCKBNw%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925dc6634a5cedd8-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=231226&min_rtt=93902&rtt_var=116468&sent=7&recv=9&lost=0&retrans=0&sent_bytes=3411&recv_bytes=908&delivery_rate=29736&cwnd=253&unsent_bytes=0&cid=8855a7d8a8554d0f&ts=1115&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 10:37:48 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 10:37:48 Europe/London] N8nWebhookHandler: Webhook response: مرحباً! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 10:37:48 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 10:37:48 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 10:37:48 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 10:37:48 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 10:37:48 Europe/London] Sending response to client: {"success":true,"data":{"message":{"id":"86","conversation_id":"115","content":"hi","role":"user"},"assistant_message":null}}
[25-Mar-2025 10:38:43 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 10:38:43 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 10:38:43 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 10:38:43 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 10:38:43 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 10:38:43 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 10:38:43 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 10:38:43 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(24): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(212): MessagesController->__construct()
#5 {main}
[25-Mar-2025 10:38:43 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 10:38:43 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 10:38:43 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 10:38:43 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 10:38:43 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 10:38:43 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 10:38:43 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 10:38:43 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 10:38:43 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 10:38:43 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 10:38:43 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 10:38:43 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:38:43 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 10:38:43 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 10:38:43 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 10:38:43 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 10:38:43 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 10:38:43 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 10:38:43 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 10:38:43 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 10:38:43 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 10:38:43 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 10:38:43 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 10:38:43 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 10:38:43 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 10:38:43 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 10:38:43 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 10:38:43 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 10:38:43 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 10:38:43 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:38:43 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 10:38:43 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:38:43 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 10:38:43 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:38:43 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:38:43 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 10:38:43 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 10:38:43 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 10:38:43 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 10:38:43 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 10:38:43 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:38:43 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 10:38:43 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:38:43 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 10:38:43 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:38:43 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:38:43 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 10:38:43 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 10:38:43 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 10:38:43 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 10:38:43 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 10:38:43 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 10:38:43 Europe/London] === Starting message creation process ===
[25-Mar-2025 10:38:43 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 10:38:43 Europe/London] Received message data: {"conversation_id":"115","content":"Hello"}
[25-Mar-2025 10:38:43 Europe/London] Message data validation passed
[25-Mar-2025 10:38:43 Europe/London] Fetching conversation and plugin info for conversation ID: 115
[25-Mar-2025 10:38:43 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 10:38:43 Europe/London] Created message data structure
[25-Mar-2025 10:38:43 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 10:38:43 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 10:38:43 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:38:43 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 10:38:43 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 10:38:43 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:38:43 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 10:38:43 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 10:38:43 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"115","content":"Hello","role":"user"}
[25-Mar-2025 10:38:43 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 10:38:43 Europe/London] N8nWebhookHandler: Sending request data: {"message":"Hello","conversation_id":"115","timestamp":"2025-03-25 10:38:43"}
[25-Mar-2025 10:38:43 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 10:38:44 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.80.1:443...
* Connected to n8n.mazcode.com (104.21.80.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 77]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 77

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 10:38:44 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=bOjs0OnG%2FXFCbmVwQNVUiyXJhKywB70iqCdIYG1l9TdJ20TKcM8D%2FUjMhbg6GthnRAwBP%2Fp2FqYUjew%2Fz%2BDFzDUUsDyIw24Lmp9J5Cd%2FiOIoIc0OlZU%2B%2FRKLohgMFkotMeE%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925dc7c0da91baeb-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=108149&min_rtt=107319&rtt_var=31700&sent=6&recv=8&lost=0&retrans=0&sent_bytes=3388&recv_bytes=911&delivery_rate=25904&cwnd=252&unsent_bytes=0&cid=2ab8c6a58878d5cd&ts=1213&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 10:38:44 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 10:38:44 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم في البحث عن شريك حياتك؟
[25-Mar-2025 10:38:44 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 10:38:44 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 10:38:44 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 10:38:44 Europe/London] Saving message to database
[25-Mar-2025 10:38:44 Europe/London] Message saved successfully with ID: 87
[25-Mar-2025 10:38:44 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 10:38:44 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 10:38:44 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 10:38:44 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 10:38:44 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 10:38:44 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"115","content":"Hello","role":"user"}
[25-Mar-2025 10:38:44 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 10:38:44 Europe/London] N8nWebhookHandler: Sending request data: {"message":"Hello","conversation_id":"115","timestamp":"2025-03-25 10:38:44"}
[25-Mar-2025 10:38:44 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 10:38:46 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.80.1:443...
* Connected to n8n.mazcode.com (104.21.80.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 77]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 77

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 10:38:46 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=zFCZMtRLau1DVkf%2BpslSA5rWv%2FqCXqBjuhoBCpBY%2BsjZ2lzUlfd8tNeO9UpxFA2g8y2%2BnA4QHCdo4LMhcAa5KpgkVydYiahze%2BlztkI9ci3s8Rs8KHrIiSGCmzkvEqB5ymM%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925dc7ca79d5ee53-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=124108&min_rtt=102658&rtt_var=49037&sent=7&recv=8&lost=0&retrans=0&sent_bytes=3388&recv_bytes=911&delivery_rate=27664&cwnd=252&unsent_bytes=0&cid=bf811f0af9801b9e&ts=1780&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 10:38:46 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 10:38:46 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 10:38:46 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 10:38:46 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 10:38:46 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 10:38:46 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 10:38:46 Europe/London] Sending response to client: {"success":true,"data":{"message":{"id":"87","conversation_id":"115","content":"Hello","role":"user"},"assistant_message":null}}
[25-Mar-2025 13:26:05 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 13:26:05 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 13:26:05 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 13:26:05 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 13:26:05 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 13:26:05 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 13:26:05 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 13:26:05 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(27): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(218): MessagesController->__construct()
#5 {main}
[25-Mar-2025 13:26:05 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 13:26:05 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 13:26:05 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 13:26:05 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 13:26:05 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 13:26:05 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 13:26:05 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 13:26:05 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 13:26:05 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 13:26:05 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 13:26:05 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 13:26:05 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:26:05 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 13:26:05 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 13:26:05 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 13:26:05 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 13:26:05 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 13:26:05 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 13:26:05 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 13:26:05 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 13:26:05 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 13:26:05 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 13:26:05 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 13:26:05 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 13:26:05 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 13:26:05 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 13:26:05 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 13:26:05 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 13:26:05 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 13:26:05 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:26:05 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 13:26:05 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:26:05 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 13:26:05 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:26:05 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:26:05 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 13:26:05 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 13:26:05 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 13:26:05 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 13:26:05 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 13:26:05 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:26:05 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 13:26:05 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:26:05 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 13:26:05 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:26:05 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:26:05 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 13:26:05 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 13:26:05 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 13:26:05 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 13:26:05 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 13:26:05 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 13:27:19 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 13:27:19 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 13:27:19 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 13:27:19 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 13:27:19 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 13:27:19 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 13:27:19 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 13:27:19 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(27): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(218): MessagesController->__construct()
#5 {main}
[25-Mar-2025 13:27:19 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 13:27:19 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 13:27:19 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 13:27:19 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 13:27:19 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 13:27:19 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 13:27:19 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 13:27:19 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 13:27:19 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 13:27:19 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 13:27:19 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 13:27:19 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:27:19 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 13:27:19 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 13:27:19 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 13:27:19 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 13:27:19 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 13:27:19 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 13:27:19 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 13:27:19 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 13:27:19 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 13:27:19 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 13:27:19 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 13:27:19 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 13:27:19 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 13:27:19 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 13:27:19 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 13:27:19 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 13:27:19 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 13:27:19 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:27:19 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 13:27:19 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:27:19 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 13:27:19 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:27:19 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:27:19 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 13:27:19 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 13:27:19 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 13:27:19 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 13:27:19 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 13:27:19 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:27:19 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 13:27:19 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:27:19 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 13:27:19 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:27:19 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:27:19 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 13:27:19 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 13:27:19 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 13:27:19 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 13:27:19 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 13:27:19 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 13:27:53 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 13:27:53 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 13:27:53 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 13:27:53 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 13:27:53 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 13:27:53 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 13:27:53 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 13:27:53 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(27): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(220): MessagesController->__construct()
#5 {main}
[25-Mar-2025 13:27:53 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 13:27:53 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 13:27:53 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 13:27:53 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 13:27:53 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 13:27:53 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 13:27:53 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 13:27:53 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 13:27:53 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 13:27:53 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 13:27:53 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 13:27:53 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:27:53 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 13:27:53 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 13:27:53 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 13:27:53 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 13:27:53 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 13:27:53 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 13:27:53 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 13:27:53 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 13:27:53 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 13:27:53 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 13:27:53 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 13:27:53 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 13:27:53 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 13:27:53 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 13:27:53 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 13:27:53 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 13:27:53 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 13:27:53 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:27:53 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 13:27:53 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:27:53 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 13:27:53 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:27:53 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:27:53 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 13:27:53 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 13:27:53 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 13:27:53 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 13:27:53 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 13:27:53 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:27:53 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 13:27:53 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:27:53 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 13:27:53 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:27:53 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:27:53 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 13:27:53 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 13:27:53 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 13:27:53 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 13:27:53 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 13:27:53 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 13:31:47 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 13:31:47 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 13:31:47 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 13:31:47 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 13:31:47 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 13:31:47 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 13:31:47 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 13:31:47 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(27): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(222): MessagesController->__construct()
#5 {main}
[25-Mar-2025 13:31:47 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 13:31:47 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 13:31:47 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 13:31:47 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 13:31:47 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 13:31:47 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 13:31:47 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 13:31:47 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 13:31:47 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 13:31:47 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 13:31:47 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 13:31:47 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:31:47 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 13:31:47 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 13:31:47 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 13:31:47 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 13:31:47 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 13:31:47 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 13:31:47 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 13:31:47 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 13:31:47 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 13:31:47 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 13:31:47 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 13:31:47 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 13:31:47 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 13:31:47 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 13:31:47 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 13:31:47 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 13:31:47 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 13:31:47 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:31:47 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 13:31:47 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:31:47 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 13:31:47 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:31:47 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:31:47 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 13:31:47 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 13:31:47 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 13:31:47 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 13:31:47 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 13:31:47 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:31:47 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 13:31:47 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:31:47 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 13:31:47 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:31:47 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:31:47 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 13:31:47 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 13:31:47 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 13:31:47 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 13:31:47 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 13:31:47 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 13:31:47 Europe/London] === Starting message creation process ===
[25-Mar-2025 13:32:24 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 13:32:24 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 13:32:24 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 13:32:24 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 13:32:24 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 13:32:24 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 13:32:24 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 13:32:24 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(27): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(222): MessagesController->__construct()
#5 {main}
[25-Mar-2025 13:32:24 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 13:32:24 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 13:32:24 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 13:32:24 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 13:32:24 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 13:32:24 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 13:32:24 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 13:32:24 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 13:32:24 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 13:32:24 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 13:32:24 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 13:32:24 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:32:24 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 13:32:24 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 13:32:24 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 13:32:24 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 13:32:24 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 13:32:24 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 13:32:24 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 13:32:24 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 13:32:24 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 13:32:24 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 13:32:24 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 13:32:24 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 13:32:24 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 13:32:24 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 13:32:24 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 13:32:24 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 13:32:24 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 13:32:24 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:32:24 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 13:32:24 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:32:24 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 13:32:24 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:32:24 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:32:24 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 13:32:24 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 13:32:24 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 13:32:24 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 13:32:24 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 13:32:24 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:32:24 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 13:32:24 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:32:24 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 13:32:24 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:32:24 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:32:24 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 13:32:24 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 13:32:24 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 13:32:24 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 13:32:24 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 13:32:24 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 13:34:12 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 13:34:12 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 13:34:12 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 13:34:12 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 13:34:12 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 13:34:12 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 13:34:12 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 13:34:12 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(27): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(224): MessagesController->__construct()
#5 {main}
[25-Mar-2025 13:34:12 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 13:34:12 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 13:34:12 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 13:34:12 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 13:34:12 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 13:34:12 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 13:34:12 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 13:34:12 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 13:34:12 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 13:34:12 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 13:34:12 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 13:34:12 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:34:12 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 13:34:12 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 13:34:12 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 13:34:12 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 13:34:12 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 13:34:12 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 13:34:12 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 13:34:12 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 13:34:12 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 13:34:12 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 13:34:12 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 13:34:12 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 13:34:12 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 13:34:12 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 13:34:12 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 13:34:12 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 13:34:12 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 13:34:12 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:34:12 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 13:34:12 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:34:12 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 13:34:12 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:34:12 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:34:12 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 13:34:12 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 13:34:12 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 13:34:12 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 13:34:12 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 13:34:12 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:34:12 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 13:34:12 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:34:12 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 13:34:12 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:34:12 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:34:12 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 13:34:12 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 13:34:12 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 13:34:12 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 13:34:12 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 13:34:12 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 13:34:12 Europe/London] === Starting message creation process ===
[25-Mar-2025 13:34:12 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 13:34:21 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 13:34:21 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 13:34:21 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 13:34:21 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 13:34:21 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 13:34:21 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 13:34:21 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 13:34:21 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(27): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(224): MessagesController->__construct()
#5 {main}
[25-Mar-2025 13:34:21 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 13:34:21 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 13:34:21 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 13:34:21 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 13:34:21 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 13:34:21 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 13:34:21 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 13:34:21 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 13:34:21 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 13:34:21 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 13:34:21 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 13:34:21 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:34:21 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 13:34:21 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 13:34:21 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 13:34:21 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 13:34:21 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 13:34:21 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 13:34:21 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 13:34:21 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 13:34:21 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 13:34:21 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 13:34:21 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 13:34:21 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 13:34:21 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 13:34:21 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 13:34:21 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 13:34:21 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 13:34:21 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 13:34:21 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:34:21 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 13:34:21 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:34:21 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 13:34:21 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:34:21 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:34:21 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 13:34:21 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 13:34:21 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 13:34:21 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 13:34:21 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 13:34:21 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:34:21 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 13:34:21 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:34:21 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 13:34:21 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:34:21 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:34:21 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 13:34:21 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 13:34:21 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 13:34:21 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 13:34:21 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 13:34:21 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 13:34:21 Europe/London] === Starting message creation process ===
[25-Mar-2025 13:34:21 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 13:34:26 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 13:34:26 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 13:34:26 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 13:34:26 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 13:34:26 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 13:34:26 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 13:34:26 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 13:34:26 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(27): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(224): MessagesController->__construct()
#5 {main}
[25-Mar-2025 13:34:26 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 13:34:26 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 13:34:26 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 13:34:26 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 13:34:26 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 13:34:26 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 13:34:26 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 13:34:26 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 13:34:26 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 13:34:26 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 13:34:26 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 13:34:26 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:34:26 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 13:34:26 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 13:34:26 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 13:34:26 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 13:34:26 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 13:34:26 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 13:34:26 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 13:34:26 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 13:34:26 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 13:34:26 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 13:34:26 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 13:34:26 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 13:34:26 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 13:34:26 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 13:34:26 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 13:34:26 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 13:34:26 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 13:34:26 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:34:26 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 13:34:26 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:34:26 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 13:34:26 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:34:26 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:34:26 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 13:34:26 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 13:34:26 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 13:34:26 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 13:34:26 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 13:34:26 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:34:26 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 13:34:26 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:34:26 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 13:34:26 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:34:26 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:34:26 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 13:34:26 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 13:34:26 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 13:34:26 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 13:34:26 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 13:34:26 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 13:34:26 Europe/London] === Starting message creation process ===
[25-Mar-2025 13:34:26 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 13:35:55 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 13:35:55 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 13:35:55 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 13:35:55 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 13:35:55 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 13:35:55 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 13:35:55 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 13:35:55 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(27): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(224): MessagesController->__construct()
#5 {main}
[25-Mar-2025 13:35:55 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 13:35:55 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 13:35:55 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 13:35:55 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 13:35:55 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 13:35:55 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 13:35:55 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 13:35:55 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 13:35:55 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 13:35:55 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 13:35:55 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 13:35:55 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:35:55 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 13:35:55 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 13:35:55 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 13:35:55 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 13:35:55 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 13:35:55 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 13:35:55 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 13:35:55 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 13:35:55 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 13:35:55 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 13:35:55 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 13:35:55 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 13:35:55 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 13:35:55 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 13:35:55 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 13:35:55 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 13:35:55 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 13:35:55 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:35:55 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 13:35:55 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:35:55 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 13:35:55 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:35:55 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:35:55 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 13:35:55 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 13:35:55 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 13:35:55 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 13:35:55 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 13:35:55 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:35:55 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 13:35:55 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:35:55 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 13:35:55 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:35:55 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:35:55 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 13:35:55 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 13:35:55 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 13:35:55 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 13:35:55 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 13:35:55 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 13:35:55 Europe/London] === Starting message creation process ===
[25-Mar-2025 13:35:55 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 13:35:55 Europe/London] Received message data: {"conversation_id":"117","content":"Hello"}
[25-Mar-2025 13:35:55 Europe/London] Message data validation passed
[25-Mar-2025 13:35:55 Europe/London] Fetching conversation and plugin info for conversation ID: 117
[25-Mar-2025 13:36:11 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 13:36:11 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 13:36:11 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 13:36:11 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 13:36:11 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 13:36:11 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 13:36:11 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 13:36:11 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(27): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(224): MessagesController->__construct()
#5 {main}
[25-Mar-2025 13:36:11 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 13:36:11 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 13:36:11 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 13:36:11 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 13:36:11 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 13:36:11 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 13:36:11 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 13:36:11 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 13:36:11 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 13:36:11 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 13:36:11 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 13:36:11 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:36:11 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 13:36:11 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 13:36:11 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 13:36:11 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 13:36:11 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 13:36:11 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 13:36:11 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 13:36:11 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 13:36:11 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 13:36:11 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 13:36:11 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 13:36:11 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 13:36:11 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 13:36:11 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 13:36:11 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 13:36:11 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 13:36:11 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 13:36:11 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:36:11 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 13:36:11 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:36:11 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 13:36:11 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:36:11 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:36:11 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 13:36:11 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 13:36:11 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 13:36:11 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 13:36:11 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 13:36:11 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:36:11 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 13:36:11 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:36:11 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 13:36:11 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:36:11 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:36:11 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 13:36:11 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 13:36:11 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 13:36:11 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 13:36:11 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 13:36:11 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 13:36:11 Europe/London] === Starting message creation process ===
[25-Mar-2025 13:36:11 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 13:36:11 Europe/London] Received message data: {"conversation_id":"117","content":"hi"}
[25-Mar-2025 13:36:11 Europe/London] Message data validation passed
[25-Mar-2025 13:36:11 Europe/London] Fetching conversation and plugin info for conversation ID: 117
[25-Mar-2025 13:36:24 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 13:36:24 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 13:36:24 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 13:36:24 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 13:36:24 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 13:36:24 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 13:36:24 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 13:36:24 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(27): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(224): MessagesController->__construct()
#5 {main}
[25-Mar-2025 13:36:24 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 13:36:24 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 13:36:24 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 13:36:24 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 13:36:24 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 13:36:24 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 13:36:24 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 13:36:24 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 13:36:24 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 13:36:24 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 13:36:24 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 13:36:24 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:36:24 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 13:36:24 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 13:36:24 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 13:36:24 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 13:36:24 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 13:36:24 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 13:36:24 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 13:36:24 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 13:36:24 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 13:36:24 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 13:36:24 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 13:36:24 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 13:36:24 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 13:36:24 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 13:36:24 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 13:36:24 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 13:36:24 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 13:36:24 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:36:24 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 13:36:24 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:36:24 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 13:36:24 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:36:24 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:36:24 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 13:36:24 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 13:36:24 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 13:36:24 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 13:36:24 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 13:36:24 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:36:24 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 13:36:24 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:36:24 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 13:36:24 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:36:24 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:36:24 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 13:36:24 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 13:36:24 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 13:36:24 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 13:36:24 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 13:36:24 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 13:36:24 Europe/London] === Starting message creation process ===
[25-Mar-2025 13:36:24 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 13:36:24 Europe/London] Received message data: {"conversation_id":"118","content":"hi"}
[25-Mar-2025 13:36:24 Europe/London] Message data validation passed
[25-Mar-2025 13:36:24 Europe/London] Fetching conversation and plugin info for conversation ID: 118
[25-Mar-2025 13:36:36 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 13:36:36 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 13:36:36 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 13:36:36 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 13:36:36 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 13:36:36 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 13:36:36 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 13:36:36 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(27): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(224): MessagesController->__construct()
#5 {main}
[25-Mar-2025 13:36:36 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 13:36:36 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 13:36:36 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 13:36:36 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 13:36:36 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 13:36:36 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 13:36:36 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 13:36:36 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 13:36:36 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 13:36:36 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 13:36:36 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 13:36:36 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:36:36 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 13:36:36 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 13:36:36 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 13:36:36 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 13:36:36 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 13:36:36 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 13:36:36 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 13:36:36 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 13:36:36 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 13:36:36 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 13:36:36 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 13:36:36 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 13:36:36 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 13:36:36 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 13:36:36 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 13:36:36 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 13:36:36 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 13:36:36 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:36:36 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 13:36:36 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:36:36 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 13:36:36 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:36:36 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:36:36 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 13:36:36 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 13:36:36 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 13:36:36 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 13:36:36 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 13:36:36 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:36:36 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 13:36:36 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:36:36 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 13:36:36 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:36:36 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:36:36 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 13:36:36 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 13:36:36 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 13:36:36 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 13:36:36 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 13:36:36 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 13:36:36 Europe/London] === Starting message creation process ===
[25-Mar-2025 13:36:36 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 13:36:36 Europe/London] Received message data: {"conversation_id":"118","content":"hi"}
[25-Mar-2025 13:36:36 Europe/London] Message data validation passed
[25-Mar-2025 13:36:36 Europe/London] Fetching conversation and plugin info for conversation ID: 118
[25-Mar-2025 13:36:44 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 13:36:44 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 13:36:44 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 13:36:44 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 13:36:44 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 13:36:44 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 13:36:44 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 13:36:44 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(27): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(224): MessagesController->__construct()
#5 {main}
[25-Mar-2025 13:36:44 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 13:36:44 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 13:36:44 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 13:36:44 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 13:36:44 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 13:36:44 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 13:36:44 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 13:36:44 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 13:36:44 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 13:36:44 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 13:36:44 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 13:36:44 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:36:44 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 13:36:44 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 13:36:44 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 13:36:44 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 13:36:44 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 13:36:44 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 13:36:44 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 13:36:44 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 13:36:44 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 13:36:44 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 13:36:44 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 13:36:44 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 13:36:44 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 13:36:44 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 13:36:44 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 13:36:44 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 13:36:44 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 13:36:44 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:36:44 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 13:36:44 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:36:44 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 13:36:44 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:36:44 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:36:44 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 13:36:44 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 13:36:44 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 13:36:44 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 13:36:44 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 13:36:44 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:36:44 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 13:36:44 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:36:44 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 13:36:44 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:36:44 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:36:44 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 13:36:44 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 13:36:44 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 13:36:44 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 13:36:44 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 13:36:44 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 13:36:44 Europe/London] === Starting message creation process ===
[25-Mar-2025 13:36:44 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 13:36:44 Europe/London] Received message data: {"conversation_id":"119","content":"hi"}
[25-Mar-2025 13:36:44 Europe/London] Message data validation passed
[25-Mar-2025 13:36:44 Europe/London] Fetching conversation and plugin info for conversation ID: 119
[25-Mar-2025 13:38:01 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 13:38:01 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 13:38:01 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 13:38:01 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 13:38:01 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 13:38:01 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 13:38:01 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 13:38:01 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(27): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(224): MessagesController->__construct()
#5 {main}
[25-Mar-2025 13:38:01 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 13:38:01 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 13:38:01 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 13:38:01 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 13:38:01 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 13:38:01 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 13:38:01 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 13:38:01 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 13:38:01 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 13:38:01 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 13:38:01 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 13:38:01 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:38:01 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 13:38:01 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 13:38:01 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 13:38:01 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 13:38:01 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 13:38:01 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 13:38:01 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 13:38:01 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 13:38:01 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 13:38:01 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 13:38:01 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 13:38:01 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 13:38:01 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 13:38:01 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 13:38:01 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 13:38:01 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 13:38:01 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 13:38:01 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:38:01 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 13:38:01 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:38:01 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 13:38:01 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:38:01 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:38:01 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 13:38:01 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 13:38:01 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 13:38:01 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 13:38:01 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 13:38:01 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:38:01 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 13:38:01 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:38:01 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 13:38:01 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:38:01 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:38:01 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 13:38:01 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 13:38:01 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 13:38:01 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 13:38:01 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 13:38:01 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 13:38:01 Europe/London] === Starting message creation process ===
[25-Mar-2025 13:38:01 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 13:38:01 Europe/London] Received message data: {"conversation_id":"119","content":"sd"}
[25-Mar-2025 13:38:01 Europe/London] Message data validation passed
[25-Mar-2025 13:38:01 Europe/London] Fetching conversation and plugin info for conversation ID: 119
[25-Mar-2025 13:38:01 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 13:38:01 Europe/London] Created message data structure
[25-Mar-2025 13:38:41 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 13:38:41 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 13:38:41 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 13:38:41 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 13:38:41 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 13:38:41 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 13:38:41 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 13:38:41 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(27): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(224): MessagesController->__construct()
#5 {main}
[25-Mar-2025 13:38:41 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 13:38:41 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 13:38:41 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 13:38:41 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 13:38:41 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 13:38:41 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 13:38:41 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 13:38:41 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 13:38:41 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 13:38:41 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 13:38:41 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 13:38:41 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:38:41 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 13:38:41 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 13:38:41 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 13:38:41 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 13:38:41 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 13:38:41 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 13:38:41 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 13:38:41 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 13:38:41 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 13:38:41 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 13:38:41 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 13:38:41 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 13:38:41 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 13:38:41 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 13:38:41 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 13:38:41 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 13:38:41 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 13:38:41 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:38:41 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 13:38:41 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:38:41 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 13:38:41 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:38:41 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:38:41 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 13:38:41 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 13:38:41 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 13:38:41 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 13:38:41 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 13:38:41 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:38:41 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 13:38:41 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:38:41 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 13:38:41 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:38:41 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:38:41 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 13:38:41 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 13:38:41 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 13:38:41 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 13:38:41 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 13:38:41 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 13:38:41 Europe/London] === Starting message creation process ===
[25-Mar-2025 13:38:41 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 13:38:41 Europe/London] Received message data: {"conversation_id":"119","content":"hi"}
[25-Mar-2025 13:38:41 Europe/London] Message data validation passed
[25-Mar-2025 13:38:41 Europe/London] Fetching conversation and plugin info for conversation ID: 119
[25-Mar-2025 13:38:41 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 13:38:41 Europe/London] Created message data structure
[25-Mar-2025 13:39:24 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 13:39:24 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 13:39:24 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 13:39:24 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 13:39:24 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 13:39:24 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 13:39:24 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 13:39:24 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(27): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(224): MessagesController->__construct()
#5 {main}
[25-Mar-2025 13:39:24 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 13:39:24 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 13:39:24 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 13:39:24 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 13:39:24 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 13:39:24 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 13:39:24 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 13:39:24 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 13:39:24 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 13:39:24 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 13:39:24 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 13:39:24 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:39:24 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 13:39:24 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 13:39:24 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 13:39:24 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 13:39:24 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 13:39:24 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 13:39:24 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 13:39:24 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 13:39:24 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 13:39:24 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 13:39:24 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 13:39:24 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 13:39:24 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 13:39:24 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 13:39:24 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 13:39:24 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 13:39:24 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 13:39:24 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:39:24 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 13:39:24 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:39:24 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 13:39:24 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:39:24 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:39:24 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 13:39:24 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 13:39:24 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 13:39:24 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 13:39:24 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 13:39:24 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:39:24 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 13:39:24 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:39:24 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 13:39:24 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:39:24 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:39:24 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 13:39:24 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 13:39:24 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 13:39:24 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 13:39:24 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 13:39:24 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 13:39:24 Europe/London] === Starting message creation process ===
[25-Mar-2025 13:39:24 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 13:39:24 Europe/London] Received message data: {"conversation_id":"119","content":"dd"}
[25-Mar-2025 13:39:24 Europe/London] Message data validation passed
[25-Mar-2025 13:39:24 Europe/London] Fetching conversation and plugin info for conversation ID: 119
[25-Mar-2025 13:39:24 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 13:39:24 Europe/London] Created message data structure
[25-Mar-2025 13:39:24 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 13:40:53 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 13:40:53 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 13:40:53 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 13:40:53 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 13:40:53 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 13:40:53 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 13:40:53 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 13:40:53 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(27): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(225): MessagesController->__construct()
#5 {main}
[25-Mar-2025 13:40:53 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 13:40:53 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 13:40:53 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 13:40:53 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 13:40:53 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 13:40:53 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 13:40:53 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 13:40:53 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 13:40:53 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 13:40:53 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 13:40:53 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 13:40:53 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:40:53 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 13:40:53 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 13:40:53 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 13:40:53 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 13:40:53 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 13:40:53 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 13:40:53 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 13:40:53 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 13:40:53 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 13:40:53 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 13:40:53 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 13:40:53 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 13:40:53 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 13:40:53 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 13:40:53 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 13:40:53 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 13:40:53 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 13:40:53 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:40:53 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 13:40:53 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:40:53 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 13:40:53 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:40:53 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:40:53 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 13:40:53 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 13:40:53 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 13:40:53 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 13:40:53 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 13:40:53 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:40:53 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 13:40:53 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:40:53 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 13:40:53 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:40:53 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:40:53 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 13:40:53 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 13:40:53 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 13:40:53 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 13:40:53 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 13:40:53 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 13:40:53 Europe/London] === Starting message creation process ===
[25-Mar-2025 13:40:53 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 13:40:53 Europe/London] Received message data: {"conversation_id":"120","content":"hi"}
[25-Mar-2025 13:40:53 Europe/London] Message data validation passed
[25-Mar-2025 13:40:53 Europe/London] Fetching conversation and plugin info for conversation ID: 120
[25-Mar-2025 13:40:53 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 13:40:53 Europe/London] Created message data structure
[25-Mar-2025 13:40:53 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 13:40:53 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 13:40:53 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:40:53 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 13:40:53 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 13:40:53 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:40:53 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 13:40:53 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 13:40:53 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"120","content":"hi","role":"user"}
[25-Mar-2025 13:40:53 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 13:40:53 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"120","timestamp":"2025-03-25 13:40:53"}
[25-Mar-2025 13:40:53 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 13:40:56 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.96.1:443...
* Connected to n8n.mazcode.com (104.21.96.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 13:40:56 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=1Swe63BoFSVkaZ5VXVSh%2BcXx5A%2F0fusZr7mUjZW%2BHBZc9oHof5a4Kz%2FrrylY4QZbjAAC1YfpGFMdqt781h25gSTGmNqXLLIZjiuSr9%2Bq2NG2uvJuVhseZpSGizAj55K82%2BI%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925ed2a0bacd5837-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=113567&min_rtt=96364&rtt_var=42565&sent=8&recv=9&lost=0&retrans=1&sent_bytes=4823&recv_bytes=908&delivery_rate=18365&cwnd=254&unsent_bytes=0&cid=33ce6c7c496c5bae&ts=2004&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 13:40:56 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 13:40:56 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟ إذا كان لديك أي سؤال حول التوفيق أو تطلعاتك للعلاقات، فلا تتردد في طرحه!
[25-Mar-2025 13:40:56 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 13:40:56 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 13:43:25 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 13:43:25 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 13:43:25 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 13:43:25 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 13:43:25 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 13:43:25 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 13:43:25 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 13:43:25 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(27): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(225): MessagesController->__construct()
#5 {main}
[25-Mar-2025 13:43:25 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 13:43:25 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 13:43:25 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 13:43:25 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 13:43:25 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 13:43:25 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 13:43:25 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 13:43:25 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 13:43:25 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 13:43:25 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 13:43:25 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 13:43:25 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:43:25 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 13:43:25 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 13:43:25 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 13:43:25 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 13:43:25 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 13:43:25 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 13:43:25 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 13:43:25 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 13:43:25 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 13:43:25 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 13:43:25 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 13:43:25 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 13:43:25 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 13:43:25 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 13:43:25 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 13:43:25 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 13:43:25 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 13:43:25 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:43:25 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 13:43:25 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:43:25 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 13:43:25 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:43:25 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:43:25 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 13:43:25 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 13:43:25 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 13:43:25 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 13:43:25 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 13:43:25 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:43:25 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 13:43:25 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:43:25 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 13:43:25 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:43:25 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:43:25 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 13:43:25 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 13:43:25 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 13:43:25 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 13:43:25 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 13:43:25 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 13:43:25 Europe/London] === Starting message creation process ===
[25-Mar-2025 13:43:25 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 13:43:25 Europe/London] Received message data: {"conversation_id":"120","content":"sd"}
[25-Mar-2025 13:43:25 Europe/London] Message data validation passed
[25-Mar-2025 13:43:25 Europe/London] Fetching conversation and plugin info for conversation ID: 120
[25-Mar-2025 13:43:25 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 13:43:25 Europe/London] Created message data structure
[25-Mar-2025 13:43:25 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 13:43:25 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 13:43:25 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:43:25 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 13:43:25 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 13:43:25 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:43:25 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 13:43:25 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 13:43:25 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"120","content":"sd","role":"user"}
[25-Mar-2025 13:43:25 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 13:43:25 Europe/London] N8nWebhookHandler: Sending request data: {"message":"sd","conversation_id":"120","timestamp":"2025-03-25 13:43:25"}
[25-Mar-2025 13:43:25 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 13:43:26 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.96.1:443...
* Connected to n8n.mazcode.com (104.21.96.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 13:43:26 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=X5oX6HR5QpzmieBhXBPCVmdG5TR8Cdq9X3LetAg7S2qIz%2BhsetYtwIpGAg32id62cfq7NHPCcB5wBj756f8NmJa0NYPWOno2CwDp%2BpFSE1eNsH62%2FbqmdA2hnaH3j1MbprU%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925ed64d0d79edbe-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=118788&min_rtt=113475&rtt_var=36001&sent=7&recv=9&lost=0&retrans=0&sent_bytes=3409&recv_bytes=908&delivery_rate=25027&cwnd=253&unsent_bytes=0&cid=fd29210dbe0bffb4&ts=1215&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 13:43:26 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 13:43:26 Europe/London] N8nWebhookHandler: Webhook response: يبدو أن المدخل غير واضح. هل يمكنك توضيح المعلومات أو السؤالات المحددة التي لديك؟ سأكون سعيدًا بمساعدتك!
[25-Mar-2025 13:43:26 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 13:43:26 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 13:43:26 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 13:43:26 Europe/London] Saving message to database
[25-Mar-2025 13:43:26 Europe/London] Message saved successfully with ID: 88
[25-Mar-2025 13:43:26 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 13:43:26 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 13:43:26 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 13:43:26 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 13:43:26 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 13:43:26 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"120","content":"sd","role":"user"}
[25-Mar-2025 13:43:26 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 13:43:26 Europe/London] N8nWebhookHandler: Sending request data: {"message":"sd","conversation_id":"120","timestamp":"2025-03-25 13:43:26"}
[25-Mar-2025 13:43:26 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 13:43:28 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.96.1:443...
* Connected to n8n.mazcode.com (104.21.96.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 13:43:27 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=uG%2FOo525i4%2F0ZfdfPuI1JbDrSDUrR4OjhlTZkBkamNsCoRcUlFDMcDrZvx9hrgZm%2FqnmPNIta6Zn9vZPymlWuZtymcMVo6IJGNcZpR42HxuaZ9eH1ZOoggfu6NoR9l7d%2BvM%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 925ed655e992ed2c-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=104726&min_rtt=94996&rtt_var=39087&sent=7&recv=9&lost=0&retrans=0&sent_bytes=3410&recv_bytes=908&delivery_rate=29441&cwnd=253&unsent_bytes=0&cid=0372b81d0d3309f8&ts=1498&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 13:43:28 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 13:43:28 Europe/London] N8nWebhookHandler: Webhook response: يبدو أن إدخالكم غير واضح. هل يمكنك توضيح ما الذي تبحث عنه بالضبط؟ سأكون سعيدًا بمساعدتك في العثور على تطابقات مناسبة أو أي معلومات أخرى تحتاجها.
[25-Mar-2025 13:43:28 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 13:43:28 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully
[25-Mar-2025 13:43:28 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 13:43:28 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 13:43:28 Europe/London] Sending response to client: {"success":true,"data":{"message":{"id":"88","conversation_id":"120","content":"sd","role":"user"},"assistant_message":null}}
[25-Mar-2025 17:31:45 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 17:31:45 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 17:31:45 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 17:31:45 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 17:31:45 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 17:31:45 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 17:31:45 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 17:31:45 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(27): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(227): MessagesController->__construct()
#5 {main}
[25-Mar-2025 17:31:45 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 17:31:45 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 17:31:45 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 17:31:45 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 17:31:45 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 17:31:45 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 17:31:45 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 17:31:45 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 17:31:45 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 17:31:45 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 17:31:45 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 17:31:45 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:31:45 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 17:31:45 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 17:31:45 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 17:31:45 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 17:31:45 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 17:31:45 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 17:31:45 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 17:31:45 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 17:31:45 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 17:31:45 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 17:31:45 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 17:31:45 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 17:31:45 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 17:31:45 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 17:31:45 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 17:31:45 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 17:31:45 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 17:31:45 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:31:45 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 17:31:45 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:31:45 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 17:31:45 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:31:45 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:31:45 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 17:31:45 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 17:31:45 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 17:31:45 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 17:31:45 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 17:31:45 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:31:45 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 17:31:45 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:31:45 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 17:31:45 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:31:45 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:31:45 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 17:31:45 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 17:31:45 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 17:31:45 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 17:31:45 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 17:31:45 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 17:31:45 Europe/London] === Starting message creation process ===
[25-Mar-2025 17:31:45 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 17:31:45 Europe/London] Received message data: {"conversation_id":"120","content":"hi"}
[25-Mar-2025 17:31:45 Europe/London] Message data validation passed
[25-Mar-2025 17:31:45 Europe/London] Fetching conversation and plugin info for conversation ID: 120
[25-Mar-2025 17:31:45 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 17:31:45 Europe/London] Created message data structure
[25-Mar-2025 17:31:45 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 17:31:45 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 17:31:45 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:31:45 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 17:31:45 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 17:31:45 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:31:45 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 17:31:45 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 17:31:45 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"120","content":"hi","role":"user"}
[25-Mar-2025 17:31:45 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 17:31:45 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"120","timestamp":"2025-03-25 17:31:45"}
[25-Mar-2025 17:31:45 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 17:31:46 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.96.1:443...
* Connected to n8n.mazcode.com (104.21.96.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 17:31:46 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=qDuVNd5baMG1FT6gtVtcfFmBpX%2BtQNgM4Ta4kWdZ000kNKlg2%2FliX3YxONQGvhvEsV9qfIg29H4InKTRlaGS0Z7Hy4gIGGO3SQPh5vznllllU%2B4uRG84q8GDhwDeX%2B9k%2Buk%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 926024c86bb7ee51-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=101624&min_rtt=100903&rtt_var=38353&sent=7&recv=9&lost=0&retrans=1&sent_bytes=4803&recv_bytes=908&delivery_rate=28145&cwnd=253&unsent_bytes=0&cid=d352f2cd498de360&ts=1104&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 17:31:46 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 17:31:46 Europe/London] N8nWebhookHandler: Webhook response: مرحباً! كيف يمكنني مساعدتك اليوم في البحث عن شريك حياتك؟
[25-Mar-2025 17:31:46 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 17:31:46 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully with result: مرحباً! كيف يمكنني مساعدتك اليوم في البحث عن شريك حياتك؟
[25-Mar-2025 17:31:46 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 17:31:46 Europe/London] Got response from before_send_message: مرحباً! كيف يمكنني مساعدتك اليوم في البحث عن شريك حياتك؟
[25-Mar-2025 17:31:46 Europe/London] Saving message to database
[25-Mar-2025 17:31:46 Europe/London] Message saved successfully with ID: 89
[25-Mar-2025 17:31:46 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 17:31:46 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 17:31:46 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:31:46 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 17:31:46 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 17:31:46 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"120","content":"hi","role":"user"}
[25-Mar-2025 17:31:46 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 17:31:46 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"120","timestamp":"2025-03-25 17:31:46"}
[25-Mar-2025 17:31:46 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 17:31:48 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.96.1:443...
* Connected to n8n.mazcode.com (104.21.96.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 17:31:47 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=iQWahEUs%2F1SQjRyyFrGPlrKDho4FW2cp3ys6ql15HyDv%2BmQxXNe4z4HlJA8FL8AWGHZjFDIWlZA%2BR1wO581f4Vo6243aJ7Ar5zRHYAEYQmZ4yvNER7z9QyAh61UitDi0344%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 926024cfbe11ee55-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=89392&min_rtt=85383&rtt_var=29294&sent=7&recv=8&lost=0&retrans=0&sent_bytes=3389&recv_bytes=908&delivery_rate=26714&cwnd=252&unsent_bytes=0&cid=3d6b33c872ac8fb5&ts=998&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 17:31:48 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 17:31:48 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 17:31:48 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 17:31:48 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully with result: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 17:31:48 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 17:31:48 Europe/London] Saving plugin response to database: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 17:31:48 Europe/London] Plugin response saved with ID: 90
[25-Mar-2025 17:31:48 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 17:31:48 Europe/London] Sending response to client: {"success":true,"data":{"message":{"id":"89","conversation_id":"120","content":"hi","role":"user"},"assistant_message":{"id":"90","conversation_id":"120","content":"\u0645\u0631\u062d\u0628\u064b\u0627! \u0643\u064a\u0641 \u064a\u0645\u0643\u0646\u0646\u064a \u0645\u0633\u0627\u0639\u062f\u062a\u0643 \u0627\u0644\u064a\u0648\u0645\u061f","role":"assistant"}}}
[25-Mar-2025 17:32:14 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 17:32:14 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 17:32:14 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 17:32:14 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 17:32:14 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 17:32:14 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 17:32:14 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 17:32:14 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(27): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(227): MessagesController->__construct()
#5 {main}
[25-Mar-2025 17:32:14 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 17:32:14 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 17:32:14 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 17:32:14 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 17:32:14 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 17:32:14 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 17:32:14 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 17:32:14 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 17:32:14 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 17:32:14 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 17:32:14 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 17:32:14 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:32:14 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 17:32:14 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 17:32:14 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 17:32:14 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 17:32:14 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 17:32:14 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 17:32:14 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 17:32:14 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 17:32:14 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 17:32:14 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 17:32:14 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 17:32:14 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 17:32:14 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 17:32:14 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 17:32:14 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 17:32:14 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 17:32:14 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 17:32:14 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:32:14 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 17:32:14 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:32:14 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 17:32:14 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:32:14 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:32:14 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 17:32:14 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 17:32:14 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 17:32:14 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 17:32:14 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 17:32:14 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:32:14 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 17:32:14 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:32:14 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 17:32:14 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:32:14 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:32:14 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 17:32:14 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 17:32:14 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 17:32:14 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 17:32:14 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 17:32:14 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 17:32:14 Europe/London] === Starting message creation process ===
[25-Mar-2025 17:32:14 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 17:32:14 Europe/London] Received message data: {"conversation_id":"121","content":"hello"}
[25-Mar-2025 17:32:14 Europe/London] Message data validation passed
[25-Mar-2025 17:32:14 Europe/London] Fetching conversation and plugin info for conversation ID: 121
[25-Mar-2025 17:32:14 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 17:32:14 Europe/London] Created message data structure
[25-Mar-2025 17:32:14 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 17:32:14 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 17:32:14 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:32:14 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 17:32:14 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 17:32:14 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:32:14 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 17:32:14 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 17:32:14 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"121","content":"hello","role":"user"}
[25-Mar-2025 17:32:14 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 17:32:14 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hello","conversation_id":"121","timestamp":"2025-03-25 17:32:14"}
[25-Mar-2025 17:32:14 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 17:32:15 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.96.1:443...
* Connected to n8n.mazcode.com (104.21.96.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 77]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 77

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 17:32:14 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=GJpJc5%2BGZFzqysHqXlgBGpJAHMvJgc8uFi%2BALKok92g4ZR5I6HVyvfZcrlr0u3K1uB0NreVmae3B4iyNN7%2BpTRejHW6GPkk4la%2Fd%2B6kMfkP4svni%2Bwmqqb412EUN3ow6fh4%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 9260257a2c1859e9-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=99521&min_rtt=91541&rtt_var=41427&sent=7&recv=8&lost=0&retrans=0&sent_bytes=3387&recv_bytes=911&delivery_rate=17433&cwnd=252&unsent_bytes=0&cid=ac239dad645230ab&ts=902&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 17:32:15 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 17:32:15 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 17:32:15 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 17:32:15 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully with result: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 17:32:15 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 17:32:15 Europe/London] Got response from before_send_message: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 17:32:15 Europe/London] Saving message to database
[25-Mar-2025 17:32:15 Europe/London] Message saved successfully with ID: 91
[25-Mar-2025 17:32:15 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 17:32:15 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 17:32:15 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:32:15 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 17:32:15 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 17:32:15 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"121","content":"hello","role":"user"}
[25-Mar-2025 17:32:15 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 17:32:15 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hello","conversation_id":"121","timestamp":"2025-03-25 17:32:15"}
[25-Mar-2025 17:32:15 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 17:32:16 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.96.1:443...
* Connected to n8n.mazcode.com (104.21.96.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 77]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 77

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 17:32:15 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=Mv21zvAxsGQnaC0XLF1ThrXOslAS8wm%2FquEjX04UM6%2BdkjezxINzrFKUGwsAdOfgFnGX1%2FABoKVpaI7FjGG6yZPfDArVmB%2F%2BGLaiHW8fKoLPNjpGPSBNe%2Fpwoe4I5F%2BtTno%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 92602580bbabed2c-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=105595&min_rtt=100362&rtt_var=30771&sent=7&recv=9&lost=0&retrans=0&sent_bytes=3410&recv_bytes=911&delivery_rate=28297&cwnd=253&unsent_bytes=0&cid=6bacfdd94e6bb863&ts=1009&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 17:32:16 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 17:32:16 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟ هل تبحث عن معلومات معينة أو مساعدة في العثور على شريك مناسب؟
[25-Mar-2025 17:32:16 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 17:32:16 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully with result: مرحبًا! كيف يمكنني مساعدتك اليوم؟ هل تبحث عن معلومات معينة أو مساعدة في العثور على شريك مناسب؟
[25-Mar-2025 17:32:16 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 17:32:16 Europe/London] Saving plugin response to database: مرحبًا! كيف يمكنني مساعدتك اليوم؟ هل تبحث عن معلومات معينة أو مساعدة في العثور على شريك مناسب؟
[25-Mar-2025 17:32:16 Europe/London] Plugin response saved with ID: 92
[25-Mar-2025 17:32:16 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 17:32:16 Europe/London] Sending response to client: {"success":true,"data":{"message":{"id":"91","conversation_id":"121","content":"hello","role":"user"},"assistant_message":{"id":"92","conversation_id":"121","content":"\u0645\u0631\u062d\u0628\u064b\u0627! \u0643\u064a\u0641 \u064a\u0645\u0643\u0646\u0646\u064a \u0645\u0633\u0627\u0639\u062f\u062a\u0643 \u0627\u0644\u064a\u0648\u0645\u061f \u0647\u0644 \u062a\u0628\u062d\u062b \u0639\u0646 \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0645\u0639\u064a\u0646\u0629 \u0623\u0648 \u0645\u0633\u0627\u0639\u062f\u0629 \u0641\u064a \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u0634\u0631\u064a\u0643 \u0645\u0646\u0627\u0633\u0628\u061f","role":"assistant"}}}
[25-Mar-2025 17:37:21 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 17:37:21 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 17:37:21 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 17:37:21 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 17:37:21 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 17:37:21 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 17:37:21 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 17:37:21 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(27): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(227): MessagesController->__construct()
#5 {main}
[25-Mar-2025 17:37:21 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 17:37:21 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 17:37:21 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 17:37:21 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 17:37:21 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 17:37:21 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 17:37:21 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 17:37:21 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 17:37:21 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 17:37:21 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 17:37:21 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 17:37:21 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:37:21 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 17:37:21 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 17:37:21 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 17:37:21 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 17:37:21 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 17:37:21 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 17:37:21 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 17:37:21 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 17:37:21 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 17:37:21 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 17:37:21 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 17:37:21 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 17:37:21 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 17:37:21 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 17:37:21 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 17:37:21 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 17:37:21 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 17:37:21 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:37:21 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 17:37:21 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:37:21 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 17:37:21 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:37:21 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:37:21 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 17:37:21 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 17:37:21 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 17:37:21 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 17:37:21 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 17:37:21 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:37:21 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 17:37:21 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:37:21 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 17:37:21 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:37:21 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:37:21 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 17:37:21 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 17:37:21 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 17:37:21 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 17:37:21 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 17:37:21 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 17:37:21 Europe/London] === Starting message creation process ===
[25-Mar-2025 17:37:21 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 17:37:21 Europe/London] Received message data: {"conversation_id":"122","content":"hi"}
[25-Mar-2025 17:37:21 Europe/London] Message data validation passed
[25-Mar-2025 17:37:21 Europe/London] Fetching conversation and plugin info for conversation ID: 122
[25-Mar-2025 17:37:21 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 17:37:21 Europe/London] Created message data structure
[25-Mar-2025 17:37:21 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 17:37:21 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 17:37:21 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:37:21 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 17:37:21 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 17:37:21 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:37:21 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 17:37:21 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 17:37:21 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"122","content":"hi","role":"user"}
[25-Mar-2025 17:37:21 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 17:37:21 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"122","timestamp":"2025-03-25 17:37:21"}
[25-Mar-2025 17:37:21 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 17:37:22 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.96.1:443...
* Connected to n8n.mazcode.com (104.21.96.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 17:37:21 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=EneMFMuwE%2F0zSKSrwj6aK1Cv0GrHWKkk75FCOkGyCtXqrdLB3qyd%2Fc5f5kYTD5OcTbELc5m3dMeWXDPArXqPYYVv9%2B%2B3iQo5A3IRUZ5K21fEiCxEmqGWin15rhha1ZBm8AY%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 92602cfa8da30e59-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=112626&min_rtt=104926&rtt_var=35397&sent=7&recv=9&lost=0&retrans=0&sent_bytes=3409&recv_bytes=908&delivery_rate=27066&cwnd=253&unsent_bytes=0&cid=792947376fa1dd0f&ts=875&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 17:37:22 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 17:37:22 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 17:37:22 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 17:37:22 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully with result: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 17:37:22 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 17:37:22 Europe/London] Got response from before_send_message: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 17:37:22 Europe/London] Saving message to database
[25-Mar-2025 17:37:22 Europe/London] Message saved successfully with ID: 93
[25-Mar-2025 17:37:22 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 17:37:22 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 17:37:22 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:37:22 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 17:37:22 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 17:37:22 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"122","content":"hi","role":"user"}
[25-Mar-2025 17:37:22 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 17:37:22 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"122","timestamp":"2025-03-25 17:37:22"}
[25-Mar-2025 17:37:22 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 17:37:24 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.96.1:443...
* Connected to n8n.mazcode.com (104.21.96.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 17:37:23 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=LsaEslSjeu0oHh8tsb%2Bg4yJh3LqgqsO06w2UTajXKT9F8Dy%2FzVarcgCt4vBkB7wGXULBJzG4NjnS3dwCrr%2Bzpb%2FXE%2FbAd9cLCOlXKlFTKJtB4qG369mQyge%2BdedFhEIkgrM%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 92602d0158b54bee-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=94949&min_rtt=91643&rtt_var=29321&sent=6&recv=8&lost=0&retrans=0&sent_bytes=3387&recv_bytes=908&delivery_rate=30989&cwnd=247&unsent_bytes=0&cid=11906dc33ca31216&ts=1707&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 17:37:24 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 17:37:24 Europe/London] N8nWebhookHandler: Webhook response: مرحباً! كيف يمكنني مساعدتك اليوم؟ إذا كان لديك أي أسئلة أو تريد البحث عن معلومات حول ملفات تعريف matchmaking، فأنا هنا للمساعدة!
[25-Mar-2025 17:37:24 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 17:37:24 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully with result: مرحباً! كيف يمكنني مساعدتك اليوم؟ إذا كان لديك أي أسئلة أو تريد البحث عن معلومات حول ملفات تعريف matchmaking، فأنا هنا للمساعدة!
[25-Mar-2025 17:37:24 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 17:37:24 Europe/London] Saving plugin response to database: مرحباً! كيف يمكنني مساعدتك اليوم؟ إذا كان لديك أي أسئلة أو تريد البحث عن معلومات حول ملفات تعريف matchmaking، فأنا هنا للمساعدة!
[25-Mar-2025 17:37:24 Europe/London] Plugin response saved with ID: 94
[25-Mar-2025 17:37:24 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 17:37:24 Europe/London] Sending response to client: {"success":true,"data":{"message":{"id":"93","conversation_id":"122","content":"hi","role":"user"},"assistant_message":{"id":"94","conversation_id":"122","content":"\u0645\u0631\u062d\u0628\u0627\u064b! \u0643\u064a\u0641 \u064a\u0645\u0643\u0646\u0646\u064a \u0645\u0633\u0627\u0639\u062f\u062a\u0643 \u0627\u0644\u064a\u0648\u0645\u061f \u0625\u0630\u0627 \u0643\u0627\u0646 \u0644\u062f\u064a\u0643 \u0623\u064a \u0623\u0633\u0626\u0644\u0629 \u0623\u0648 \u062a\u0631\u064a\u062f \u0627\u0644\u0628\u062d\u062b \u0639\u0646 \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u062d\u0648\u0644 \u0645\u0644\u0641\u0627\u062a \u062a\u0639\u0631\u064a\u0641 matchmaking\u060c \u0641\u0623\u0646\u0627 \u0647\u0646\u0627 \u0644\u0644\u0645\u0633\u0627\u0639\u062f\u0629!","role":"assistant"}}}
[25-Mar-2025 17:39:02 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 17:39:02 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 17:39:02 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 17:39:02 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 17:39:02 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 17:39:02 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 17:39:02 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 17:39:02 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(27): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(227): MessagesController->__construct()
#5 {main}
[25-Mar-2025 17:39:02 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 17:39:02 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 17:39:02 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 17:39:02 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 17:39:02 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 17:39:02 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 17:39:02 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 17:39:02 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 17:39:02 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 17:39:02 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 17:39:02 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 17:39:02 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:39:02 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 17:39:02 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 17:39:02 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 17:39:02 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 17:39:02 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 17:39:02 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 17:39:02 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 17:39:02 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 17:39:02 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 17:39:02 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 17:39:02 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 17:39:02 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 17:39:02 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 17:39:02 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 17:39:02 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 17:39:02 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 17:39:02 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 17:39:02 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:39:02 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 17:39:02 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:39:02 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 17:39:02 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:39:02 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:39:02 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 17:39:02 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 17:39:02 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 17:39:02 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 17:39:02 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 17:39:02 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:39:02 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 17:39:02 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:39:02 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 17:39:02 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:39:02 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:39:02 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 17:39:02 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 17:39:02 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 17:39:02 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 17:39:02 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 17:39:02 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 17:39:02 Europe/London] === Starting message creation process ===
[25-Mar-2025 17:39:02 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 17:39:02 Europe/London] Received message data: {"conversation_id":"122","content":"hi"}
[25-Mar-2025 17:39:02 Europe/London] Message data validation passed
[25-Mar-2025 17:39:02 Europe/London] Fetching conversation and plugin info for conversation ID: 122
[25-Mar-2025 17:39:02 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 17:39:02 Europe/London] Created message data structure
[25-Mar-2025 17:39:02 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 17:39:02 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 17:39:02 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:39:02 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 17:39:02 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 17:39:02 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:39:02 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 17:39:02 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 17:39:02 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"122","content":"hi","role":"user"}
[25-Mar-2025 17:39:02 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 17:39:02 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"122","timestamp":"2025-03-25 17:39:02"}
[25-Mar-2025 17:39:02 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 17:39:03 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.96.1:443...
* Connected to n8n.mazcode.com (104.21.96.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 17:39:03 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=%2BhE6s7K7Yy04RCd32Pye%2Bi9HYdf0v87JbhrfHchGCChMFbZjCltsJN9iMO0Uc6QQrFMqfAHFBIFuI5IFxR3eAS3nL7qZE87wZpfAXQqeJYHMpMi%2BA8PBhycyOjpHnBtL0Fk%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 92602f7148c6f41b-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=92918&min_rtt=89321&rtt_var=28065&sent=7&recv=8&lost=0&retrans=0&sent_bytes=3389&recv_bytes=908&delivery_rate=31399&cwnd=252&unsent_bytes=0&cid=d7e92da1bd491d50&ts=1340&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 17:39:03 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 17:39:03 Europe/London] N8nWebhookHandler: Webhook response: مرحباً! كيف يمكنني مساعدتك اليوم في البحث عن شريك مناسب؟ يمكنك إخباري بمعلومات عن ما تبحث عنه.
[25-Mar-2025 17:39:03 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 17:39:03 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully with result: مرحباً! كيف يمكنني مساعدتك اليوم في البحث عن شريك مناسب؟ يمكنك إخباري بمعلومات عن ما تبحث عنه.
[25-Mar-2025 17:39:03 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 17:39:03 Europe/London] Got response from before_send_message: مرحباً! كيف يمكنني مساعدتك اليوم في البحث عن شريك مناسب؟ يمكنك إخباري بمعلومات عن ما تبحث عنه.
[25-Mar-2025 17:39:03 Europe/London] Saving message to database
[25-Mar-2025 17:39:03 Europe/London] Message saved successfully with ID: 95
[25-Mar-2025 17:39:03 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 17:39:03 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 17:39:03 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 17:39:03 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 17:39:03 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 17:39:03 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"122","content":"hi","role":"user"}
[25-Mar-2025 17:39:03 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 17:39:03 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"122","timestamp":"2025-03-25 17:39:03"}
[25-Mar-2025 17:39:03 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 17:39:04 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.96.1:443...
* Connected to n8n.mazcode.com (104.21.96.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 17:39:04 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=3f%2FWUbbgtqp96c%2BmsTasbY%2FCt%2FY4NGBVP1sADbhB7I6CteLPM8K51cSyvWBf6n5wR5khbA%2Br%2B21HsfT62PiNl61I6eEs%2Fk793tqzNioxSMJyZQiq1XRLBFT%2F%2BATq4LSLncg%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 92602f7adf6ebb11-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=86152&min_rtt=84498&rtt_var=26625&sent=6&recv=8&lost=0&retrans=0&sent_bytes=3388&recv_bytes=908&delivery_rate=30972&cwnd=252&unsent_bytes=0&cid=6e566296ec05ab44&ts=819&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 17:39:04 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 17:39:04 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 17:39:04 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 17:39:04 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully with result: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 17:39:04 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 17:39:04 Europe/London] Saving plugin response to database: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 17:39:04 Europe/London] Plugin response saved with ID: 96
[25-Mar-2025 17:39:04 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 17:39:04 Europe/London] Sending response to client: {"success":true,"data":{"message":{"id":"95","conversation_id":"122","content":"hi","role":"user"},"assistant_message":{"id":"96","conversation_id":"122","content":"\u0645\u0631\u062d\u0628\u064b\u0627! \u0643\u064a\u0641 \u064a\u0645\u0643\u0646\u0646\u064a \u0645\u0633\u0627\u0639\u062f\u062a\u0643 \u0627\u0644\u064a\u0648\u0645\u061f","role":"assistant"}}}
[25-Mar-2025 20:27:10 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 20:27:10 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 20:27:10 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 20:27:10 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 20:27:10 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 20:27:10 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 20:27:10 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 20:27:10 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(27): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(227): MessagesController->__construct()
#5 {main}
[25-Mar-2025 20:27:10 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 20:27:10 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 20:27:10 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 20:27:10 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 20:27:10 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 20:27:10 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 20:27:10 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 20:27:10 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 20:27:10 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 20:27:10 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 20:27:10 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 20:27:10 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:27:10 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 20:27:10 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 20:27:10 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 20:27:10 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 20:27:10 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 20:27:10 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 20:27:10 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 20:27:10 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 20:27:10 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 20:27:10 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 20:27:10 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 20:27:10 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 20:27:10 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 20:27:10 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 20:27:10 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 20:27:10 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 20:27:10 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 20:27:10 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:27:10 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 20:27:10 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:27:10 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 20:27:10 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:27:10 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:27:10 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 20:27:10 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 20:27:10 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 20:27:10 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 20:27:10 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 20:27:10 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:27:10 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 20:27:10 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:27:10 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 20:27:10 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:27:10 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:27:10 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 20:27:10 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 20:27:10 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 20:27:10 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 20:27:10 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 20:27:10 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 20:27:10 Europe/London] === Starting message creation process ===
[25-Mar-2025 20:27:10 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 20:27:10 Europe/London] Received message data: {"conversation_id":"123","content":"Hello"}
[25-Mar-2025 20:27:10 Europe/London] Message data validation passed
[25-Mar-2025 20:27:10 Europe/London] Fetching conversation and plugin info for conversation ID: 123
[25-Mar-2025 20:27:10 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 20:27:10 Europe/London] Created message data structure
[25-Mar-2025 20:27:10 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 20:27:10 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 20:27:10 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:27:10 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 20:27:10 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 20:27:10 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:27:10 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 20:27:10 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 20:27:10 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"123","content":"Hello","role":"user"}
[25-Mar-2025 20:27:10 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 20:27:10 Europe/London] N8nWebhookHandler: Sending request data: {"message":"Hello","conversation_id":"123","timestamp":"2025-03-25 20:27:10"}
[25-Mar-2025 20:27:10 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 20:27:10 Europe/London] N8nWebhookHandler: Verbose curl output:
* Could not resolve host: n8n.mazcode.com
* Closing connection

[25-Mar-2025 20:27:10 Europe/London] N8nWebhookHandler ERROR: Webhook request failed: Could not resolve host: n8n.mazcode.com
[25-Mar-2025 20:27:10 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully with result: null
[25-Mar-2025 20:27:10 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 20:27:10 Europe/London] Saving message to database
[25-Mar-2025 20:27:10 Europe/London] Message saved successfully with ID: 97
[25-Mar-2025 20:27:10 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 20:27:10 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 20:27:10 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:27:10 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 20:27:10 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 20:27:10 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"123","content":"Hello","role":"user"}
[25-Mar-2025 20:27:10 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 20:27:10 Europe/London] N8nWebhookHandler: Sending request data: {"message":"Hello","conversation_id":"123","timestamp":"2025-03-25 20:27:10"}
[25-Mar-2025 20:27:10 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 20:27:10 Europe/London] N8nWebhookHandler: Verbose curl output:
* Could not resolve host: n8n.mazcode.com
* Closing connection

[25-Mar-2025 20:27:10 Europe/London] N8nWebhookHandler ERROR: Webhook request failed: Could not resolve host: n8n.mazcode.com
[25-Mar-2025 20:27:10 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully with result: null
[25-Mar-2025 20:27:10 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 20:27:10 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 20:27:10 Europe/London] Sending response to client: {"success":true,"data":{"message":{"id":"97","conversation_id":"123","content":"Hello","role":"user"},"assistant_message":null}}
[25-Mar-2025 20:27:35 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 20:27:35 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 20:27:35 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 20:27:35 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 20:27:35 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 20:27:35 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 20:27:35 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 20:27:35 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(27): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(227): MessagesController->__construct()
#5 {main}
[25-Mar-2025 20:27:35 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 20:27:35 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 20:27:35 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 20:27:35 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 20:27:35 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 20:27:35 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 20:27:35 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 20:27:35 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 20:27:35 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 20:27:35 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 20:27:35 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 20:27:35 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:27:35 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 20:27:35 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 20:27:35 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 20:27:35 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 20:27:35 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 20:27:35 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 20:27:35 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 20:27:35 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 20:27:35 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 20:27:35 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 20:27:35 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 20:27:35 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 20:27:35 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 20:27:35 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 20:27:35 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 20:27:35 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 20:27:35 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 20:27:35 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:27:35 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 20:27:35 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:27:35 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 20:27:35 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:27:35 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:27:35 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 20:27:35 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 20:27:35 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 20:27:35 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 20:27:35 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 20:27:35 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:27:35 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 20:27:35 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:27:35 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 20:27:35 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:27:35 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:27:35 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 20:27:35 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 20:27:35 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 20:27:35 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 20:27:35 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 20:27:35 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 20:27:35 Europe/London] === Starting message creation process ===
[25-Mar-2025 20:27:35 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 20:27:35 Europe/London] Received message data: {"conversation_id":"124","content":"jo"}
[25-Mar-2025 20:27:35 Europe/London] Message data validation passed
[25-Mar-2025 20:27:35 Europe/London] Fetching conversation and plugin info for conversation ID: 124
[25-Mar-2025 20:27:35 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 20:27:35 Europe/London] Created message data structure
[25-Mar-2025 20:27:35 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 20:27:35 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 20:27:35 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:27:35 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 20:27:35 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 20:27:35 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:27:35 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 20:27:35 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 20:27:35 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"124","content":"jo","role":"user"}
[25-Mar-2025 20:27:35 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 20:27:35 Europe/London] N8nWebhookHandler: Sending request data: {"message":"jo","conversation_id":"124","timestamp":"2025-03-25 20:27:35"}
[25-Mar-2025 20:27:35 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 20:27:35 Europe/London] N8nWebhookHandler: Verbose curl output:
* Could not resolve host: n8n.mazcode.com
* Closing connection

[25-Mar-2025 20:27:35 Europe/London] N8nWebhookHandler ERROR: Webhook request failed: Could not resolve host: n8n.mazcode.com
[25-Mar-2025 20:27:35 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully with result: null
[25-Mar-2025 20:27:35 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 20:27:35 Europe/London] Saving message to database
[25-Mar-2025 20:27:35 Europe/London] Message saved successfully with ID: 98
[25-Mar-2025 20:27:35 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 20:27:35 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 20:27:35 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:27:35 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 20:27:35 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 20:27:35 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"124","content":"jo","role":"user"}
[25-Mar-2025 20:27:35 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 20:27:35 Europe/London] N8nWebhookHandler: Sending request data: {"message":"jo","conversation_id":"124","timestamp":"2025-03-25 20:27:35"}
[25-Mar-2025 20:27:35 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 20:27:35 Europe/London] N8nWebhookHandler: Verbose curl output:
* Could not resolve host: n8n.mazcode.com
* Closing connection

[25-Mar-2025 20:27:35 Europe/London] N8nWebhookHandler ERROR: Webhook request failed: Could not resolve host: n8n.mazcode.com
[25-Mar-2025 20:27:35 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully with result: null
[25-Mar-2025 20:27:35 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 20:27:35 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 20:27:35 Europe/London] Sending response to client: {"success":true,"data":{"message":{"id":"98","conversation_id":"124","content":"jo","role":"user"},"assistant_message":null}}
[25-Mar-2025 20:27:59 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 20:27:59 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 20:27:59 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 20:27:59 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 20:27:59 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 20:27:59 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 20:27:59 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 20:27:59 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(27): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(227): MessagesController->__construct()
#5 {main}
[25-Mar-2025 20:27:59 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 20:27:59 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 20:27:59 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 20:27:59 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 20:27:59 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 20:27:59 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 20:27:59 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 20:27:59 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 20:27:59 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 20:27:59 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 20:27:59 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 20:27:59 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:27:59 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 20:27:59 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 20:27:59 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 20:27:59 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 20:27:59 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 20:27:59 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 20:27:59 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 20:27:59 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 20:27:59 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 20:27:59 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 20:27:59 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 20:27:59 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 20:27:59 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 20:27:59 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 20:27:59 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 20:27:59 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 20:27:59 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 20:27:59 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:27:59 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 20:27:59 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:27:59 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 20:27:59 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:27:59 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:27:59 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 20:27:59 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 20:27:59 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 20:27:59 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 20:27:59 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 20:27:59 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:27:59 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 20:27:59 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:27:59 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 20:27:59 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:27:59 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:27:59 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 20:27:59 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 20:27:59 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 20:27:59 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 20:27:59 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 20:27:59 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 20:27:59 Europe/London] === Starting message creation process ===
[25-Mar-2025 20:27:59 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 20:27:59 Europe/London] Received message data: {"conversation_id":"125","content":"hi"}
[25-Mar-2025 20:27:59 Europe/London] Message data validation passed
[25-Mar-2025 20:27:59 Europe/London] Fetching conversation and plugin info for conversation ID: 125
[25-Mar-2025 20:28:00 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 20:28:00 Europe/London] Created message data structure
[25-Mar-2025 20:28:00 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 20:28:00 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 20:28:00 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:28:00 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 20:28:00 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 20:28:00 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:28:00 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 20:28:00 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 20:28:00 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"125","content":"hi","role":"user"}
[25-Mar-2025 20:28:00 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 20:28:00 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"125","timestamp":"2025-03-25 20:28:00"}
[25-Mar-2025 20:28:00 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 20:28:00 Europe/London] N8nWebhookHandler: Verbose curl output:
* Could not resolve host: n8n.mazcode.com
* Closing connection

[25-Mar-2025 20:28:00 Europe/London] N8nWebhookHandler ERROR: Webhook request failed: Could not resolve host: n8n.mazcode.com
[25-Mar-2025 20:28:00 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully with result: null
[25-Mar-2025 20:28:00 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 20:28:00 Europe/London] Saving message to database
[25-Mar-2025 20:28:00 Europe/London] Message saved successfully with ID: 99
[25-Mar-2025 20:28:00 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 20:28:00 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 20:28:00 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:28:00 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 20:28:00 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 20:28:00 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"125","content":"hi","role":"user"}
[25-Mar-2025 20:28:00 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 20:28:00 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"125","timestamp":"2025-03-25 20:28:00"}
[25-Mar-2025 20:28:00 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 20:28:00 Europe/London] N8nWebhookHandler: Verbose curl output:
* Could not resolve host: n8n.mazcode.com
* Closing connection

[25-Mar-2025 20:28:00 Europe/London] N8nWebhookHandler ERROR: Webhook request failed: Could not resolve host: n8n.mazcode.com
[25-Mar-2025 20:28:00 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully with result: null
[25-Mar-2025 20:28:00 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 20:28:00 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 20:28:00 Europe/London] Sending response to client: {"success":true,"data":{"message":{"id":"99","conversation_id":"125","content":"hi","role":"user"},"assistant_message":null}}
[25-Mar-2025 20:33:22 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 20:33:22 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 20:33:22 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 20:33:22 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 20:33:22 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 20:33:22 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 20:33:22 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 20:33:22 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(27): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(227): MessagesController->__construct()
#5 {main}
[25-Mar-2025 20:33:22 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 20:33:22 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 20:33:22 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 20:33:22 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 20:33:22 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 20:33:22 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 20:33:22 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 20:33:22 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 20:33:22 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 20:33:22 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 20:33:22 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 20:33:22 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:33:22 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 20:33:22 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 20:33:22 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 20:33:22 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 20:33:22 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 20:33:22 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 20:33:22 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 20:33:22 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 20:33:22 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 20:33:22 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 20:33:22 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 20:33:22 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 20:33:22 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 20:33:22 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 20:33:22 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 20:33:22 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 20:33:22 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 20:33:22 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:33:22 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 20:33:22 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:33:22 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 20:33:22 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:33:22 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:33:22 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 20:33:22 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 20:33:22 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 20:33:22 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 20:33:22 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 20:33:22 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:33:22 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 20:33:22 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:33:22 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 20:33:22 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:33:22 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:33:22 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 20:33:22 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 20:33:22 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 20:33:22 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 20:33:22 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 20:33:22 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 20:33:22 Europe/London] === Starting message creation process ===
[25-Mar-2025 20:33:22 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 20:33:22 Europe/London] Received message data: {"conversation_id":"125","content":"hi"}
[25-Mar-2025 20:33:22 Europe/London] Message data validation passed
[25-Mar-2025 20:33:22 Europe/London] Fetching conversation and plugin info for conversation ID: 125
[25-Mar-2025 20:33:22 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 20:33:22 Europe/London] Created message data structure
[25-Mar-2025 20:33:22 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 20:33:22 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 20:33:22 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:33:22 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 20:33:22 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 20:33:22 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:33:22 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 20:33:22 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 20:33:22 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"125","content":"hi","role":"user"}
[25-Mar-2025 20:33:22 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 20:33:22 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"125","timestamp":"2025-03-25 20:33:22"}
[25-Mar-2025 20:33:22 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 20:33:24 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying [2606:4700:3030::6815:6001]:443...
* Connected to n8n.mazcode.com (2606:4700:3030::6815:6001) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 20:33:24 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=6P4Nz4RRkXd39GGMmaTVkeATnKGYXtcXaEU2VBpiKoSpjmNZ4n%2BJ9Qh6J7piMfLDhLnoMiZFIJE0pqmsBDy2kt%2FNq0hBIK3w%2BRKxJbYHlxkgKBMCm1m9u3OMwce1vIfGCFJC2EAgdZuc34dH3kk%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 92612ed8e8fbee79-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=143659&min_rtt=135613&rtt_var=66947&sent=8&recv=9&lost=0&retrans=1&sent_bytes=3501&recv_bytes=908&delivery_rate=13601&cwnd=254&unsent_bytes=0&cid=a2dfd5ed173f3ad4&ts=1655&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 20:33:24 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 20:33:24 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم في العثور على شريك حياتك المثالي؟
[25-Mar-2025 20:33:24 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 20:33:24 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully with result: مرحبًا! كيف يمكنني مساعدتك اليوم في العثور على شريك حياتك المثالي؟
[25-Mar-2025 20:33:24 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 20:33:24 Europe/London] Got response from before_send_message: مرحبًا! كيف يمكنني مساعدتك اليوم في العثور على شريك حياتك المثالي؟
[25-Mar-2025 20:33:24 Europe/London] Saving message to database
[25-Mar-2025 20:33:24 Europe/London] Message saved successfully with ID: 100
[25-Mar-2025 20:33:24 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 20:33:24 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 20:33:24 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:33:24 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 20:33:24 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 20:33:24 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"125","content":"hi","role":"user"}
[25-Mar-2025 20:33:25 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 20:33:25 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"125","timestamp":"2025-03-25 20:33:25"}
[25-Mar-2025 20:33:25 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 20:33:26 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying [2606:4700:3030::6815:6001]:443...
* Connected to n8n.mazcode.com (2606:4700:3030::6815:6001) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 20:33:26 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=n1%2BNuXKBbeHCvPU87GoIlmcAfHeeH8bcuhMRTqwhJcCxxPqLLbu0uNbijIoD41a0SolT2nh%2Bf7lKAl4WNdvSIT4hTrbj7Fd%2F1pbHZiHN6GwxwdL7mGdZx%2FnStsj6D7lqP07A5AisCr96QdaSfCQ%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 92612ee37cb8ed9e-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=138848&min_rtt=131087&rtt_var=52320&sent=8&recv=9&lost=0&retrans=0&sent_bytes=3411&recv_bytes=908&delivery_rate=30860&cwnd=254&unsent_bytes=0&cid=5d6d844365dac36b&ts=1487&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 20:33:26 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 20:33:26 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم في العثور على شريك الحياة المثالي؟
[25-Mar-2025 20:33:26 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 20:33:26 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully with result: مرحبًا! كيف يمكنني مساعدتك اليوم في العثور على شريك الحياة المثالي؟
[25-Mar-2025 20:33:26 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 20:33:26 Europe/London] Saving plugin response to database: مرحبًا! كيف يمكنني مساعدتك اليوم في العثور على شريك الحياة المثالي؟
[25-Mar-2025 20:33:26 Europe/London] Plugin response saved with ID: 101
[25-Mar-2025 20:33:26 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 20:33:26 Europe/London] Sending response to client: {"success":true,"data":{"message":{"id":"100","conversation_id":"125","content":"hi","role":"user"},"assistant_message":{"id":"101","conversation_id":"125","content":"\u0645\u0631\u062d\u0628\u064b\u0627! \u0643\u064a\u0641 \u064a\u0645\u0643\u0646\u0646\u064a \u0645\u0633\u0627\u0639\u062f\u062a\u0643 \u0627\u0644\u064a\u0648\u0645 \u0641\u064a \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u0634\u0631\u064a\u0643 \u0627\u0644\u062d\u064a\u0627\u0629 \u0627\u0644\u0645\u062b\u0627\u0644\u064a\u061f","role":"assistant"}}}
[25-Mar-2025 20:41:58 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 20:41:58 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 20:41:58 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 20:41:58 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 20:41:58 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 20:41:58 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 20:41:58 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 20:41:58 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(27): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(231): MessagesController->__construct()
#5 {main}
[25-Mar-2025 20:41:58 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 20:41:58 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 20:41:58 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 20:41:58 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 20:41:58 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 20:41:58 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 20:41:58 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 20:41:58 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 20:41:58 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 20:41:58 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 20:41:58 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 20:41:58 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:41:58 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 20:41:58 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 20:41:58 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 20:41:58 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 20:41:58 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 20:41:58 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 20:41:58 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 20:41:58 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 20:41:58 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 20:41:58 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 20:41:58 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 20:41:58 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 20:41:58 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 20:41:58 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 20:41:58 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 20:41:58 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 20:41:58 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 20:41:58 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:41:58 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 20:41:58 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:41:58 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 20:41:58 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:41:58 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:41:58 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 20:41:58 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 20:41:58 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 20:41:58 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 20:41:58 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 20:41:58 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:41:58 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 20:41:58 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:41:58 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 20:41:58 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:41:58 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:41:58 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 20:41:58 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 20:41:58 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 20:41:58 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 20:41:58 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 20:41:58 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 20:41:58 Europe/London] === Starting message creation process ===
[25-Mar-2025 20:41:58 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 20:41:58 Europe/London] Received message data: {"conversation_id":"126","content":"hi"}
[25-Mar-2025 20:41:58 Europe/London] Message data validation passed
[25-Mar-2025 20:41:58 Europe/London] Fetching conversation and plugin info for conversation ID: 126
[25-Mar-2025 20:41:58 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 20:41:58 Europe/London] Created message data structure
[25-Mar-2025 20:41:58 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 20:41:58 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 20:41:58 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:41:58 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 20:41:58 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 20:41:58 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:41:58 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 20:41:58 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 20:41:58 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"126","content":"hi","role":"user"}
[25-Mar-2025 20:41:58 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 20:41:58 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"126","timestamp":"2025-03-25 20:41:58"}
[25-Mar-2025 20:41:58 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 20:42:00 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying [2606:4700:3030::6815:4001]:443...
* Connected to n8n.mazcode.com (2606:4700:3030::6815:4001) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 20:42:00 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=vzJuNEk0iH3c8nOM06m7HiA86W11fi6FAHNRsbxaZhXXnoaQvm1kUOHfbGnqojTLD%2BP%2F2jgwynVZn3Zfgn9zOfzjl7TdF8mMCPPZVkb7mtCZ31dOl2C089mwqVo7HTMSM7bzzPoKMLV4B%2BoJ4PI%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 92613b712cce4c48-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=133048&min_rtt=120298&rtt_var=39859&sent=8&recv=9&lost=0&retrans=0&sent_bytes=3410&recv_bytes=908&delivery_rate=29758&cwnd=254&unsent_bytes=0&cid=5401941c84d0a5db&ts=957&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 20:42:00 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 20:42:00 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 20:42:00 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 20:42:00 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully with result: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 20:42:00 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 20:42:00 Europe/London] Got response from before_send_message: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 20:42:00 Europe/London] Saving message to database
[25-Mar-2025 20:42:00 Europe/London] Message saved successfully with ID: 102
[25-Mar-2025 20:42:00 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 20:42:00 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 20:42:00 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:42:00 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 20:42:00 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 20:42:00 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"126","content":"hi","role":"user"}
[25-Mar-2025 20:42:00 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 20:42:00 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"126","timestamp":"2025-03-25 20:42:00"}
[25-Mar-2025 20:42:00 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 20:42:02 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying [2606:4700:3030::6815:4001]:443...
*   Trying 104.21.48.1:443...
* Connected to n8n.mazcode.com (2606:4700:3030::6815:4001) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 20:42:02 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=%2FHJCg7yJ657mEK6N8RavOtcldgiIG9K4CtPu8JZEIuuPNhfSRopibwv6%2B5XDQs5Lff2oGH5TdQJvVId7cnhwETNiH9ZsWJgxLvZ03naircYaAD1f0hjFA4Lkgq5b4cM1Zyay2u0ugqEbcNgS58Q%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 92613b7aea9cee50-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=250623&min_rtt=188126&rtt_var=91010&sent=7&recv=9&lost=0&retrans=0&sent_bytes=3389&recv_bytes=908&delivery_rate=17305&cwnd=253&unsent_bytes=0&cid=62ca408ad5b36948&ts=1746&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 20:42:02 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 20:42:02 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟ هل تبحث عن معلومات معينة أو ترغب في الحصول على مساعدة في البحث عن شريك؟
[25-Mar-2025 20:42:02 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 20:42:02 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully with result: مرحبًا! كيف يمكنني مساعدتك اليوم؟ هل تبحث عن معلومات معينة أو ترغب في الحصول على مساعدة في البحث عن شريك؟
[25-Mar-2025 20:42:02 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 20:42:02 Europe/London] Saving plugin response to database: مرحبًا! كيف يمكنني مساعدتك اليوم؟ هل تبحث عن معلومات معينة أو ترغب في الحصول على مساعدة في البحث عن شريك؟
[25-Mar-2025 20:42:02 Europe/London] Plugin response saved with ID: 103
[25-Mar-2025 20:42:02 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 20:42:02 Europe/London] Sending response to client: {"success":true,"message":"Message sent successfully","data":{"success":true,"data":{"message":{"id":"102","conversation_id":"126","content":"hi","role":"user"},"assistant_message":{"id":"103","conversation_id":"126","content":"\u0645\u0631\u062d\u0628\u064b\u0627! \u0643\u064a\u0641 \u064a\u0645\u0643\u0646\u0646\u064a \u0645\u0633\u0627\u0639\u062f\u062a\u0643 \u0627\u0644\u064a\u0648\u0645\u061f \u0647\u0644 \u062a\u0628\u062d\u062b \u0639\u0646 \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0645\u0639\u064a\u0646\u0629 \u0623\u0648 \u062a\u0631\u063a\u0628 \u0641\u064a \u0627\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u0645\u0633\u0627\u0639\u062f\u0629 \u0641\u064a \u0627\u0644\u0628\u062d\u062b \u0639\u0646 \u0634\u0631\u064a\u0643\u061f","role":"assistant"}}}}
[25-Mar-2025 20:43:36 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 20:43:36 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 20:43:36 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 20:43:36 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 20:43:36 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 20:43:36 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 20:43:36 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 20:43:36 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(27): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(227): MessagesController->__construct()
#5 {main}
[25-Mar-2025 20:43:36 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 20:43:36 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 20:43:36 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 20:43:36 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 20:43:36 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 20:43:36 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 20:43:36 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 20:43:36 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 20:43:36 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 20:43:36 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 20:43:36 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 20:43:36 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:43:36 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 20:43:36 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 20:43:36 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 20:43:36 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 20:43:36 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 20:43:36 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 20:43:36 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 20:43:36 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 20:43:36 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 20:43:36 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 20:43:36 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 20:43:36 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 20:43:36 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 20:43:36 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 20:43:36 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 20:43:36 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 20:43:36 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 20:43:36 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:43:36 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 20:43:36 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:43:36 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 20:43:36 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:43:36 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:43:36 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 20:43:36 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 20:43:36 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 20:43:36 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 20:43:36 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 20:43:36 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:43:36 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 20:43:36 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:43:36 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 20:43:36 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:43:36 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:43:36 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 20:43:36 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 20:43:36 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 20:43:36 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 20:43:36 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 20:43:36 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 20:43:36 Europe/London] === Starting message creation process ===
[25-Mar-2025 20:43:36 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 20:43:36 Europe/London] Received message data: {"conversation_id":"127","content":"hi"}
[25-Mar-2025 20:43:36 Europe/London] Message data validation passed
[25-Mar-2025 20:43:36 Europe/London] Fetching conversation and plugin info for conversation ID: 127
[25-Mar-2025 20:43:36 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 20:43:36 Europe/London] Created message data structure
[25-Mar-2025 20:43:36 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 20:43:36 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 20:43:36 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:43:36 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 20:43:36 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 20:43:36 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:43:36 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 20:43:36 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 20:43:36 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"127","content":"hi","role":"user"}
[25-Mar-2025 20:43:36 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 20:43:36 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"127","timestamp":"2025-03-25 20:43:36"}
[25-Mar-2025 20:43:36 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 20:43:38 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying [2606:4700:3030::6815:4001]:443...
*   Trying 104.21.48.1:443...
* Connected to n8n.mazcode.com (2606:4700:3030::6815:4001) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 20:43:38 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=ofvhRDWpGWpauHZf72PXjuag%2F%2FMNsK5%2F0WVsy8q7y8rgeyBms0KckVHFjEGKZy36PCOMCsjxwGIaWUm07MnYutR3oSFJsb%2FE%2B%2F47GcVtPsCS5B%2FaORv5kEVJpyz9Xkr88sAESm3ry2Ct%2BVBZ0Tw%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 92613dd62e9c0e97-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=295357&min_rtt=208603&rtt_var=108664&sent=8&recv=8&lost=0&retrans=0&sent_bytes=3388&recv_bytes=908&delivery_rate=15107&cwnd=253&unsent_bytes=0&cid=c3a752dab900f28a&ts=1366&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 20:43:38 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 20:43:38 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 20:43:38 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 20:43:38 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully with result: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 20:43:38 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 20:43:38 Europe/London] Got response from before_send_message: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 20:43:38 Europe/London] Saving message to database
[25-Mar-2025 20:43:38 Europe/London] Message saved successfully with ID: 104
[25-Mar-2025 20:43:38 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 20:43:38 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 20:43:38 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:43:38 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 20:43:38 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 20:43:38 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"127","content":"hi","role":"user"}
[25-Mar-2025 20:43:38 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 20:43:38 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"127","timestamp":"2025-03-25 20:43:38"}
[25-Mar-2025 20:43:38 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 20:43:40 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying [2606:4700:3030::6815:4001]:443...
* Connected to n8n.mazcode.com (2606:4700:3030::6815:4001) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 20:43:40 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=OfEyI%2FiBlBQ9iwxUnXWjD0xdzw%2B1HwPEm7KI%2BIp%2Fx3NB1ghgryuR7nscY90jPWpTx%2BSl8B47MJjFpk8daYaER1H%2F6oFT0cFm%2BI%2B8VkmwBIPX9%2FAdyaXsmJ1B9kCV4aWKMEGNDtECesg3bYF%2FC0M%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 92613ddf7a5b55db-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=129178&min_rtt=120451&rtt_var=41592&sent=8&recv=9&lost=0&retrans=0&sent_bytes=3411&recv_bytes=908&delivery_rate=30811&cwnd=254&unsent_bytes=0&cid=3acfe8efff721006&ts=1429&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 20:43:40 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 20:43:40 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟ إذا كنت تبحث عن شريك محتمل أو لديك أي استفسارات، فلا تتردد في إخباري.
[25-Mar-2025 20:43:40 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 20:43:40 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully with result: مرحبًا! كيف يمكنني مساعدتك اليوم؟ إذا كنت تبحث عن شريك محتمل أو لديك أي استفسارات، فلا تتردد في إخباري.
[25-Mar-2025 20:43:40 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 20:43:40 Europe/London] Saving plugin response to database: مرحبًا! كيف يمكنني مساعدتك اليوم؟ إذا كنت تبحث عن شريك محتمل أو لديك أي استفسارات، فلا تتردد في إخباري.
[25-Mar-2025 20:43:40 Europe/London] Plugin response saved with ID: 105
[25-Mar-2025 20:43:40 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 20:43:40 Europe/London] Sending response to client: {"success":true,"data":{"message":{"id":"104","conversation_id":"127","content":"hi","role":"user"},"assistant_message":{"id":"105","conversation_id":"127","content":"\u0645\u0631\u062d\u0628\u064b\u0627! \u0643\u064a\u0641 \u064a\u0645\u0643\u0646\u0646\u064a \u0645\u0633\u0627\u0639\u062f\u062a\u0643 \u0627\u0644\u064a\u0648\u0645\u061f \u0625\u0630\u0627 \u0643\u0646\u062a \u062a\u0628\u062d\u062b \u0639\u0646 \u0634\u0631\u064a\u0643 \u0645\u062d\u062a\u0645\u0644 \u0623\u0648 \u0644\u062f\u064a\u0643 \u0623\u064a \u0627\u0633\u062a\u0641\u0633\u0627\u0631\u0627\u062a\u060c \u0641\u0644\u0627 \u062a\u062a\u0631\u062f\u062f \u0641\u064a \u0625\u062e\u0628\u0627\u0631\u064a.","role":"assistant"}}}
[25-Mar-2025 20:45:13 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 20:45:13 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 20:45:13 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 20:45:13 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 20:45:13 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 20:45:13 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 20:45:13 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 20:45:13 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(27): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(227): MessagesController->__construct()
#5 {main}
[25-Mar-2025 20:45:13 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 20:45:13 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 20:45:13 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 20:45:13 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 20:45:13 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 20:45:13 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 20:45:13 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 20:45:13 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 20:45:13 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 20:45:13 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 20:45:13 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 20:45:13 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:45:13 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 20:45:13 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 20:45:13 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 20:45:13 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 20:45:13 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 20:45:13 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 20:45:13 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 20:45:13 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 20:45:13 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 20:45:13 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 20:45:13 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 20:45:13 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 20:45:13 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 20:45:13 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 20:45:13 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 20:45:13 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 20:45:13 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 20:45:13 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:45:13 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 20:45:13 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:45:13 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 20:45:13 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:45:13 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:45:13 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 20:45:13 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 20:45:13 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 20:45:13 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 20:45:13 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 20:45:13 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:45:13 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 20:45:13 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:45:13 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 20:45:13 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:45:13 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:45:13 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 20:45:13 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 20:45:13 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 20:45:13 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 20:45:13 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 20:45:13 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 20:45:13 Europe/London] === Starting message creation process ===
[25-Mar-2025 20:45:13 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 20:45:13 Europe/London] Received message data: {"conversation_id":"128","content":"hi"}
[25-Mar-2025 20:45:13 Europe/London] Message data validation passed
[25-Mar-2025 20:45:13 Europe/London] Fetching conversation and plugin info for conversation ID: 128
[25-Mar-2025 20:45:13 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 20:45:13 Europe/London] Created message data structure
[25-Mar-2025 20:45:13 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 20:45:13 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 20:45:13 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:45:13 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 20:45:13 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 20:45:13 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:45:13 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 20:45:13 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 20:45:13 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"128","content":"hi","role":"user"}
[25-Mar-2025 20:45:13 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 20:45:13 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"128","timestamp":"2025-03-25 20:45:13"}
[25-Mar-2025 20:45:13 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 20:45:16 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying [2606:4700:3030::6815:4001]:443...
* Connected to n8n.mazcode.com (2606:4700:3030::6815:4001) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 20:45:14 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=gTH3fS1qNaThco0w0PIkR8YC1Vtf6Z0Y0KGQiyryxCOSOjtEmXGRNvpeeWuKWnPh7plxzAC5Z6a%2F9D%2BGBXGHMaygmqrmcP3R1fJLFMCubT0PhEEx%2B94YGTspNep7GokbVuMEhYQ3eHU6T4gMgh0%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 9261402f0928bab8-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=129304&min_rtt=125000&rtt_var=49949&sent=9&recv=7&lost=1&retrans=2&sent_bytes=4494&recv_bytes=877&delivery_rate=32640&cwnd=1&unsent_bytes=0&cid=965e8eda3dcdc563&ts=1327&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 20:45:16 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 20:45:16 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟ إذا كنت تبحث عن معلومات أو تحتاج إلى المساعدة في العثور على شريك مناسب، فلا تتردد في إخباري!
[25-Mar-2025 20:45:16 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 20:45:16 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully with result: مرحبًا! كيف يمكنني مساعدتك اليوم؟ إذا كنت تبحث عن معلومات أو تحتاج إلى المساعدة في العثور على شريك مناسب، فلا تتردد في إخباري!
[25-Mar-2025 20:45:16 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 20:45:16 Europe/London] Got response from before_send_message: مرحبًا! كيف يمكنني مساعدتك اليوم؟ إذا كنت تبحث عن معلومات أو تحتاج إلى المساعدة في العثور على شريك مناسب، فلا تتردد في إخباري!
[25-Mar-2025 20:45:16 Europe/London] Saving message to database
[25-Mar-2025 20:45:16 Europe/London] Message saved successfully with ID: 106
[25-Mar-2025 20:45:16 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 20:45:16 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 20:45:16 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:45:16 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 20:45:16 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 20:45:16 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"128","content":"hi","role":"user"}
[25-Mar-2025 20:45:16 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 20:45:16 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"128","timestamp":"2025-03-25 20:45:16"}
[25-Mar-2025 20:45:16 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 20:45:18 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying [2606:4700:3030::6815:4001]:443...
* Connected to n8n.mazcode.com (2606:4700:3030::6815:4001) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 20:45:18 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=Z4ZyGoZJIJY3WjVaZRBFc3KHjhK1iUC3LVjTXdqLy3zybsZqqTV1Zn4TQxandgZJEY3IMiRIzsv8UZco%2F29Iu%2B%2Bjib%2BhLy6%2BDXsYTP2KOe9qk4B043hLLdUrcHxwBnKrQftxxhcc5zelm46Fmwk%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 926140451cb20e52-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=116593&min_rtt=109436&rtt_var=37151&sent=7&recv=8&lost=0&retrans=0&sent_bytes=3389&recv_bytes=908&delivery_rate=37208&cwnd=253&unsent_bytes=0&cid=83493124a72f413a&ts=1238&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 20:45:18 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 20:45:18 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 20:45:18 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 20:45:18 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully with result: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 20:45:18 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 20:45:18 Europe/London] Saving plugin response to database: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 20:45:18 Europe/London] Plugin response saved with ID: 107
[25-Mar-2025 20:45:18 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 20:45:18 Europe/London] Sending response to client: {"success":true,"data":{"message":{"id":"106","conversation_id":"128","content":"hi","role":"user"},"assistant_message":{"id":"107","conversation_id":"128","content":"\u0645\u0631\u062d\u0628\u064b\u0627! \u0643\u064a\u0641 \u064a\u0645\u0643\u0646\u0646\u064a \u0645\u0633\u0627\u0639\u062f\u062a\u0643 \u0627\u0644\u064a\u0648\u0645\u061f","role":"assistant"}}}
[25-Mar-2025 20:46:16 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 20:46:16 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 20:46:16 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 20:46:16 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 20:46:16 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 20:46:16 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 20:46:16 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 20:46:16 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(27): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(227): MessagesController->__construct()
#5 {main}
[25-Mar-2025 20:46:16 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 20:46:16 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 20:46:16 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 20:46:16 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 20:46:16 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 20:46:16 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 20:46:16 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 20:46:16 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 20:46:16 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 20:46:16 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 20:46:16 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 20:46:16 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:46:16 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 20:46:16 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 20:46:16 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 20:46:16 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 20:46:16 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 20:46:16 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 20:46:16 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 20:46:16 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 20:46:16 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 20:46:16 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 20:46:16 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 20:46:16 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 20:46:16 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 20:46:16 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 20:46:16 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 20:46:16 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 20:46:16 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 20:46:16 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:46:16 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 20:46:16 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:46:16 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 20:46:16 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:46:16 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:46:16 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 20:46:16 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 20:46:16 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 20:46:16 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 20:46:16 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 20:46:16 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:46:16 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 20:46:16 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:46:16 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 20:46:16 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:46:16 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:46:16 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 20:46:16 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 20:46:16 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 20:46:16 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 20:46:16 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 20:46:16 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 20:46:16 Europe/London] === Starting message creation process ===
[25-Mar-2025 20:46:16 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 20:46:16 Europe/London] Received message data: {"conversation_id":"129","content":"hi"}
[25-Mar-2025 20:46:16 Europe/London] Message data validation passed
[25-Mar-2025 20:46:16 Europe/London] Fetching conversation and plugin info for conversation ID: 129
[25-Mar-2025 20:46:16 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 20:46:16 Europe/London] Created message data structure
[25-Mar-2025 20:46:16 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 20:46:16 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 20:46:16 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:46:16 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 20:46:16 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 20:46:16 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:46:16 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 20:46:16 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 20:46:16 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"129","content":"hi","role":"user"}
[25-Mar-2025 20:46:16 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 20:46:16 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"129","timestamp":"2025-03-25 20:46:16"}
[25-Mar-2025 20:46:16 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 20:46:18 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying [2606:4700:3030::6815:4001]:443...
* Connected to n8n.mazcode.com (2606:4700:3030::6815:4001) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 20:46:18 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=AK2kcPLYZhQRHzE5zfZQAYvKYTgjkr3NHEZHAhWmhGQrXdM5w2TbysHrFsuZNEBaf5CMX9mbvJfmmy2NbASwLGQ%2BZEafEPI6%2B0qhxMlzKWAUeSWSguTvn13yoijsCegTh8W5gWQ5SsemQRsoE8w%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 926141b83ea5374e-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=126457&min_rtt=119428&rtt_var=38893&sent=8&recv=9&lost=0&retrans=0&sent_bytes=3410&recv_bytes=908&delivery_rate=28554&cwnd=254&unsent_bytes=0&cid=52a337239afba2b8&ts=1865&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 20:46:18 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 20:46:18 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم في العثور على شريك حياتك المثالي؟
[25-Mar-2025 20:46:18 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 20:46:18 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully with result: مرحبًا! كيف يمكنني مساعدتك اليوم في العثور على شريك حياتك المثالي؟
[25-Mar-2025 20:46:18 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 20:46:18 Europe/London] Got response from before_send_message: مرحبًا! كيف يمكنني مساعدتك اليوم في العثور على شريك حياتك المثالي؟
[25-Mar-2025 20:46:18 Europe/London] Saving message to database
[25-Mar-2025 20:46:18 Europe/London] Message saved successfully with ID: 108
[25-Mar-2025 20:46:18 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 20:46:18 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 20:46:18 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:46:18 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 20:46:18 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 20:46:18 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"129","content":"hi","role":"user"}
[25-Mar-2025 20:46:18 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 20:46:18 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"129","timestamp":"2025-03-25 20:46:18"}
[25-Mar-2025 20:46:18 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 20:46:20 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying [2606:4700:3030::6815:4001]:443...
* Connected to n8n.mazcode.com (2606:4700:3030::6815:4001) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 20:46:19 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=pdhyw1nytggbQkxWtCCuUJUzV%2BKafdiRlOGAQWxEyQJmGBLjuvLuUg4DDpGztJOBQmklFFoayfzx0xIUpXoSCLPPfzEzhG%2Bf%2FIHk4eh4%2Bo2gWOLJDC1AdQYd4FlFcc%2BtWnmspKbKRus20J4VJbA%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 926141c629d89985-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=151965&min_rtt=112175&rtt_var=54961&sent=8&recv=9&lost=0&retrans=0&sent_bytes=3410&recv_bytes=908&delivery_rate=30113&cwnd=254&unsent_bytes=0&cid=df5a389be01121a5&ts=1038&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 20:46:20 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 20:46:20 Europe/London] N8nWebhookHandler: Webhook response: مرحبا! كيف يمكنني مساعدتك اليوم في بحثك عن شريك الحياة؟
[25-Mar-2025 20:46:20 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 20:46:20 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully with result: مرحبا! كيف يمكنني مساعدتك اليوم في بحثك عن شريك الحياة؟
[25-Mar-2025 20:46:20 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 20:46:20 Europe/London] Saving plugin response to database: مرحبا! كيف يمكنني مساعدتك اليوم في بحثك عن شريك الحياة؟
[25-Mar-2025 20:46:20 Europe/London] Plugin response saved with ID: 109
[25-Mar-2025 20:46:20 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 20:46:20 Europe/London] Sending response to client: {"success":true,"data":{"message":{"id":"108","conversation_id":"129","content":"hi","role":"user"},"assistant_message":{"id":"109","conversation_id":"129","content":"\u0645\u0631\u062d\u0628\u0627! \u0643\u064a\u0641 \u064a\u0645\u0643\u0646\u0646\u064a \u0645\u0633\u0627\u0639\u062f\u062a\u0643 \u0627\u0644\u064a\u0648\u0645 \u0641\u064a \u0628\u062d\u062b\u0643 \u0639\u0646 \u0634\u0631\u064a\u0643 \u0627\u0644\u062d\u064a\u0627\u0629\u061f","role":"assistant"}}}
[25-Mar-2025 20:46:26 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 20:46:26 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 20:46:26 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 20:46:26 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 20:46:26 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 20:46:26 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 20:46:26 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 20:46:26 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(27): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(227): MessagesController->__construct()
#5 {main}
[25-Mar-2025 20:46:26 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 20:46:26 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 20:46:26 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 20:46:26 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 20:46:26 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 20:46:26 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 20:46:26 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 20:46:26 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 20:46:26 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 20:46:26 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 20:46:26 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 20:46:26 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:46:26 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 20:46:26 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 20:46:26 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 20:46:26 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 20:46:26 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 20:46:26 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 20:46:26 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 20:46:26 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 20:46:26 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 20:46:26 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 20:46:26 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 20:46:26 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 20:46:26 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 20:46:26 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 20:46:26 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 20:46:26 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 20:46:26 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 20:46:26 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:46:26 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 20:46:26 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:46:26 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 20:46:26 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:46:26 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:46:26 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 20:46:26 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 20:46:26 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 20:46:26 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 20:46:26 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 20:46:26 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:46:26 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 20:46:26 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:46:26 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 20:46:26 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:46:26 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:46:26 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 20:46:26 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 20:46:26 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 20:46:26 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 20:46:26 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 20:46:26 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 20:46:26 Europe/London] === Starting message creation process ===
[25-Mar-2025 20:46:26 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 20:46:26 Europe/London] Received message data: {"conversation_id":"129","content":"yes"}
[25-Mar-2025 20:46:26 Europe/London] Message data validation passed
[25-Mar-2025 20:46:26 Europe/London] Fetching conversation and plugin info for conversation ID: 129
[25-Mar-2025 20:46:26 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 20:46:26 Europe/London] Created message data structure
[25-Mar-2025 20:46:26 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 20:46:26 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 20:46:26 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:46:26 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 20:46:26 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 20:46:26 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:46:26 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 20:46:26 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 20:46:26 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"129","content":"yes","role":"user"}
[25-Mar-2025 20:46:26 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 20:46:26 Europe/London] N8nWebhookHandler: Sending request data: {"message":"yes","conversation_id":"129","timestamp":"2025-03-25 20:46:26"}
[25-Mar-2025 20:46:26 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 20:46:27 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying [2606:4700:3030::6815:4001]:443...
* Connected to n8n.mazcode.com (2606:4700:3030::6815:4001) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 75]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 75

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 20:46:27 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=hMMFrD6IwryoNjCOSYV9WhAe5pYnxcvCqU5zN4rJetslGCCdqVckY2AXh%2FeOm3oiJL52lqJfUvJJB%2FF1Ijbl9svl7FeC416oY1HwZiRILAcAHWMf63%2BqTWUdlqr2zhCBcaqZBX6gxdziV17dBrc%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 926141f799d0edc2-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=137447&min_rtt=124318&rtt_var=46648&sent=8&recv=9&lost=0&retrans=0&sent_bytes=3410&recv_bytes=909&delivery_rate=32819&cwnd=254&unsent_bytes=0&cid=c715eec2914c43ae&ts=1124&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 20:46:27 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 20:46:27 Europe/London] N8nWebhookHandler: Webhook response: مرحباً! كيف يمكنني مساعدتك اليوم؟ إذا كان لديك أي استفسار أو طلب معين حول البحث عن الشريك المثالي، فلا تتردد في طرحه!
[25-Mar-2025 20:46:27 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 20:46:27 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully with result: مرحباً! كيف يمكنني مساعدتك اليوم؟ إذا كان لديك أي استفسار أو طلب معين حول البحث عن الشريك المثالي، فلا تتردد في طرحه!
[25-Mar-2025 20:46:27 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 20:46:27 Europe/London] Got response from before_send_message: مرحباً! كيف يمكنني مساعدتك اليوم؟ إذا كان لديك أي استفسار أو طلب معين حول البحث عن الشريك المثالي، فلا تتردد في طرحه!
[25-Mar-2025 20:46:27 Europe/London] Saving message to database
[25-Mar-2025 20:46:27 Europe/London] Message saved successfully with ID: 110
[25-Mar-2025 20:46:27 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 20:46:27 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 20:46:27 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:46:27 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 20:46:27 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 20:46:27 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"129","content":"yes","role":"user"}
[25-Mar-2025 20:46:27 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 20:46:27 Europe/London] N8nWebhookHandler: Sending request data: {"message":"yes","conversation_id":"129","timestamp":"2025-03-25 20:46:27"}
[25-Mar-2025 20:46:27 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 20:46:29 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying [2606:4700:3030::6815:4001]:443...
* Connected to n8n.mazcode.com (2606:4700:3030::6815:4001) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 75]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 75

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 20:46:29 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=%2FzEWfBx5oC6m8zI0n1Gpldh2pP96GtQsypTthicLrPQNk4yuUQun1svk6q1x1WMStUMm1eT%2FwupJUPS6wXeIxlqfyrC5ryEq%2FbGmGqskTgjsl6DrVby475a587vXVh%2F%2BEweBdZvg9r3ZO9Iewgg%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 92614200aeb8ee58-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=166544&min_rtt=154439&rtt_var=60315&sent=7&recv=8&lost=0&retrans=0&sent_bytes=3388&recv_bytes=909&delivery_rate=26418&cwnd=253&unsent_bytes=0&cid=6f63185bacc38718&ts=1501&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 20:46:29 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 20:46:29 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم في مجال التعارف؟ هل لديك تفاصيل معينة تبحث عنها في مطابقتك؟
[25-Mar-2025 20:46:29 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 20:46:29 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully with result: مرحبًا! كيف يمكنني مساعدتك اليوم في مجال التعارف؟ هل لديك تفاصيل معينة تبحث عنها في مطابقتك؟
[25-Mar-2025 20:46:29 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 20:46:29 Europe/London] Saving plugin response to database: مرحبًا! كيف يمكنني مساعدتك اليوم في مجال التعارف؟ هل لديك تفاصيل معينة تبحث عنها في مطابقتك؟
[25-Mar-2025 20:46:29 Europe/London] Plugin response saved with ID: 111
[25-Mar-2025 20:46:29 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 20:46:29 Europe/London] Sending response to client: {"success":true,"data":{"message":{"id":"110","conversation_id":"129","content":"yes","role":"user"},"assistant_message":{"id":"111","conversation_id":"129","content":"\u0645\u0631\u062d\u0628\u064b\u0627! \u0643\u064a\u0641 \u064a\u0645\u0643\u0646\u0646\u064a \u0645\u0633\u0627\u0639\u062f\u062a\u0643 \u0627\u0644\u064a\u0648\u0645 \u0641\u064a \u0645\u062c\u0627\u0644 \u0627\u0644\u062a\u0639\u0627\u0631\u0641\u061f \u0647\u0644 \u0644\u062f\u064a\u0643 \u062a\u0641\u0627\u0635\u064a\u0644 \u0645\u0639\u064a\u0646\u0629 \u062a\u0628\u062d\u062b \u0639\u0646\u0647\u0627 \u0641\u064a \u0645\u0637\u0627\u0628\u0642\u062a\u0643\u061f","role":"assistant"}}}
[25-Mar-2025 20:46:43 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 20:46:43 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 20:46:43 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 20:46:43 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 20:46:43 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 20:46:43 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 20:46:43 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 20:46:43 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(27): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(227): MessagesController->__construct()
#5 {main}
[25-Mar-2025 20:46:43 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 20:46:43 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 20:46:43 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 20:46:43 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 20:46:43 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 20:46:43 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 20:46:43 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 20:46:43 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 20:46:43 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 20:46:43 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 20:46:43 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 20:46:43 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:46:43 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 20:46:43 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 20:46:43 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 20:46:43 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 20:46:43 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 20:46:43 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 20:46:43 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 20:46:43 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 20:46:43 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 20:46:43 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 20:46:43 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 20:46:43 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 20:46:43 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 20:46:43 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 20:46:43 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 20:46:43 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 20:46:43 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 20:46:43 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:46:43 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 20:46:43 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:46:43 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 20:46:43 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:46:43 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:46:43 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 20:46:43 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 20:46:43 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 20:46:43 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 20:46:43 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 20:46:43 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:46:43 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 20:46:43 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:46:43 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 20:46:43 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:46:43 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:46:43 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 20:46:43 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 20:46:43 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 20:46:43 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 20:46:43 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 20:46:43 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 20:46:43 Europe/London] === Starting message creation process ===
[25-Mar-2025 20:46:43 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 20:46:43 Europe/London] Received message data: {"conversation_id":"129","content":"a lady from saudi in her 30s"}
[25-Mar-2025 20:46:43 Europe/London] Message data validation passed
[25-Mar-2025 20:46:43 Europe/London] Fetching conversation and plugin info for conversation ID: 129
[25-Mar-2025 20:46:43 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 20:46:43 Europe/London] Created message data structure
[25-Mar-2025 20:46:43 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 20:46:43 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 20:46:43 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:46:43 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 20:46:43 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 20:46:43 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:46:43 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 20:46:43 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 20:46:43 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"129","content":"a lady from saudi in her 30s","role":"user"}
[25-Mar-2025 20:46:43 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 20:46:43 Europe/London] N8nWebhookHandler: Sending request data: {"message":"a lady from saudi in her 30s","conversation_id":"129","timestamp":"2025-03-25 20:46:43"}
[25-Mar-2025 20:46:43 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 20:47:05 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying [2606:4700:3030::6815:4001]:443...
* Connected to n8n.mazcode.com (2606:4700:3030::6815:4001) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 100]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 100

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 20:47:04 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< server: cloudflare
< cf-ray: 92614261aafdedba-MXP
< alt-svc: h3=":443"; ma=86400
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 20:47:05 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 20:47:05 Europe/London] N8nWebhookHandler: Webhook response: يبدو أن هناك مشكلة تقنية أثناء الاستعلام عن البيانات. سأقوم بتجربة استعلام بديل للعثور على بعض النتائج المحتملة. يرجى الانتظار لحظة. 

سأقوم بالبحث عن نساء من السعودية في عمر يتراوح بين 25 و40 عاماً.
[25-Mar-2025 20:47:05 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 20:47:05 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully with result: يبدو أن هناك مشكلة تقنية أثناء الاستعلام عن البيانات. سأقوم بتجربة استعلام بديل للعثور على بعض النتائج المحتملة. يرجى الانتظار لحظة. 

سأقوم بالبحث عن نساء من السعودية في عمر يتراوح بين 25 و40 عاماً.
[25-Mar-2025 20:47:05 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 20:47:05 Europe/London] Got response from before_send_message: يبدو أن هناك مشكلة تقنية أثناء الاستعلام عن البيانات. سأقوم بتجربة استعلام بديل للعثور على بعض النتائج المحتملة. يرجى الانتظار لحظة. 

سأقوم بالبحث عن نساء من السعودية في عمر يتراوح بين 25 و40 عاماً.
[25-Mar-2025 20:47:05 Europe/London] Saving message to database
[25-Mar-2025 20:47:05 Europe/London] Message saved successfully with ID: 112
[25-Mar-2025 20:47:05 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 20:47:05 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 20:47:05 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:47:05 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 20:47:05 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 20:47:05 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"129","content":"a lady from saudi in her 30s","role":"user"}
[25-Mar-2025 20:47:05 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 20:47:05 Europe/London] N8nWebhookHandler: Sending request data: {"message":"a lady from saudi in her 30s","conversation_id":"129","timestamp":"2025-03-25 20:47:05"}
[25-Mar-2025 20:47:05 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 20:47:08 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying [2606:4700:3030::6815:4001]:443...
* Connected to n8n.mazcode.com (2606:4700:3030::6815:4001) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 100]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 100

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 20:47:08 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=uH4e2ySqXWYBoH0rKCie%2BrGJEkMhKnylPc0pVW1NsjB7Zooh8ksvX9WnIDLQdGacj3qQH8oQv6x9OKI7cZ9Td%2Fc1jTSR1ds4CMQ8pykHaQfEBcUVenhiEC5g2k8qGlUA72h7DvTLK72TIc6gA3o%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 926142f26b875237-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=173010&min_rtt=103734&rtt_var=68905&sent=13&recv=12&lost=0&retrans=2&sent_bytes=4885&recv_bytes=934&delivery_rate=15471&cwnd=255&unsent_bytes=0&cid=9ca38eeee942947e&ts=3036&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 20:47:08 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 20:47:08 Europe/London] N8nWebhookHandler: Webhook response: يرجى تقديم مزيد من التفاصيل حول ما تبحث عنه، مثل المدينة التي تعيش فيها أو أي اهتمامات خاصة أو تفضيلات لديك. سيساعدني ذلك في تقديم نتائج أفضل لك.
[25-Mar-2025 20:47:08 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 20:47:08 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully with result: يرجى تقديم مزيد من التفاصيل حول ما تبحث عنه، مثل المدينة التي تعيش فيها أو أي اهتمامات خاصة أو تفضيلات لديك. سيساعدني ذلك في تقديم نتائج أفضل لك.
[25-Mar-2025 20:47:08 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 20:47:08 Europe/London] Saving plugin response to database: يرجى تقديم مزيد من التفاصيل حول ما تبحث عنه، مثل المدينة التي تعيش فيها أو أي اهتمامات خاصة أو تفضيلات لديك. سيساعدني ذلك في تقديم نتائج أفضل لك.
[25-Mar-2025 20:47:08 Europe/London] Plugin response saved with ID: 113
[25-Mar-2025 20:47:08 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 20:47:08 Europe/London] Sending response to client: {"success":true,"data":{"message":{"id":"112","conversation_id":"129","content":"a lady from saudi in her 30s","role":"user"},"assistant_message":{"id":"113","conversation_id":"129","content":"\u064a\u0631\u062c\u0649 \u062a\u0642\u062f\u064a\u0645 \u0645\u0632\u064a\u062f \u0645\u0646 \u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644 \u062d\u0648\u0644 \u0645\u0627 \u062a\u0628\u062d\u062b \u0639\u0646\u0647\u060c \u0645\u062b\u0644 \u0627\u0644\u0645\u062f\u064a\u0646\u0629 \u0627\u0644\u062a\u064a \u062a\u0639\u064a\u0634 \u0641\u064a\u0647\u0627 \u0623\u0648 \u0623\u064a \u0627\u0647\u062a\u0645\u0627\u0645\u0627\u062a \u062e\u0627\u0635\u0629 \u0623\u0648 \u062a\u0641\u0636\u064a\u0644\u0627\u062a \u0644\u062f\u064a\u0643. \u0633\u064a\u0633\u0627\u0639\u062f\u0646\u064a \u0630\u0644\u0643 \u0641\u064a \u062a\u0642\u062f\u064a\u0645 \u0646\u062a\u0627\u0626\u062c \u0623\u0641\u0636\u0644 \u0644\u0643.","role":"assistant"}}}
[25-Mar-2025 20:47:20 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 20:47:20 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 20:47:20 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 20:47:20 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 20:47:20 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 20:47:20 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 20:47:20 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 20:47:20 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(27): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(227): MessagesController->__construct()
#5 {main}
[25-Mar-2025 20:47:20 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 20:47:20 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 20:47:20 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 20:47:20 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 20:47:20 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 20:47:20 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 20:47:20 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 20:47:20 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 20:47:20 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 20:47:20 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 20:47:20 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 20:47:20 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:47:20 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 20:47:20 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 20:47:20 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 20:47:20 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 20:47:20 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 20:47:20 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 20:47:20 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 20:47:20 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 20:47:20 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 20:47:20 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 20:47:20 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 20:47:20 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 20:47:20 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 20:47:20 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 20:47:20 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 20:47:20 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 20:47:20 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 20:47:20 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:47:20 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 20:47:20 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:47:20 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 20:47:20 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:47:20 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:47:20 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 20:47:20 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 20:47:20 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 20:47:20 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 20:47:20 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 20:47:20 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:47:20 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 20:47:20 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:47:20 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 20:47:20 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:47:20 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:47:20 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 20:47:20 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 20:47:20 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 20:47:20 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 20:47:20 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 20:47:20 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 20:47:20 Europe/London] === Starting message creation process ===
[25-Mar-2025 20:47:20 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 20:47:20 Europe/London] Received message data: {"conversation_id":"129","content":"show me what you have"}
[25-Mar-2025 20:47:20 Europe/London] Message data validation passed
[25-Mar-2025 20:47:20 Europe/London] Fetching conversation and plugin info for conversation ID: 129
[25-Mar-2025 20:47:20 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 20:47:20 Europe/London] Created message data structure
[25-Mar-2025 20:47:20 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 20:47:20 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 20:47:20 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:47:20 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 20:47:20 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 20:47:20 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:47:20 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 20:47:20 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 20:47:20 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"129","content":"show me what you have","role":"user"}
[25-Mar-2025 20:47:20 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 20:47:20 Europe/London] N8nWebhookHandler: Sending request data: {"message":"show me what you have","conversation_id":"129","timestamp":"2025-03-25 20:47:20"}
[25-Mar-2025 20:47:20 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 20:47:23 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying [2606:4700:3030::6815:4001]:443...
* Connected to n8n.mazcode.com (2606:4700:3030::6815:4001) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 93]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 93

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 20:47:23 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=IoXcBGQjtfWfbMWHKnldqT9qq18F0Vc4AIfYNEMM1wpbP7b9NpsJ%2BYI9C%2FFuZ2%2BR7KE8BhoyMozJEA9ap98GDUBWKFQJANetGPdVVQY1e8JGFhtvSYrzNQaOcM2J2nXh591ftIh6SejhA8aIc3U%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 9261434c4ff30e73-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=182739&min_rtt=147715&rtt_var=68488&sent=7&recv=8&lost=0&retrans=0&sent_bytes=3387&recv_bytes=927&delivery_rate=27620&cwnd=253&unsent_bytes=0&cid=08dde48838206a98&ts=2248&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 20:47:23 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 20:47:23 Europe/London] N8nWebhookHandler: Webhook response: للتمكن من مساعدتك بشكل أفضل، سأحتاج إلى بعض التفاصيل الإضافية:

1. هل تبحث عن شخص من دولة معينة؟ إذا كان الأمر كذلك، يرجى تحديد الدولة.
2. هل لديك أي تفضيلات بشأن العمر؟
3. ما هو الجنس الذي تفضله (ذكر أو أنثى)؟
4. هل تود تحديد مدينة معينة؟
5. هل لديك أي متطلبات إضافية مثل التعليم أو المهنة؟

بمجرد أن أتناول هذه التفاصيل، سأكون قادرًا على تقديم نتائج مناسبة لك.
[25-Mar-2025 20:47:23 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 20:47:23 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully with result: للتمكن من مساعدتك بشكل أفضل، سأحتاج إلى بعض التفاصيل الإضافية:

1. هل تبحث عن شخص من دولة معينة؟ إذا كان الأمر كذلك، يرجى تحديد الدولة.
2. هل لديك أي تفضيلات بشأن العمر؟
3. ما هو الجنس الذي تفضله (ذكر أو أنثى)؟
4. هل تود تحديد مدينة معينة؟
5. هل لديك أي متطلبات إضافية مثل التعليم أو المهنة؟

بمجرد أن أتناول هذه التفاصيل، سأكون قادرًا على تقديم نتائج مناسبة لك.
[25-Mar-2025 20:47:23 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 20:47:23 Europe/London] Got response from before_send_message: للتمكن من مساعدتك بشكل أفضل، سأحتاج إلى بعض التفاصيل الإضافية:

1. هل تبحث عن شخص من دولة معينة؟ إذا كان الأمر كذلك، يرجى تحديد الدولة.
2. هل لديك أي تفضيلات بشأن العمر؟
3. ما هو الجنس الذي تفضله (ذكر أو أنثى)؟
4. هل تود تحديد مدينة معينة؟
5. هل لديك أي متطلبات إضافية مثل التعليم أو المهنة؟

بمجرد أن أتناول هذه التفاصيل، سأكون قادرًا على تقديم نتائج مناسبة لك.
[25-Mar-2025 20:47:23 Europe/London] Saving message to database
[25-Mar-2025 20:47:23 Europe/London] Message saved successfully with ID: 114
[25-Mar-2025 20:47:23 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 20:47:23 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 20:47:23 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:47:23 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 20:47:23 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 20:47:23 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"129","content":"show me what you have","role":"user"}
[25-Mar-2025 20:47:23 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 20:47:23 Europe/London] N8nWebhookHandler: Sending request data: {"message":"show me what you have","conversation_id":"129","timestamp":"2025-03-25 20:47:23"}
[25-Mar-2025 20:47:23 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 20:47:25 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying [2606:4700:3030::6815:4001]:443...
* Connected to n8n.mazcode.com (2606:4700:3030::6815:4001) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 93]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 93

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 20:47:25 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=DZqsWHteIil1XQNAM6wZK3g480sCIdc4swUI5rcMv033lEjpvhWkN1%2Buh9bNOA5P5KCnqtXYvuDy6uU7ZRh18UCs2UrFYCkjtT75PMg9jNymher05LBhQ6ru4gmFJdGahSJLM9jokLixPAC1ZgA%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 9261435d2f3feea5-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=163787&min_rtt=132191&rtt_var=53706&sent=8&recv=9&lost=0&retrans=0&sent_bytes=3410&recv_bytes=927&delivery_rate=30860&cwnd=254&unsent_bytes=0&cid=5670351f012705be&ts=1528&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 20:47:25 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 20:47:25 Europe/London] N8nWebhookHandler: Webhook response: يرجى توضيح ما الذي تبحث عنه. يمكنني مساعدتك في العثور على ملفات شخصية تناسب اهتماماتك أو تفضيلاتك، مثل الجنسية، المدينة، العمر، أو التفاصيل الأخرى.
[25-Mar-2025 20:47:25 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 20:47:25 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully with result: يرجى توضيح ما الذي تبحث عنه. يمكنني مساعدتك في العثور على ملفات شخصية تناسب اهتماماتك أو تفضيلاتك، مثل الجنسية، المدينة، العمر، أو التفاصيل الأخرى.
[25-Mar-2025 20:47:25 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 20:47:25 Europe/London] Saving plugin response to database: يرجى توضيح ما الذي تبحث عنه. يمكنني مساعدتك في العثور على ملفات شخصية تناسب اهتماماتك أو تفضيلاتك، مثل الجنسية، المدينة، العمر، أو التفاصيل الأخرى.
[25-Mar-2025 20:47:25 Europe/London] Plugin response saved with ID: 115
[25-Mar-2025 20:47:25 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 20:47:25 Europe/London] Sending response to client: {"success":true,"data":{"message":{"id":"114","conversation_id":"129","content":"show me what you have","role":"user"},"assistant_message":{"id":"115","conversation_id":"129","content":"\u064a\u0631\u062c\u0649 \u062a\u0648\u0636\u064a\u062d \u0645\u0627 \u0627\u0644\u0630\u064a \u062a\u0628\u062d\u062b \u0639\u0646\u0647. \u064a\u0645\u0643\u0646\u0646\u064a \u0645\u0633\u0627\u0639\u062f\u062a\u0643 \u0641\u064a \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u0645\u0644\u0641\u0627\u062a \u0634\u062e\u0635\u064a\u0629 \u062a\u0646\u0627\u0633\u0628 \u0627\u0647\u062a\u0645\u0627\u0645\u0627\u062a\u0643 \u0623\u0648 \u062a\u0641\u0636\u064a\u0644\u0627\u062a\u0643\u060c \u0645\u062b\u0644 \u0627\u0644\u062c\u0646\u0633\u064a\u0629\u060c \u0627\u0644\u0645\u062f\u064a\u0646\u0629\u060c \u0627\u0644\u0639\u0645\u0631\u060c \u0623\u0648 \u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0623\u062e\u0631\u0649.","role":"assistant"}}}
[25-Mar-2025 20:48:01 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 20:48:01 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 20:48:01 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 20:48:01 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 20:48:01 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 20:48:01 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 20:48:01 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 20:48:01 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(27): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(227): MessagesController->__construct()
#5 {main}
[25-Mar-2025 20:48:01 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 20:48:01 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 20:48:01 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 20:48:01 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 20:48:01 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 20:48:01 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 20:48:01 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 20:48:01 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 20:48:01 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 20:48:01 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 20:48:01 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 20:48:01 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:48:01 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 20:48:01 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 20:48:01 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 20:48:01 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 20:48:01 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 20:48:01 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 20:48:01 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 20:48:01 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 20:48:01 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 20:48:01 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 20:48:01 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 20:48:01 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 20:48:01 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 20:48:01 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 20:48:01 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 20:48:01 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 20:48:01 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 20:48:01 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:48:01 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 20:48:01 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:48:01 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 20:48:01 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:48:01 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:48:01 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 20:48:01 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 20:48:01 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 20:48:01 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 20:48:01 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 20:48:01 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:48:01 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 20:48:01 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:48:01 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 20:48:01 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:48:01 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:48:01 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 20:48:01 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 20:48:01 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 20:48:01 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 20:48:01 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 20:48:01 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 20:48:01 Europe/London] === Starting message creation process ===
[25-Mar-2025 20:48:01 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 20:48:01 Europe/London] Received message data: {"conversation_id":"129","content":"Saudi female in her 30s"}
[25-Mar-2025 20:48:01 Europe/London] Message data validation passed
[25-Mar-2025 20:48:01 Europe/London] Fetching conversation and plugin info for conversation ID: 129
[25-Mar-2025 20:48:01 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 20:48:01 Europe/London] Created message data structure
[25-Mar-2025 20:48:01 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 20:48:01 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 20:48:01 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:48:01 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 20:48:01 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 20:48:01 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:48:01 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 20:48:01 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 20:48:01 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"129","content":"Saudi female in her 30s","role":"user"}
[25-Mar-2025 20:48:01 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 20:48:01 Europe/London] N8nWebhookHandler: Sending request data: {"message":"Saudi female in her 30s","conversation_id":"129","timestamp":"2025-03-25 20:48:01"}
[25-Mar-2025 20:48:01 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 20:50:01 Europe/London] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in C:\Users\zagzo\Downloads\UniServerZ\www\chat\plugins\N8nWebhookHandler\N8nWebhookHandler.php on line 149
[25-Mar-2025 20:50:05 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 20:50:05 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 20:50:05 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 20:50:05 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 20:50:05 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 20:50:05 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 20:50:05 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 20:50:05 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(27): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(227): MessagesController->__construct()
#5 {main}
[25-Mar-2025 20:50:05 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 20:50:05 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 20:50:05 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 20:50:05 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 20:50:05 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 20:50:05 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 20:50:05 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 20:50:05 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 20:50:05 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 20:50:05 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 20:50:05 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 20:50:05 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:50:05 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 20:50:05 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 20:50:05 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 20:50:05 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 20:50:05 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 20:50:05 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 20:50:05 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 20:50:05 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 20:50:05 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 20:50:05 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 20:50:05 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 20:50:05 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 20:50:05 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 20:50:05 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 20:50:05 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 20:50:05 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 20:50:05 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 20:50:05 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:50:05 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 20:50:05 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:50:05 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 20:50:05 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:50:05 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:50:05 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 20:50:05 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 20:50:05 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 20:50:05 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 20:50:05 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 20:50:05 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:50:05 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 20:50:05 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:50:05 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 20:50:05 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:50:05 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:50:05 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 20:50:05 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 20:50:05 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 20:50:05 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 20:50:05 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 20:50:05 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 20:50:05 Europe/London] === Starting message creation process ===
[25-Mar-2025 20:50:05 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 20:50:05 Europe/London] Received message data: {"conversation_id":"129","content":"hi"}
[25-Mar-2025 20:50:05 Europe/London] Message data validation passed
[25-Mar-2025 20:50:05 Europe/London] Fetching conversation and plugin info for conversation ID: 129
[25-Mar-2025 20:50:05 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 20:50:05 Europe/London] Created message data structure
[25-Mar-2025 20:50:05 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 20:50:05 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 20:50:05 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:50:05 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 20:50:05 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 20:50:05 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:50:05 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 20:50:05 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 20:50:05 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"129","content":"hi","role":"user"}
[25-Mar-2025 20:50:05 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 20:50:05 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"129","timestamp":"2025-03-25 20:50:05"}
[25-Mar-2025 20:50:05 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 20:50:07 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.48.1:443...
* Connected to n8n.mazcode.com (104.21.48.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 20:50:06 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=cIXEabUiLPccOkCtC%2BlVpTYxvw4kqFvU5afCBQGQ4d5%2BDe2tcdnyAoUz1GYrUR110d9X0Hy44lB8Tkc62xuPSoQ08tmJeY0acLL7MOlZxl5XO1zNEAqsbuo%2FV3pdYPM8CCo%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 926147537b480e25-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=127069&min_rtt=119797&rtt_var=38871&sent=7&recv=8&lost=0&retrans=0&sent_bytes=3389&recv_bytes=908&delivery_rate=31699&cwnd=241&unsent_bytes=0&cid=fe07eca9113488eb&ts=917&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 20:50:07 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 20:50:07 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 20:50:07 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 20:50:07 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully with result: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 20:50:07 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 20:50:07 Europe/London] Got response from before_send_message: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 20:50:07 Europe/London] Saving message to database
[25-Mar-2025 20:50:07 Europe/London] Message saved successfully with ID: 116
[25-Mar-2025 20:50:07 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 20:50:07 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 20:50:07 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 20:50:07 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 20:50:07 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 20:50:07 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"129","content":"hi","role":"user"}
[25-Mar-2025 20:50:07 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 20:50:07 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"129","timestamp":"2025-03-25 20:50:07"}
[25-Mar-2025 20:50:07 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 20:50:09 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying 104.21.48.1:443...
* Connected to n8n.mazcode.com (104.21.48.1) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 20:50:08 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=VesKvahMJEx8lZMmE1yluYDij2fPkGBBcvq3MGGtm5DxifkTby8ZurIurBIiXzY8N%2BSQOOdCvEpgWseY3oCtZvFwZWIG5EMG19qXOSJZ4ESbLQGZ8UtTQPUvFMd%2BpZylAfU%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 9261475aeb7eedb4-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=131224&min_rtt=115821&rtt_var=58411&sent=8&recv=9&lost=0&retrans=0&sent_bytes=3411&recv_bytes=908&delivery_rate=36262&cwnd=254&unsent_bytes=0&cid=f21e9fb65215003d&ts=1191&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 20:50:09 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 20:50:09 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 20:50:09 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 20:50:09 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully with result: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 20:50:09 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 20:50:09 Europe/London] Saving plugin response to database: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 20:50:09 Europe/London] Plugin response saved with ID: 117
[25-Mar-2025 20:50:09 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 20:50:09 Europe/London] Sending response to client: {"success":true,"data":{"message":{"id":"116","conversation_id":"129","content":"hi","role":"user"},"assistant_message":{"id":"117","conversation_id":"129","content":"\u0645\u0631\u062d\u0628\u064b\u0627! \u0643\u064a\u0641 \u064a\u0645\u0643\u0646\u0646\u064a \u0645\u0633\u0627\u0639\u062f\u062a\u0643 \u0627\u0644\u064a\u0648\u0645\u061f","role":"assistant"}}}
[25-Mar-2025 21:08:34 Europe/London] DirectMessageHandler: Constructing plugin
[25-Mar-2025 21:08:42 Europe/London] DirectMessageHandler: Constructing plugin
[25-Mar-2025 21:13:01 Europe/London] DirectMessageHandler: Constructing plugin
[25-Mar-2025 21:14:46 Europe/London] DirectMessageHandler: Constructing plugin
[25-Mar-2025 21:15:47 Europe/London] DirectMessageHandler: Constructing plugin
[25-Mar-2025 21:16:02 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 21:16:02 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 21:16:02 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 21:16:02 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 21:16:02 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 21:16:02 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 21:16:02 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 21:16:02 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(27): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(227): MessagesController->__construct()
#5 {main}
[25-Mar-2025 21:16:02 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 21:16:02 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 21:16:02 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 21:16:02 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 21:16:02 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 21:16:02 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 21:16:02 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 21:16:02 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 21:16:02 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 21:16:02 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 21:16:02 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 21:16:02 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 21:16:02 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 21:16:02 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 21:16:02 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 21:16:02 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 21:16:02 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 21:16:02 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 21:16:02 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 21:16:02 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 21:16:02 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 21:16:02 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 21:16:02 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 21:16:02 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 21:16:02 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 21:16:02 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 21:16:02 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 21:16:02 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 21:16:02 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 21:16:02 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 21:16:02 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 21:16:02 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 21:16:02 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 21:16:02 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 21:16:02 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 21:16:02 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 21:16:02 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 21:16:02 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 21:16:02 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 21:16:02 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 21:16:02 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 21:16:02 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 21:16:02 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 21:16:02 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 21:16:02 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 21:16:02 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 21:16:02 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 21:16:02 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 21:16:02 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 21:16:02 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 21:16:02 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 21:16:02 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 21:16:02 Europe/London] === Starting message creation process ===
[25-Mar-2025 21:16:02 Europe/London] User authenticated successfully - User ID: 2
[25-Mar-2025 21:16:02 Europe/London] Received message data: {"conversation_id":"130","content":"hi"}
[25-Mar-2025 21:16:02 Europe/London] Message data validation passed
[25-Mar-2025 21:16:02 Europe/London] Fetching conversation and plugin info for conversation ID: 130
[25-Mar-2025 21:16:02 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 21:16:02 Europe/London] Created message data structure
[25-Mar-2025 21:16:02 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 21:16:02 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 21:16:02 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 21:16:02 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 21:16:02 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 21:16:02 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 21:16:02 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 21:16:02 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 21:16:02 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"130","content":"hi","role":"user"}
[25-Mar-2025 21:16:02 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 21:16:02 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"130","timestamp":"2025-03-25 21:16:02"}
[25-Mar-2025 21:16:02 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 21:16:04 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying [2606:4700:3030::6815:3001]:443...
* Connected to n8n.mazcode.com (2606:4700:3030::6815:3001) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 21:16:04 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=oDuOy1WRBdckvBBI5VpX66FYE7T6U%2B1GFMPWaK0cfZVKdNJSqoYhZ6UtFHRtpNU6%2BpXDMsH0JBnojybq79nr6itSKDzRgfwq%2BzCMPxiVknzTBeT%2BO2jMz%2FeujpiL0I79v6XmtwTq%2BdH5S3NmgKY%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 92616d5838c3ee7d-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=111793&min_rtt=103667&rtt_var=37045&sent=7&recv=8&lost=0&retrans=0&sent_bytes=3389&recv_bytes=908&delivery_rate=35453&cwnd=253&unsent_bytes=0&cid=c25125983b06859c&ts=980&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 21:16:04 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 21:16:04 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 21:16:04 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 21:16:04 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully with result: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 21:16:04 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 21:16:04 Europe/London] Got response from before_send_message: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 21:16:04 Europe/London] Saving message to database
[25-Mar-2025 21:16:04 Europe/London] Message saved successfully with ID: 118
[25-Mar-2025 21:16:04 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 21:16:04 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 21:16:04 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 21:16:04 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 21:16:04 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 21:16:04 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"130","content":"hi","role":"user"}
[25-Mar-2025 21:16:04 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 21:16:04 Europe/London] N8nWebhookHandler: Sending request data: {"message":"hi","conversation_id":"130","timestamp":"2025-03-25 21:16:04"}
[25-Mar-2025 21:16:04 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 21:16:06 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying [2606:4700:3030::6815:3001]:443...
* Connected to n8n.mazcode.com (2606:4700:3030::6815:3001) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 21:16:05 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=2ajrS3Ofj%2Fk2VPgdTI6OoSDGDmQ9PqQrtbN6%2Bx2CiAReXokNmh4usDYAi4ZA7NqvV0C3CIsRjb5Bl2Nf0w222o8gobnutXFgSpRvFI1UzPuu5INGdZ4MPaiScMhTlCU%2Fv2sof%2BjvdxBTmM%2BX8ew%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 92616d62a9ba0e6f-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=206897&min_rtt=123455&rtt_var=107980&sent=7&recv=8&lost=0&retrans=0&sent_bytes=3389&recv_bytes=908&delivery_rate=31380&cwnd=253&unsent_bytes=0&cid=c3d06c73c429470c&ts=1179&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 21:16:06 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 21:16:06 Europe/London] N8nWebhookHandler: Webhook response: مرحباً! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 21:16:06 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 21:16:06 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully with result: مرحباً! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 21:16:06 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 21:16:06 Europe/London] Saving plugin response to database: مرحباً! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 21:16:06 Europe/London] Plugin response saved with ID: 119
[25-Mar-2025 21:16:06 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 21:16:06 Europe/London] Sending response to client: {"success":true,"data":{"message":{"id":"118","conversation_id":"130","content":"hi","role":"user"},"assistant_message":{"id":"119","conversation_id":"130","content":"\u0645\u0631\u062d\u0628\u0627\u064b! \u0643\u064a\u0641 \u064a\u0645\u0643\u0646\u0646\u064a \u0645\u0633\u0627\u0639\u062f\u062a\u0643 \u0627\u0644\u064a\u0648\u0645\u061f","role":"assistant"}}}
[25-Mar-2025 21:21:27 Europe/London] PluginManager: Loading plugins from directory: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins
[25-Mar-2025 21:21:27 Europe/London] PluginManager: Found plugin directories: Array
(
    [0] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler
    [1] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector
    [2] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler
    [3] => C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs
)

[25-Mar-2025 21:21:27 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 21:21:27 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/DirectMessageHandler/DirectMessageHandler.php
[25-Mar-2025 21:21:27 Europe/London] PluginManager: Creating instance of plugin class: DirectMessageHandler
[25-Mar-2025 21:21:27 Europe/London] PluginManager: Plugin not found in database, creating record for: DirectMessageHandler
[25-Mar-2025 21:21:27 Europe/London] PluginManager ERROR: Failed to load plugin DirectMessageHandler: SQLSTATE[HY000]: General error: 1364 Field 'slug' doesn't have a default value
[25-Mar-2025 21:21:27 Europe/London] PluginManager ERROR: #0 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(59): PDOStatement->execute()
#1 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(12): PluginManager->loadPlugins()
#2 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\plugins\PluginManager.php(17): PluginManager->__construct()
#3 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(27): PluginManager::getInstance()
#4 C:\Users\zagzo\Downloads\UniServerZ\www\chat\app\api\v1\messages.php(227): MessagesController->__construct()
#5 {main}
[25-Mar-2025 21:21:27 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 21:21:27 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/LLMModelSelector/LLMModelSelector.php
[25-Mar-2025 21:21:27 Europe/London] PluginManager: Creating instance of plugin class: LLMModelSelector
[25-Mar-2025 21:21:27 Europe/London] PluginManager: Instantiating plugin with ID: 11
[25-Mar-2025 21:21:27 Europe/London] LLMModelSelector: Constructing plugin
[25-Mar-2025 21:21:27 Europe/London] PluginManager: Activating plugin: LLMModelSelector
[25-Mar-2025 21:21:27 Europe/London] Plugin LLMModelSelector: Activated with ID 11
[25-Mar-2025 21:21:27 Europe/London] PluginManager: Initializing plugin: LLMModelSelector
[25-Mar-2025 21:21:27 Europe/London] Plugin LLMModelSelector: Registering hook before_send_message
[25-Mar-2025 21:21:27 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

)

[25-Mar-2025 21:21:27 Europe/London] Plugin LLMModelSelector: Registering hook admin_settings_page
[25-Mar-2025 21:21:27 Europe/London] Plugin LLMModelSelector: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => selectModel
                        )

                    [priority] => 5
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => LLMModelSelector Object
                                (
                                    [name:protected] => LLMModelSelector
                                    [version:protected] => 1.0.0
                                    [description:protected] => Allows selection of different LLM models for chat responses
                                    [author:protected] => Your Name
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 21:21:27 Europe/London] PluginManager: Plugin activated and initialized: LLMModelSelector
[25-Mar-2025 21:21:27 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 21:21:27 Europe/London] PluginManager: Loading plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/N8nWebhookHandler/N8nWebhookHandler.php
[25-Mar-2025 21:21:27 Europe/London] PluginManager: Creating instance of plugin class: N8nWebhookHandler
[25-Mar-2025 21:21:27 Europe/London] PluginManager: Instantiating plugin with ID: 9
[25-Mar-2025 21:21:27 Europe/London] N8nWebhookHandler: Constructing with plugin ID: 9
[25-Mar-2025 21:21:27 Europe/London] N8nWebhookHandler: Constructing plugin
[25-Mar-2025 21:21:27 Europe/London] N8nWebhookHandler: Construction completed
[25-Mar-2025 21:21:27 Europe/London] PluginManager: Activating plugin: N8nWebhookHandler
[25-Mar-2025 21:21:27 Europe/London] N8nWebhookHandler: Activating plugin with ID: 9
[25-Mar-2025 21:21:27 Europe/London] Plugin N8nWebhookHandler: Activated with ID 9
[25-Mar-2025 21:21:27 Europe/London] N8nWebhookHandler: Creating/checking database tables
[25-Mar-2025 21:21:27 Europe/London] N8nWebhookHandler: Checking for existing settings
[25-Mar-2025 21:21:27 Europe/London] N8nWebhookHandler: Activation completed successfully
[25-Mar-2025 21:21:27 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 21:21:27 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 21:21:27 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 21:21:27 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 21:21:27 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 21:21:27 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 21:21:27 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 21:21:27 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 21:21:27 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 21:21:27 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 21:21:27 Europe/London] PluginManager: Initializing plugin: N8nWebhookHandler
[25-Mar-2025 21:21:27 Europe/London] N8nWebhookHandler: Initializing plugin
[25-Mar-2025 21:21:27 Europe/London] N8nWebhookHandler: Registering hooks
[25-Mar-2025 21:21:27 Europe/London] Plugin N8nWebhookHandler: Registering hook before_send_message
[25-Mar-2025 21:21:27 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 21:21:27 Europe/London] Plugin N8nWebhookHandler: Registering hook after_send_message
[25-Mar-2025 21:21:27 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 21:21:27 Europe/London] Plugin N8nWebhookHandler: Registering hook admin_settings_page
[25-Mar-2025 21:21:27 Europe/London] Plugin N8nWebhookHandler: Hooks after registration: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 21:21:27 Europe/London] N8nWebhookHandler: Hooks registered: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 21:21:27 Europe/London] N8nWebhookHandler: Initialization completed
[25-Mar-2025 21:21:27 Europe/London] PluginManager: Plugin activated and initialized: N8nWebhookHandler
[25-Mar-2025 21:21:27 Europe/London] PluginManager: Checking plugin file: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 21:21:27 Europe/London] PluginManager: Plugin file does not exist: C:\Users\zagzo\Downloads\UniServerZ\www\chat/plugins/docs/docs.php
[25-Mar-2025 21:21:27 Europe/London] PluginManager: Loaded plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 21:21:27 Europe/London] PluginManager: Active plugins: Array
(
    [0] => LLMModelSelector
    [1] => N8nWebhookHandler
)

[25-Mar-2025 21:21:27 Europe/London] === Starting message creation process ===
[25-Mar-2025 21:21:27 Europe/London] User authenticated successfully - User ID: 3
[25-Mar-2025 21:21:27 Europe/London] Received message data: {"conversation_id":"131","content":"Hi"}
[25-Mar-2025 21:21:27 Europe/London] Message data validation passed
[25-Mar-2025 21:21:27 Europe/London] Fetching conversation and plugin info for conversation ID: 131
[25-Mar-2025 21:21:27 Europe/London] Found conversation - Plugin ID: 9, Plugin Name: N8nWebhookHandler, Plugin Active: yes
[25-Mar-2025 21:21:27 Europe/London] Created message data structure
[25-Mar-2025 21:21:27 Europe/London] Attempting to get plugin instance for: N8nWebhookHandler
[25-Mar-2025 21:21:27 Europe/London] Successfully got plugin instance of class: N8nWebhookHandler
[25-Mar-2025 21:21:27 Europe/London] Plugin hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 21:21:27 Europe/London] Executing before_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 21:21:27 Europe/London] Plugin N8nWebhookHandler: Executing hook before_send_message
[25-Mar-2025 21:21:27 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 21:21:27 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for before_send_message
[25-Mar-2025 21:21:27 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 21:21:27 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"131","content":"Hi","role":"user"}
[25-Mar-2025 21:21:27 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 21:21:27 Europe/London] N8nWebhookHandler: Sending request data: {"message":"Hi","conversation_id":"131","timestamp":"2025-03-25 21:21:27"}
[25-Mar-2025 21:21:27 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 21:21:29 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying [2606:4700:3030::6815:3001]:443...
*   Trying 104.21.112.1:443...
* Connected to n8n.mazcode.com (2606:4700:3030::6815:3001) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 21:21:28 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=QAw5yql9r3QdOrnl7TvIcukJvEt4kub8ygyQ2XlvxBaVeqt%2BwKa3JtMzY1EKJRNg%2BT351OOoBY1%2B5whNDJTiS20wILujWfSQQgfFSg3YULl8vLb7p5qEq4%2F1QA5ChIIV89%2BcDIpOZsBb5Zrcr50%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 926175443e78ee61-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=163256&min_rtt=114676&rtt_var=56278&sent=8&recv=9&lost=0&retrans=0&sent_bytes=3409&recv_bytes=908&delivery_rate=35578&cwnd=254&unsent_bytes=0&cid=9192e016ef6bf885&ts=1010&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 21:21:29 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 21:21:29 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 21:21:29 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 21:21:29 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully with result: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 21:21:29 Europe/London] before_send_message hook executed successfully
[25-Mar-2025 21:21:29 Europe/London] Got response from before_send_message: مرحبًا! كيف يمكنني مساعدتك اليوم؟
[25-Mar-2025 21:21:29 Europe/London] Saving message to database
[25-Mar-2025 21:21:29 Europe/London] Message saved successfully with ID: 120
[25-Mar-2025 21:21:29 Europe/London] Executing after_send_message hook for plugin: N8nWebhookHandler
[25-Mar-2025 21:21:29 Europe/London] Plugin N8nWebhookHandler: Executing hook after_send_message
[25-Mar-2025 21:21:29 Europe/London] Plugin N8nWebhookHandler: Available hooks: Array
(
    [before_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [after_send_message] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => processMessage
                        )

                    [priority] => 10
                )

        )

    [admin_settings_page] => Array
        (
            [0] => Array
                (
                    [callback] => Array
                        (
                            [0] => N8nWebhookHandler Object
                                (
                                    [name:protected] => N8nWebhookHandler
                                    [version:protected] => 1.0.0
                                    [description:protected] => Handles message processing through n8n webhooks
                                    [author:protected] => System Admin
                                    [config:protected] => Array
                                        (
                                        )

                                    [db:protected] => PDO Object
                                        (
                                        )

                                    [hooks:protected] => Array
 *RECURSION*
                                    [pluginId:N8nWebhookHandler:private] => 9
                                )

                            [1] => addSettingsPage
                        )

                    [priority] => 10
                )

        )

)

[25-Mar-2025 21:21:29 Europe/London] Plugin N8nWebhookHandler: Calling hook handler for after_send_message
[25-Mar-2025 21:21:29 Europe/London] N8nWebhookHandler: Starting message processing
[25-Mar-2025 21:21:29 Europe/London] N8nWebhookHandler: Message data: {"conversation_id":"131","content":"Hi","role":"user"}
[25-Mar-2025 21:21:29 Europe/London] N8nWebhookHandler: Using webhook URL: https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
[25-Mar-2025 21:21:29 Europe/London] N8nWebhookHandler: Sending request data: {"message":"Hi","conversation_id":"131","timestamp":"2025-03-25 21:21:29"}
[25-Mar-2025 21:21:29 Europe/London] N8nWebhookHandler: SSL certificate verification is disabled for testing
[25-Mar-2025 21:21:31 Europe/London] N8nWebhookHandler: Verbose curl output:
*   Trying [2606:4700:3030::6815:3001]:443...
* Connected to n8n.mazcode.com (2606:4700:3030::6815:3001) port 443
* ALPN: curl offers h2,http/1.1
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=mazcode.com
*  start date: Mar 21 01:54:39 2025 GMT
*  expire date: Jun 19 02:51:08 2025 GMT
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://n8n.mazcode.com/webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: n8n.mazcode.com]
* [HTTP/2] [1] [:path: /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [accept: application/json]
* [HTTP/2] [1] [content-length: 74]
> POST /webhook/b0e277cb-a3ab-40be-9c7d-2048c6bbad8f HTTP/2
Host: n8n.mazcode.com
Content-Type: application/json
Accept: application/json
Content-Length: 74

* old SSL session ID is stale, removing
< HTTP/2 200 
< date: Tue, 25 Mar 2025 21:21:30 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< vary: Accept-Encoding
< cf-cache-status: DYNAMIC
< report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=o494x0XFMKR9P1wqk4QS8ydJ%2FWyo%2FW3ppwz0539T2EEYcM4wA7ezycxtlqxgbm0%2F5uVZl4kbSBGrRJRh2zDT5rlR6pW%2BpP50FkZfZQm5EOELwi16A4KMEFYf3Qr9nujnEZ4aNR6c3sFUYoezjtU%3D"}],"group":"cf-nel","max_age":604800}
< nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
< server: cloudflare
< cf-ray: 9261754f9ac9522e-MXP
< alt-svc: h3=":443"; ma=86400
< server-timing: cfL4;desc="?proto=TCP&rtt=177201&min_rtt=151792&rtt_var=88731&sent=8&recv=9&lost=0&retrans=1&sent_bytes=4748&recv_bytes=908&delivery_rate=4719&cwnd=253&unsent_bytes=0&cid=83630af23a08fe25&ts=1540&x=0"
< 
* Connection #0 to host n8n.mazcode.com left intact

[25-Mar-2025 21:21:31 Europe/London] N8nWebhookHandler: Webhook response code: 200
[25-Mar-2025 21:21:31 Europe/London] N8nWebhookHandler: Webhook response: مرحبًا! كيف يمكنني مساعدتك اليوم في العثور على شريك حياتك المثالي؟
[25-Mar-2025 21:21:31 Europe/London] N8nWebhookHandler: Message successfully processed by webhook
[25-Mar-2025 21:21:31 Europe/London] Plugin N8nWebhookHandler: Hook handler executed successfully with result: مرحبًا! كيف يمكنني مساعدتك اليوم في العثور على شريك حياتك المثالي؟
[25-Mar-2025 21:21:31 Europe/London] after_send_message hook executed successfully
[25-Mar-2025 21:21:31 Europe/London] Saving plugin response to database: مرحبًا! كيف يمكنني مساعدتك اليوم في العثور على شريك حياتك المثالي؟
[25-Mar-2025 21:21:31 Europe/London] Plugin response saved with ID: 121
[25-Mar-2025 21:21:31 Europe/London] === Message creation process completed successfully ===
[25-Mar-2025 21:21:31 Europe/London] Sending response to client: {"success":true,"data":{"message":{"id":"120","conversation_id":"131","content":"Hi","role":"user"},"assistant_message":{"id":"121","conversation_id":"131","content":"\u0645\u0631\u062d\u0628\u064b\u0627! \u0643\u064a\u0641 \u064a\u0645\u0643\u0646\u0646\u064a \u0645\u0633\u0627\u0639\u062f\u062a\u0643 \u0627\u0644\u064a\u0648\u0645 \u0641\u064a \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u0634\u0631\u064a\u0643 \u062d\u064a\u0627\u062a\u0643 \u0627\u0644\u0645\u062b\u0627\u0644\u064a\u061f","role":"assistant"}}}
